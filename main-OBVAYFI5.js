import{$ as ve,$a as ce,$b as qn,A as et,Aa as It,Ab as Yr,B as Ci,Ba as Kt,Bb as go,C as tt,Ca as zn,Cb as hn,D as no,Da as Ei,Db as _o,E as fi,Ea as uo,Eb as $l,F as Hi,Fa as jl,Fb as nt,G as on,Ga as Hn,Gb as vo,H as ro,Ha as oe,Hb as un,I as Dt,Ia as le,Ib as ql,J as Dl,Ja as fo,Jb as Xl,K as Hr,Ka as Gr,Kb as Ne,L as Wi,La as Bl,Lb as bo,M as Ot,Ma as po,Mb as fn,N as so,Na as $r,Nb as Kr,O as Il,Oa as Si,Ob as pn,P as Rl,Pa as mo,Pb as mn,Q as oo,Qa as Zt,Qb as Ft,R as ao,Ra as Ul,Rb as Yl,S as Ai,Sa as De,Sb as Kl,T as ht,Ta as ln,Tb as Zl,U as Me,Ua as St,Ub as rt,V as kl,Va as Qt,Vb as Ql,W as it,Wa as zl,Wb as Jl,X as Je,Xa as Hl,Xb as yo,Y as Le,Ya as Wn,Yb as Zr,Z as lo,Za as xe,_ as Bn,_a as Rt,a as pe,aa as Ge,ab as xt,ac as Xn,b as Be,ba as Ue,bb as Wl,c as to,ca as Oe,cb as at,cc as $i,da as qe,db as Y,dc as Qr,e as hi,ea as Xe,eb as q,ec as gn,f as Sl,fa as co,fb as Ce,fc as ec,g as me,ga as Ol,gb as cn,gc as tc,h as kt,ha as ze,hb as dn,i as Pl,ia as ho,ib as ut,j as ui,ja as Fl,jb as qr,k as io,ka as be,kb as Ae,l as Br,la as He,lb as he,m as Re,ma as Ll,mb as Pi,n as yt,na as Se,nb as _t,o as zi,oa as Wr,ob as Vt,p as gt,pa as Nl,pb as wt,q as Pe,qa as pi,qb as Ke,r as ei,ra as mi,rb as Ze,s as Ur,sa as Un,sb as Gn,t as Tl,ta as Yt,tb as re,u as ke,ua as ue,ub as $n,v as Vn,va as ye,vb as Qe,w as Ht,wa as Gi,wb as ft,x as zr,xa as Vl,xb as Ye,y as jn,ya as an,yb as Gl,z as Ml,za as gi,zb as Xr}from"./chunk-IEQWCEX5.js";var Ks=hi(()=>{"use strict"});var Nh=hi((Bw,Lh)=>{"use strict";var xv="bold|bolder|lighter|[1-9]00",wv="italic|oblique",Cv="small-caps",Av="ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",Ev="px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q",Fh=`'([^']+)'|"([^"]+)"|[\\w\\s-]+`,Sv=new RegExp(`(${xv}) +`,"i"),Pv=new RegExp(`(${wv}) +`,"i"),Tv=new RegExp(`(${Cv}) +`,"i"),Mv=new RegExp(`(${Av}) +`,"i"),Dv=new RegExp(`([\\d\\.]+)(${Ev}) *((?:${Fh})( *, *(?:${Fh}))*)`),bl={},Iv=16;Lh.exports=n=>{if(bl[n])return bl[n];let e=Dv.exec(n);if(!e)return;let r={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(e[1]),unit:e[2],family:e[3].replace(/["']/g,"").replace(/ *, */g,",")},t,i,s,o,d=n.substring(0,e.index);switch((t=Sv.exec(d))&&(r.weight=t[1]),(i=Pv.exec(d))&&(r.style=i[1]),(s=Tv.exec(d))&&(r.variant=s[1]),(o=Mv.exec(d))&&(r.stretch=o[1]),r.unit){case"pt":r.size/=.75;break;case"pc":r.size*=16;break;case"in":r.size*=96;break;case"cm":r.size*=96/2.54;break;case"mm":r.size*=96/25.4;break;case"%":break;case"em":case"rem":r.size*=Iv/.75;break;case"q":r.size*=96/25.4/4;break}return bl[n]=r}});var Vh=hi(Fr=>{"use strict";var Rv=Nh();Fr.parseFont=Rv;Fr.createCanvas=function(n,e){return Object.assign(document.createElement("canvas"),{width:n,height:e})};Fr.createImageData=function(n,e,r){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(n);case 2:return new ImageData(n,e);default:return new ImageData(n,e,r)}};Fr.loadImage=function(n,e){return new Promise(function(r,t){let i=Object.assign(document.createElement("img"),e);function s(){i.onload=null,i.onerror=null}i.onload=function(){s(),r(i)},i.onerror=function(){s(),t(new Error('Failed to load the image "'+n+'"'))},i.src=n})}});var jh=hi(()=>{"use strict"});var yl=hi(()=>{"use strict"});var xl=hi(()=>{"use strict"});var Bh=hi(()=>{"use strict"});var Uh=hi((exports,module)=>{"use strict";(function(e,r){typeof exports=="object"&&typeof module=="object"?module.exports=e.pdfjsLib=r():typeof define=="function"&&define.amd?define("pdfjs-dist/build/pdf",[],()=>e.pdfjsLib=r()):typeof exports=="object"?exports["pdfjs-dist/build/pdf"]=e.pdfjsLib=r():e["pdfjs-dist/build/pdf"]=e.pdfjsLib=r()})(globalThis,()=>(()=>{"use strict";var __webpack_modules__=[,(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationReplyType=e.AnnotationPrefix=e.AnnotationMode=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=C,e.bytesToString=H,e.createValidAbsoluteUrl=P,e.getModificationDate=pt,e.getUuid=zt,e.getVerbosityLevel=V,e.info=z,e.isArrayBuffer=Ve,e.isArrayEqual=Et,e.isNodeJS=void 0,e.normalizeUnicode=Fn,e.objectFromMap=W,e.objectSize=ee,e.setVerbosityLevel=Z,e.shadow=L,e.string32=se,e.stringToBytes=X,e.stringToPDFString=we,e.stringToUTF8String=Ee,e.unreachable=y,e.utf8StringToString=Te,e.warn=I;let r=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=r;let t=[1,0,0,1,0,0];e.IDENTITY_MATRIX=t;let i=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=i;let s=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=s;let o=1.35;e.LINE_FACTOR=o;let d=.35;e.LINE_DESCENT_FACTOR=d;let _=d/o;e.BASELINE_FACTOR=_;let u={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=u;let c={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=c;let a="pdfjs_internal_editor_";e.AnnotationEditorPrefix=a;let l={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};e.AnnotationEditorType=l;let p={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};e.AnnotationEditorParamsType=p;let f={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=f;let h={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=h;let v={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=v;let m={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=m;let E={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=E;let g={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=g;let b={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=b;let w={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=w;let S={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=S;let T={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=T;let R={O:"PageOpen",C:"PageClose"};e.PageActionEventType=R;let k={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=k;let U={NONE:0,BINARY:1};e.CMapCompressionType=U;let G={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=G;let $={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=$;let J=k.WARNINGS;function Z(de){Number.isInteger(de)&&(J=de)}function V(){return J}function z(de){J>=k.INFOS&&console.log(`Info: ${de}`)}function I(de){J>=k.WARNINGS&&console.log(`Warning: ${de}`)}function y(de){throw new Error(de)}function C(de,ne){de||y(ne)}function A(de){switch(de?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function P(de,ne=null,ie=null){if(!de)return null;try{if(ie&&typeof de=="string"&&(ie.addDefaultProtocol&&de.startsWith("www.")&&de.match(/\./g)?.length>=2&&(de=`http://${de}`),ie.tryConvertEncoding))try{de=Ee(de)}catch{}let _e=ne?new URL(de,ne):new URL(de);if(A(_e))return _e}catch{}return null}function L(de,ne,ie,_e=!1){return Object.defineProperty(de,ne,{value:ie,enumerable:!_e,configurable:!0,writable:!1}),ie}let O=function(){function ne(ie,_e){this.constructor===ne&&y("Cannot initialize BaseException."),this.message=ie,this.name=_e}return ne.prototype=new Error,ne.constructor=ne,ne}();e.BaseException=O;class B extends O{constructor(ne,ie){super(ne,"PasswordException"),this.code=ie}}e.PasswordException=B;class N extends O{constructor(ne,ie){super(ne,"UnknownErrorException"),this.details=ie}}e.UnknownErrorException=N;class x extends O{constructor(ne){super(ne,"InvalidPDFException")}}e.InvalidPDFException=x;class M extends O{constructor(ne){super(ne,"MissingPDFException")}}e.MissingPDFException=M;class D extends O{constructor(ne,ie){super(ne,"UnexpectedResponseException"),this.status=ie}}e.UnexpectedResponseException=D;class F extends O{constructor(ne){super(ne,"FormatError")}}e.FormatError=F;class j extends O{constructor(ne){super(ne,"AbortException")}}e.AbortException=j;function H(de){(typeof de!="object"||de?.length===void 0)&&y("Invalid argument for bytesToString");let ne=de.length,ie=8192;if(ne<ie)return String.fromCharCode.apply(null,de);let _e=[];for(let je=0;je<ne;je+=ie){let ct=Math.min(je+ie,ne),ot=de.subarray(je,ct);_e.push(String.fromCharCode.apply(null,ot))}return _e.join("")}function X(de){typeof de!="string"&&y("Invalid argument for stringToBytes");let ne=de.length,ie=new Uint8Array(ne);for(let _e=0;_e<ne;++_e)ie[_e]=de.charCodeAt(_e)&255;return ie}function se(de){return String.fromCharCode(de>>24&255,de>>16&255,de>>8&255,de&255)}function ee(de){return Object.keys(de).length}function W(de){let ne=Object.create(null);for(let[ie,_e]of de)ne[ie]=_e;return ne}function Q(){let de=new Uint8Array(4);return de[0]=1,new Uint32Array(de.buffer,0,1)[0]===1}function K(){try{return new Function(""),!0}catch{return!1}}class te{static get isLittleEndian(){return L(this,"isLittleEndian",Q())}static get isEvalSupported(){return L(this,"isEvalSupported",K())}static get isOffscreenCanvasSupported(){return L(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?L(this,"platform",{isWin:!1,isMac:!1}):L(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return L(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}e.FeatureTest=te;let ae=[...Array(256).keys()].map(de=>de.toString(16).padStart(2,"0"));class fe{static makeHexColor(ne,ie,_e){return`#${ae[ne]}${ae[ie]}${ae[_e]}`}static scaleMinMax(ne,ie){let _e;ne[0]?(ne[0]<0&&(_e=ie[0],ie[0]=ie[1],ie[1]=_e),ie[0]*=ne[0],ie[1]*=ne[0],ne[3]<0&&(_e=ie[2],ie[2]=ie[3],ie[3]=_e),ie[2]*=ne[3],ie[3]*=ne[3]):(_e=ie[0],ie[0]=ie[2],ie[2]=_e,_e=ie[1],ie[1]=ie[3],ie[3]=_e,ne[1]<0&&(_e=ie[2],ie[2]=ie[3],ie[3]=_e),ie[2]*=ne[1],ie[3]*=ne[1],ne[2]<0&&(_e=ie[0],ie[0]=ie[1],ie[1]=_e),ie[0]*=ne[2],ie[1]*=ne[2]),ie[0]+=ne[4],ie[1]+=ne[4],ie[2]+=ne[5],ie[3]+=ne[5]}static transform(ne,ie){return[ne[0]*ie[0]+ne[2]*ie[1],ne[1]*ie[0]+ne[3]*ie[1],ne[0]*ie[2]+ne[2]*ie[3],ne[1]*ie[2]+ne[3]*ie[3],ne[0]*ie[4]+ne[2]*ie[5]+ne[4],ne[1]*ie[4]+ne[3]*ie[5]+ne[5]]}static applyTransform(ne,ie){let _e=ne[0]*ie[0]+ne[1]*ie[2]+ie[4],je=ne[0]*ie[1]+ne[1]*ie[3]+ie[5];return[_e,je]}static applyInverseTransform(ne,ie){let _e=ie[0]*ie[3]-ie[1]*ie[2],je=(ne[0]*ie[3]-ne[1]*ie[2]+ie[2]*ie[5]-ie[4]*ie[3])/_e,ct=(-ne[0]*ie[1]+ne[1]*ie[0]+ie[4]*ie[1]-ie[5]*ie[0])/_e;return[je,ct]}static getAxialAlignedBoundingBox(ne,ie){let _e=this.applyTransform(ne,ie),je=this.applyTransform(ne.slice(2,4),ie),ct=this.applyTransform([ne[0],ne[3]],ie),ot=this.applyTransform([ne[2],ne[1]],ie);return[Math.min(_e[0],je[0],ct[0],ot[0]),Math.min(_e[1],je[1],ct[1],ot[1]),Math.max(_e[0],je[0],ct[0],ot[0]),Math.max(_e[1],je[1],ct[1],ot[1])]}static inverseTransform(ne){let ie=ne[0]*ne[3]-ne[1]*ne[2];return[ne[3]/ie,-ne[1]/ie,-ne[2]/ie,ne[0]/ie,(ne[2]*ne[5]-ne[4]*ne[3])/ie,(ne[4]*ne[1]-ne[5]*ne[0])/ie]}static singularValueDecompose2dScale(ne){let ie=[ne[0],ne[2],ne[1],ne[3]],_e=ne[0]*ie[0]+ne[1]*ie[2],je=ne[0]*ie[1]+ne[1]*ie[3],ct=ne[2]*ie[0]+ne[3]*ie[2],ot=ne[2]*ie[1]+ne[3]*ie[3],bi=(_e+ot)/2,yi=Math.sqrt((_e+ot)**2-4*(_e*ot-ct*je))/2,di=bi+yi||1,bt=bi-yi||1;return[Math.sqrt(di),Math.sqrt(bt)]}static normalizeRect(ne){let ie=ne.slice(0);return ne[0]>ne[2]&&(ie[0]=ne[2],ie[2]=ne[0]),ne[1]>ne[3]&&(ie[1]=ne[3],ie[3]=ne[1]),ie}static intersect(ne,ie){let _e=Math.max(Math.min(ne[0],ne[2]),Math.min(ie[0],ie[2])),je=Math.min(Math.max(ne[0],ne[2]),Math.max(ie[0],ie[2]));if(_e>je)return null;let ct=Math.max(Math.min(ne[1],ne[3]),Math.min(ie[1],ie[3])),ot=Math.min(Math.max(ne[1],ne[3]),Math.max(ie[1],ie[3]));return ct>ot?null:[_e,ct,je,ot]}static bezierBoundingBox(ne,ie,_e,je,ct,ot,bi,yi){let di=[],bt=[[],[]],xi,wi,Nr,mt,Vr,jr,Qs,Js;for(let eo=0;eo<2;++eo){if(eo===0?(wi=6*ne-12*_e+6*ct,xi=-3*ne+9*_e-9*ct+3*bi,Nr=3*_e-3*ne):(wi=6*ie-12*je+6*ot,xi=-3*ie+9*je-9*ot+3*yi,Nr=3*je-3*ie),Math.abs(xi)<1e-12){if(Math.abs(wi)<1e-12)continue;mt=-Nr/wi,0<mt&&mt<1&&di.push(mt);continue}Qs=wi*wi-4*Nr*xi,Js=Math.sqrt(Qs),!(Qs<0)&&(Vr=(-wi+Js)/(2*xi),0<Vr&&Vr<1&&di.push(Vr),jr=(-wi-Js)/(2*xi),0<jr&&jr<1&&di.push(jr))}let Ln=di.length,Nt,Nn=Ln;for(;Ln--;)mt=di[Ln],Nt=1-mt,bt[0][Ln]=Nt*Nt*Nt*ne+3*Nt*Nt*mt*_e+3*Nt*mt*mt*ct+mt*mt*mt*bi,bt[1][Ln]=Nt*Nt*Nt*ie+3*Nt*Nt*mt*je+3*Nt*mt*mt*ot+mt*mt*mt*yi;return bt[0][Nn]=ne,bt[1][Nn]=ie,bt[0][Nn+1]=bi,bt[1][Nn+1]=yi,bt[0].length=bt[1].length=Nn+2,[Math.min(...bt[0]),Math.min(...bt[1]),Math.max(...bt[0]),Math.max(...bt[1])]}}e.Util=fe;let ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function we(de){if(de[0]>="\xEF"){let ie;if(de[0]==="\xFE"&&de[1]==="\xFF"?ie="utf-16be":de[0]==="\xFF"&&de[1]==="\xFE"?ie="utf-16le":de[0]==="\xEF"&&de[1]==="\xBB"&&de[2]==="\xBF"&&(ie="utf-8"),ie)try{let _e=new TextDecoder(ie,{fatal:!0}),je=X(de);return _e.decode(je)}catch(_e){I(`stringToPDFString: "${_e}".`)}}let ne=[];for(let ie=0,_e=de.length;ie<_e;ie++){let je=ge[de.charCodeAt(ie)];ne.push(je?String.fromCharCode(je):de.charAt(ie))}return ne.join("")}function Ee(de){return decodeURIComponent(escape(de))}function Te(de){return unescape(encodeURIComponent(de))}function Ve(de){return typeof de=="object"&&de?.byteLength!==void 0}function Et(de,ne){if(de.length!==ne.length)return!1;for(let ie=0,_e=de.length;ie<_e;ie++)if(de[ie]!==ne[ie])return!1;return!0}function pt(de=new Date){return[de.getUTCFullYear().toString(),(de.getUTCMonth()+1).toString().padStart(2,"0"),de.getUTCDate().toString().padStart(2,"0"),de.getUTCHours().toString().padStart(2,"0"),de.getUTCMinutes().toString().padStart(2,"0"),de.getUTCSeconds().toString().padStart(2,"0")].join("")}class Ut{#e=!1;constructor(){this.promise=new Promise((ne,ie)=>{this.resolve=_e=>{this.#e=!0,ne(_e)},this.reject=_e=>{this.#e=!0,ie(_e)}})}get settled(){return this.#e}}e.PromiseCapability=Ut;let dt=null,Xt=null;function Fn(de){return dt||(dt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Xt=new Map([["\uFB05","\u017Ft"]])),de.replaceAll(dt,(ne,ie,_e)=>ie?ie.normalize("NFKC"):Xt.get(_e))}function zt(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();let de=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(de);else for(let ne=0;ne<32;ne++)de[ne]=Math.floor(Math.random()*255);return H(de)}let vt="pdfjs_internal_id_";e.AnnotationPrefix=vt},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);let DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;let DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(n){if(typeof n=="string"||n instanceof URL?n={url:n}:(0,_util.isArrayBuffer)(n)&&(n={data:n}),typeof n!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!n.url&&!n.data&&!n.range)throw new Error("Invalid parameter object: need either .data, .range or .url");let e=new PDFDocumentLoadingTask,{docId:r}=e,t=n.url?getUrlProp(n.url):null,i=n.data?getDataProp(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,d=n.password??null,_=n.range instanceof PDFDataRangeTransport?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE,c=n.worker instanceof PDFWorker?n.worker:null,a=n.verbosity,l=typeof n.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,f=n.cMapPacked!==!1,h=n.CMapReaderFactory||DefaultCMapReaderFactory,v=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,m=n.StandardFontDataFactory||DefaultStandardFontDataFactory,E=n.stopAtErrors!==!0,g=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,b=n.isEvalSupported!==!1,w=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!_util.isNodeJS,S=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,T=typeof n.disableFontFace=="boolean"?n.disableFontFace:_util.isNodeJS,R=n.fontExtraProperties===!0,k=n.enableXfa===!0,U=n.ownerDocument||globalThis.document,G=n.disableRange===!0,$=n.disableStream===!0,J=n.disableAutoFetch===!0,Z=n.pdfBug===!0,V=_?_.length:n.length??NaN,z=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!_util.isNodeJS&&!T,I=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:h===_display_utils.DOMCMapReaderFactory&&m===_display_utils.DOMStandardFontDataFactory&&p&&v&&(0,_display_utils.isValidFetchUrl)(p,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(v,document.baseURI),y=n.canvasFactory||new DefaultCanvasFactory({ownerDocument:U}),C=n.filterFactory||new DefaultFilterFactory({docId:r,ownerDocument:U}),A=null;(0,_util.setVerbosityLevel)(a);let P={canvasFactory:y,filterFactory:C};if(I||(P.cMapReaderFactory=new h({baseUrl:p,isCompressed:f}),P.standardFontDataFactory=new m({baseUrl:v})),!c){let B={verbosity:a,port:_worker_options.GlobalWorkerOptions.workerPort};c=B.port?PDFWorker.fromPort(B):new PDFWorker(B),e._worker=c}let L={docId:r,apiVersion:"3.11.174",data:i,password:d,disableAutoFetch:J,rangeChunkSize:u,length:V,docBaseUrl:l,enableXfa:k,evaluatorOptions:{maxImageSize:g,disableFontFace:T,ignoreErrors:E,isEvalSupported:b,isOffscreenCanvasSupported:w,canvasMaxAreaInBytes:S,fontExtraProperties:R,useSystemFonts:z,cMapUrl:I?p:null,standardFontDataUrl:I?v:null}},O={ignoreErrors:E,isEvalSupported:b,disableFontFace:T,fontExtraProperties:R,enableXfa:k,ownerDocument:U,disableAutoFetch:J,pdfBug:Z,styleElement:A};return c.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");let B=_fetchDocument(c,L),N=new Promise(function(x){let M;_?M=new _transport_stream.PDFDataTransportStream({length:V,initialData:_.initialData,progressiveDone:_.progressiveDone,contentDispositionFilename:_.contentDispositionFilename,disableRange:G,disableStream:$},_):i||(M=(F=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(F):(0,_display_utils.isValidFetchUrl)(F.url)?new _displayFetch_stream.PDFFetchStream(F):new _displayNetwork.PDFNetworkStream(F))({url:t,length:V,httpHeaders:s,withCredentials:o,rangeChunkSize:u,disableRange:G,disableStream:$})),x(M)});return Promise.all([B,N]).then(function([x,M]){if(e.destroyed)throw new Error("Loading aborted");let D=new _message_handler.MessageHandler(r,x,c.port),F=new WorkerTransport(D,e,M,O,P);e._transport=F,D.send("Ready",null)})}).catch(e._capability.reject),e}function _fetchDocument(n,e){return me(this,null,function*(){if(n.destroyed)throw new Error("Worker was destroyed");let r=yield n.messageHandler.sendWithPromise("GetDocRequest",e,e.data?[e.data.buffer]:null);if(n.destroyed)throw new Error("Worker was destroyed");return r})}function getUrlProp(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(_util.isNodeJS&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(n){if(_util.isNodeJS&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return(0,_util.stringToBytes)(n);if(typeof n=="object"&&!isNaN(n?.length)||(0,_util.isArrayBuffer)(n))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){return me(this,null,function*(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),yield this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,r,t=!1,i=null){this.length=e,this.initialData=r,this.progressiveDone=t,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,r){for(let t of this._rangeListeners)t(e,r)}onDataProgress(e,r){this._readyCapability.promise.then(()=>{for(let t of this._progressListeners)t(e,r)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(let r of this._progressiveReadListeners)r(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,r){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,r){this._pdfInfo=e,this._transport=r,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(t=>{if(!t)return t;let i=[];for(let s in t)i.push(...t[s]);return i}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(e,r,t,i=!1){this._pageIndex=e,this._pageInfo=r,this._transport=t,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=t.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:r=this.rotate,offsetX:t=0,offsetY:i=0,dontFlip:s=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:r,offsetX:t,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){let r=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,r.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){return me(this,null,function*(){return this._transport._htmlForXfa?.children[this._pageIndex]||null})}render({canvasContext:e,viewport:r,intent:t="display",annotationMode:i=_util.AnnotationMode.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:d=null,annotationCanvasMap:_=null,pageColors:u=null,printAnnotationStorage:c=null}){this._stats?.time("Overall");let a=this._transport.getRenderingIntent(t,i,c);this.#t=!1,this.#n(),d||(d=this._transport.getOptionalContentConfig());let l=this._intentStates.get(a.cacheKey);l||(l=Object.create(null),this._intentStates.set(a.cacheKey,l)),l.streamReaderCancelTimeout&&(clearTimeout(l.streamReaderCancelTimeout),l.streamReaderCancelTimeout=null);let p=!!(a.renderingIntent&_util.RenderingIntentFlag.PRINT);l.displayReadyCapability||(l.displayReadyCapability=new _util.PromiseCapability,l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(a));let f=m=>{l.renderTasks.delete(h),(this._maybeCleanupAfterRender||p)&&(this.#t=!0),this.#i(!p),m?(h.capability.reject(m),this._abortOperatorList({intentState:l,reason:m instanceof Error?m:new Error(m)})):h.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},h=new InternalRenderTask({callback:f,params:{canvasContext:e,viewport:r,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:_,operatorList:l.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!p,pdfBug:this._pdfBug,pageColors:u});(l.renderTasks||=new Set).add(h);let v=h.task;return Promise.all([l.displayReadyCapability.promise,d]).then(([m,E])=>{if(this.destroyed){f();return}this._stats?.time("Rendering"),h.initializeGraphics({transparency:m,optionalContentConfig:E}),h.operatorListChanged()}).catch(f),v}getOperatorList({intent:e="display",annotationMode:r=_util.AnnotationMode.ENABLE,printAnnotationStorage:t=null}={}){function i(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(d))}let s=this._transport.getRenderingIntent(e,r,t,!0),o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let d;return o.opListReadCapability||(d=Object.create(null),d.operatorListChanged=i,o.opListReadCapability=new _util.PromiseCapability,(o.renderTasks||=new Set).add(d),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:r=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:r===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(t=>_xfa_text.XfaText.textContent(t));let r=this.streamTextContent(e);return new Promise(function(t,i){function s(){o.read().then(function({value:_,done:u}){if(u){t(d);return}Object.assign(d.styles,_.styles),d.items.push(..._.items),s()},i)}let o=r.getReader(),d={items:[],styles:Object.create(null)};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let e=[];for(let r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(let t of r.renderTasks)e.push(t.completed),t.cancel();return this.objs.clear(),this.#t=!1,this.#n(),Promise.all(e)}cleanup(e=!1){this.#t=!0;let r=this.#i(!1);return e&&r&&(this._stats&&=new _display_utils.StatTimer),r}#i(e=!1){if(this.#n(),!this.#t||this.destroyed)return!1;if(e)return this.#e=setTimeout(()=>{this.#e=null,this.#i(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(let{renderTasks:r,operatorList:t}of this._intentStates.values())if(r.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#n(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(e,r){let t=this._intentStates.get(r);t&&(this._stats?.timeEnd("Page Request"),t.displayReadyCapability?.resolve(e))}_renderPageChunk(e,r){for(let t=0,i=e.length;t<i;t++)r.operatorList.fnArray.push(e.fnArray[t]),r.operatorList.argsArray.push(e.argsArray[t]);r.operatorList.lastChunk=e.lastChunk,r.operatorList.separateAnnots=e.separateAnnots;for(let t of r.renderTasks)t.operatorListChanged();e.lastChunk&&this.#i(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:r,annotationStorageSerializable:t}){let{map:i,transfers:s}=t,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:r,annotationStorage:i},s).getReader(),_=this._intentStates.get(r);_.streamReader=d;let u=()=>{d.read().then(({value:c,done:a})=>{if(a){_.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(c,_),u())},c=>{if(_.streamReader=null,!this._transport.destroyed){if(_.operatorList){_.operatorList.lastChunk=!0;for(let a of _.renderTasks)a.operatorListChanged();this.#i(!0)}if(_.displayReadyCapability)_.displayReadyCapability.reject(c);else if(_.opListReadCapability)_.opListReadCapability.reject(c);else throw c}})};u()}_abortOperatorList({intentState:e,reason:r,force:t=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!t){if(e.renderTasks.size>0)return;if(r instanceof _display_utils.RenderingCancelledException){let i=RENDERING_CANCELLED_TIMEOUT;r.extraDelay>0&&r.extraDelay<1e3&&(i+=r.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:r,force:!0})},i);return}}if(e.streamReader.cancel(new _util.AbortException(r.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(let[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(e,r){let t={data:structuredClone(e,r?{transfer:r}:null)};this.#t.then(()=>{for(let i of this.#e)i.call(this,t)})}addEventListener(e,r){this.#e.add(r)}removeEventListener(e,r){this.#e.delete(r)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;let PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof to=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){let n=document?.currentScript?.src;n&&(PDFWorkerUtil.fallbackWorkerSrc=n.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(n,e){let r;try{if(r=new URL(n),!r.origin||r.origin==="null")return!1}catch{return!1}let t=new URL(e,r);return r.origin===t.origin},PDFWorkerUtil.createCDNWrapper=function(n){let e=`importScripts("${n}");`;return URL.createObjectURL(new Blob([e]))}}class PDFWorker{static#workerPorts;constructor({name:n=null,port:e=null,verbosity:r=(0,_util.getVerbosityLevel)()}={}){if(this.name=n,this.destroyed=!1,this.verbosity=r,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,e){if(PDFWorker.#workerPorts?.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(n){this._port=n,this._messageHandler=new _message_handler.MessageHandler("main","worker",n),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:n}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,n)||(n=PDFWorkerUtil.createCDNWrapper(new URL(n,window.location).href));let e=new Worker(n),r=new _message_handler.MessageHandler("main","worker",e),t=()=>{e.removeEventListener("error",i),r.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||t()};e.addEventListener("error",i),r.on("test",o=>{if(e.removeEventListener("error",i),this.destroyed){t();return}o?(this._messageHandler=r,this._port=e,this._webWorker=e,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),r.destroy(),e.terminate())}),r.on("ready",o=>{if(e.removeEventListener("error",i),this.destroyed){t();return}try{s()}catch{this._setupFakeWorker()}});let s=()=>{let o=new Uint8Array;r.send("test",o,[o.buffer])};s();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(n=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let e=new LoopbackPort;this._port=e;let r=`fake${PDFWorkerUtil.fakeWorkerId++}`,t=new _message_handler.MessageHandler(r+"_worker",r,e);n.setup(t,e);let i=new _message_handler.MessageHandler(r,r+"_worker",e);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})}).catch(n=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${n.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(n){if(!n?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");let e=this.#workerPorts?.get(n.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new PDFWorker(n)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){let loader=()=>me(this,null,function*(){let mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof to=="function"){let worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#i=new Map;#n=null;constructor(e,r,t,i,s){this.messageHandler=e,this.loadingTask=r,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=t,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#a(e,r=null){let t=this.#e.get(e);if(t)return t;let i=this.messageHandler.sendWithPromise(e,r);return this.#e.set(e,i),i}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(e,r=_util.AnnotationMode.ENABLE,t=null,i=!1){let s=_util.RenderingIntentFlag.DISPLAY,o=_annotation_storage.SerializableEmpty;switch(e){case"any":s=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":s=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(r){case _util.AnnotationMode.DISABLE:s+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:s+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:s+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,o=(s&_util.RenderingIntentFlag.PRINT&&t instanceof _annotation_storage.PrintAnnotationStorage?t:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${r}`)}return i&&(s+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:s,cacheKey:`${s}_${o.hash}`,annotationStorageSerializable:o}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#n?.reject(new Error("Worker was destroyed during onPassword callback"));let e=[];for(let t of this.#t.values())e.push(t._destroy());this.#t.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let r=this.messageHandler.sendWithPromise("Terminate",null);return e.push(r),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:e,loadingTask:r}=this;e.on("GetReader",(t,i)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}(0,_util.assert)(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",t=>{let i=new _util.PromiseCapability,s=this._fullReader;return s.headersReady.then(()=>{(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&r.onProgress?.(this._lastProgress),s.onProgress=o=>{r.onProgress?.({loaded:o.loaded,total:o.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(t,i)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let s=this._networkStream.getRangeReader(t.begin,t.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:d}){if(d){i.close();return}(0,_util.assert)(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(d=>{if(!this.destroyed)throw d})}}),e.on("GetDoc",({pdfInfo:t})=>{this._numPages=t.numPages,this._htmlForXfa=t.htmlForXfa,delete t.htmlForXfa,r._capability.resolve(new PDFDocumentProxy(t,this))}),e.on("DocException",function(t){let i;switch(t.name){case"PasswordException":i=new _util.PasswordException(t.message,t.code);break;case"InvalidPDFException":i=new _util.InvalidPDFException(t.message);break;case"MissingPDFException":i=new _util.MissingPDFException(t.message);break;case"UnexpectedResponseException":i=new _util.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":i=new _util.UnknownErrorException(t.message,t.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}r._capability.reject(i)}),e.on("PasswordRequest",t=>{if(this.#n=new _util.PromiseCapability,r.onPassword){let i=s=>{s instanceof Error?this.#n.reject(s):this.#n.resolve({password:s})};try{r.onPassword(i,t.code)}catch(s){this.#n.reject(s)}}else this.#n.reject(new _util.PasswordException(t.message,t.code));return this.#n.promise}),e.on("DataLoaded",t=>{r.onProgress?.({loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)}),e.on("StartRenderPage",t=>{if(this.destroyed)return;this.#t.get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)}),e.on("commonobj",([t,i,s])=>{if(!this.destroyed&&!this.commonObjs.has(t))switch(i){case"Font":let o=this._params;if("error"in s){let u=s.error;(0,_util.warn)(`Error during font loading: ${u}`),this.commonObjs.resolve(t,u);break}let d=o.pdfBug&&globalThis.FontInspector?.enabled?(u,c)=>globalThis.FontInspector.fontAdded(u,c):null,_=new _font_loader.FontFaceObject(s,{isEvalSupported:o.isEvalSupported,disableFontFace:o.disableFontFace,ignoreErrors:o.ignoreErrors,inspectFont:d});this.fontLoader.bind(_).catch(u=>e.sendWithPromise("FontFallback",{id:t})).finally(()=>{!o.fontExtraProperties&&_.data&&(_.data=null),this.commonObjs.resolve(t,_)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(t,s);break;default:throw new Error(`Got unknown common object type ${i}`)}}),e.on("obj",([t,i,s,o])=>{if(this.destroyed)return;let d=this.#t.get(i);if(!d.objs.has(t))switch(s){case"Image":if(d.objs.resolve(t,o),o){let _;if(o.bitmap){let{width:u,height:c}=o;_=u*c*4}else _=o.data?.length||0;_>_util.MAX_IMAGE_SIZE_TO_CACHE&&(d._maybeCleanupAfterRender=!0)}break;case"Pattern":d.objs.resolve(t,o);break;default:throw new Error(`Got unknown object type ${s}`)}}),e.on("DocProgress",t=>{this.destroyed||r.onProgress?.({loaded:t.loaded,total:t.total})}),e.on("FetchBuiltInCMap",t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map:e,transfers:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},r).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));let r=e-1,t=this.#i.get(r);if(t)return t;let i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");let o=new PDFPageProxy(r,s,this,this._params.pdfBug);return this.#t.set(r,o),o});return this.#i.set(r,i),i}getPageIndex(e){return typeof e!="object"||e===null||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:r})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(e=>new _optional_content_config.OptionalContentConfig(e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){let e="GetMetadata",r=this.#e.get(e);if(r)return r;let t=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new _metadata.Metadata(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,t),t}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(e=!1){return me(this,null,function*(){if(!this.destroyed){yield this.messageHandler.sendWithPromise("Cleanup",null);for(let r of this.#t.values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}})}get loadingParams(){let{disableAutoFetch:e,enableXfa:r}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e,enableXfa:r})}}class PDFObjects{#e=Object.create(null);#t(e){return this.#e[e]||={capability:new _util.PromiseCapability,data:null}}get(e,r=null){if(r){let i=this.#t(e);return i.capability.promise.then(()=>r(i.data)),null}let t=this.#e[e];if(!t?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return t.data}has(e){return this.#e[e]?.capability.settled||!1}resolve(e,r=null){let t=this.#t(e);t.data=r,t.capability.resolve()}clear(){for(let e in this.#e){let{data:r}=this.#e[e];r?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(e){this.#e=e,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){let{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;let{annotationCanvasMap:r}=this.#e;return e.form||e.canvas&&r?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:e,params:r,objs:t,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:d,canvasFactory:_,filterFactory:u,useRequestAnimationFrame:c=!1,pdfBug:a=!1,pageColors:l=null}){this.callback=e,this.params=r,this.objs=t,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=d,this.canvasFactory=_,this.filterFactory=u,this._pdfBug=a,this.pageColors=l,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:r}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:t,viewport:i,transform:s,background:o}=this.params;this.gfx=new _canvas.CanvasGraphics(t,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:r},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,r=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,r))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return me(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))})}}let version="3.11.174";exports.version=version;let build="ce8716743";exports.build=build},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableEmpty=e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var t=r(1),i=r(4),s=r(8);let o=Object.freeze({map:null,hash:"",transfers:void 0});e.SerializableEmpty=o;class d{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(c,a){let l=this.#t.get(c);return l===void 0?a:Object.assign(a,l)}getRawValue(c){return this.#t.get(c)}remove(c){if(this.#t.delete(c),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(let a of this.#t.values())if(a instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(c,a){let l=this.#t.get(c),p=!1;if(l!==void 0)for(let[f,h]of Object.entries(a))l[f]!==h&&(p=!0,l[f]=h);else p=!0,this.#t.set(c,a);p&&this.#i(),a instanceof i.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(a.constructor._type)}has(c){return this.#t.has(c)}getAll(){return this.#t.size>0?(0,t.objectFromMap)(this.#t):null}setAll(c){for(let[a,l]of Object.entries(c))this.setValue(a,l)}get size(){return this.#t.size}#i(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new _(this)}get serializable(){if(this.#t.size===0)return o;let c=new Map,a=new s.MurmurHash3_64,l=[],p=Object.create(null),f=!1;for(let[h,v]of this.#t){let m=v instanceof i.AnnotationEditor?v.serialize(!1,p):v;m&&(c.set(h,m),a.update(`${h}:${JSON.stringify(m)}`),f||=!!m.bitmap)}if(f)for(let h of c.values())h.bitmap&&l.push(h.bitmap);return c.size>0?{map:c,hash:a.hexdigest(),transfers:l}:o}}e.AnnotationStorage=d;class _ extends d{#e;constructor(c){super();let{map:a,hash:l,transfers:p}=c.serializable,f=structuredClone(a,p?{transfer:p}:null);this.#e={map:f,hash:l,transfers:p}}get print(){(0,t.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}e.PrintAnnotationStorage=_},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var t=r(5),i=r(1),s=r(6);class o{#e="";#t=!1;#i=null;#n=null;#a=null;#s=!1;#o=null;#l=this.focusin.bind(this);#c=this.focusout.bind(this);#r=!1;#d=!1;#h=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#f=!1;#p=o._zIndex++;static _borderLineWidth=-1;static _colorManager=new t.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(u){this.constructor===o&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=u.parent,this.id=u.id,this.width=this.height=null,this.pageIndex=u.parent.pageIndex,this.name=u.name,this.div=null,this._uiManager=u.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=u.isCentered,this._structTreeParentId=null;let{rotation:c,rawDims:{pageWidth:a,pageHeight:l,pageX:p,pageY:f}}=this.parent.viewport;this.rotation=c,this.pageRotation=(360+c-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[a,l],this.pageTranslation=[p,f];let[h,v]=this.parentDimensions;this.x=u.x/h,this.y=u.y/v,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(u){let c=new d({id:u.parent.getNextId(),parent:u.parent,uiManager:u._uiManager});c.annotationElementId=u.annotationElementId,c.deleted=!0,c._uiManager.addToAnnotationStorage(c)}static initialize(u,c=null){if(o._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(l=>[l,u.get(l)])),c?.strings)for(let l of c.strings)o._l10nPromise.set(l,u.get(l));if(o._borderLineWidth!==-1)return;let a=getComputedStyle(document.documentElement);o._borderLineWidth=parseFloat(a.getPropertyValue("--outline-width"))||0}static updateDefaultParams(u,c){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(u){return!1}static paste(u,c){(0,i.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#f}set _isDraggable(u){this.#f=u,this.div?.classList.toggle("draggable",u)}center(){let[u,c]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*c/(u*2),this.y+=this.width*u/(c*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*c/(u*2),this.y-=this.width*u/(c*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(u){this._uiManager.addCommands(u)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(u){u!==null&&(this.pageIndex=u.pageIndex,this.pageDimensions=u.pageDimensions),this.parent=u}focusin(u){this._focusEventsAllowed&&(this.#r?this.#r=!1:this.parent.setSelected(this))}focusout(u){!this._focusEventsAllowed||!this.isAttachedToDOM||u.relatedTarget?.closest(`#${this.id}`)||(u.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(u,c,a,l){let[p,f]=this.parentDimensions;[a,l]=this.screenToPageTranslation(a,l),this.x=(u+a)/p,this.y=(c+l)/f,this.fixAndSetPosition()}#m([u,c],a,l){[a,l]=this.screenToPageTranslation(a,l),this.x+=a/u,this.y+=l/c,this.fixAndSetPosition()}translate(u,c){this.#m(this.parentDimensions,u,c)}translateInPage(u,c){this.#m(this.pageDimensions,u,c),this.div.scrollIntoView({block:"nearest"})}drag(u,c){let[a,l]=this.parentDimensions;if(this.x+=u/a,this.y+=c/l,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){let{x:m,y:E}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,E)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:p,y:f}=this,[h,v]=this.#g();p+=h,f+=v,this.div.style.left=`${(100*p).toFixed(2)}%`,this.div.style.top=`${(100*f).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#g(){let[u,c]=this.parentDimensions,{_borderLineWidth:a}=o,l=a/u,p=a/c;switch(this.rotation){case 90:return[-l,p];case 180:return[l,p];case 270:return[l,-p];default:return[-l,-p]}}fixAndSetPosition(){let[u,c]=this.pageDimensions,{x:a,y:l,width:p,height:f}=this;switch(p*=u,f*=c,a*=u,l*=c,this.rotation){case 0:a=Math.max(0,Math.min(u-p,a)),l=Math.max(0,Math.min(c-f,l));break;case 90:a=Math.max(0,Math.min(u-f,a)),l=Math.min(c,Math.max(p,l));break;case 180:a=Math.min(u,Math.max(p,a)),l=Math.min(c,Math.max(f,l));break;case 270:a=Math.min(u,Math.max(f,a)),l=Math.max(0,Math.min(c-p,l));break}this.x=a/=u,this.y=l/=c;let[h,v]=this.#g();a+=h,l+=v;let{style:m}=this.div;m.left=`${(100*a).toFixed(2)}%`,m.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#_(u,c,a){switch(a){case 90:return[c,-u];case 180:return[-u,-c];case 270:return[-c,u];default:return[u,c]}}screenToPageTranslation(u,c){return o.#_(u,c,this.parentRotation)}pageTranslationToScreen(u,c){return o.#_(u,c,360-this.parentRotation)}#u(u){switch(u){case 90:{let[c,a]=this.pageDimensions;return[0,-c/a,a/c,0]}case 180:return[-1,0,0,-1];case 270:{let[c,a]=this.pageDimensions;return[0,c/a,-a/c,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{parentScale:u,pageDimensions:[c,a]}=this,l=c*u,p=a*u;return i.FeatureTest.isCSSRoundSupported?[Math.round(l),Math.round(p)]:[l,p]}setDims(u,c){let[a,l]=this.parentDimensions;this.div.style.width=`${(100*u/a).toFixed(2)}%`,this.#s||(this.div.style.height=`${(100*c/l).toFixed(2)}%`),this.#i?.classList.toggle("small",u<o.SMALL_EDITOR_SIZE||c<o.SMALL_EDITOR_SIZE)}fixDims(){let{style:u}=this.div,{height:c,width:a}=u,l=a.endsWith("%"),p=!this.#s&&c.endsWith("%");if(l&&p)return;let[f,h]=this.parentDimensions;l||(u.width=`${(100*parseFloat(a)/f).toFixed(2)}%`),!this.#s&&!p&&(u.height=`${(100*parseFloat(c)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#v(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");let u=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||u.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(let c of u){let a=document.createElement("div");this.#o.append(a),a.classList.add("resizer",c),a.addEventListener("pointerdown",this.#A.bind(this,c)),a.addEventListener("contextmenu",s.noContextMenu)}this.div.prepend(this.#o)}#A(u,c){c.preventDefault();let{isMac:a}=i.FeatureTest.platform;if(c.button!==0||c.ctrlKey&&a)return;let l=this.#y.bind(this,u),p=this._isDraggable;this._isDraggable=!1;let f={passive:!0,capture:!0};window.addEventListener("pointermove",l,f);let h=this.x,v=this.y,m=this.width,E=this.height,g=this.parent.div.style.cursor,b=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(c.target).cursor;let w=()=>{this._isDraggable=p,window.removeEventListener("pointerup",w),window.removeEventListener("blur",w),window.removeEventListener("pointermove",l,f),this.parent.div.style.cursor=g,this.div.style.cursor=b;let S=this.x,T=this.y,R=this.width,k=this.height;S===h&&T===v&&R===m&&k===E||this.addCommands({cmd:()=>{this.width=R,this.height=k,this.x=S,this.y=T;let[U,G]=this.parentDimensions;this.setDims(U*R,G*k),this.fixAndSetPosition()},undo:()=>{this.width=m,this.height=E,this.x=h,this.y=v;let[U,G]=this.parentDimensions;this.setDims(U*m,G*E),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",w),window.addEventListener("blur",w)}#y(u,c){let[a,l]=this.parentDimensions,p=this.x,f=this.y,h=this.width,v=this.height,m=o.MIN_SIZE/a,E=o.MIN_SIZE/l,g=N=>Math.round(N*1e4)/1e4,b=this.#u(this.rotation),w=(N,x)=>[b[0]*N+b[2]*x,b[1]*N+b[3]*x],S=this.#u(360-this.rotation),T=(N,x)=>[S[0]*N+S[2]*x,S[1]*N+S[3]*x],R,k,U=!1,G=!1;switch(u){case"topLeft":U=!0,R=(N,x)=>[0,0],k=(N,x)=>[N,x];break;case"topMiddle":R=(N,x)=>[N/2,0],k=(N,x)=>[N/2,x];break;case"topRight":U=!0,R=(N,x)=>[N,0],k=(N,x)=>[0,x];break;case"middleRight":G=!0,R=(N,x)=>[N,x/2],k=(N,x)=>[0,x/2];break;case"bottomRight":U=!0,R=(N,x)=>[N,x],k=(N,x)=>[0,0];break;case"bottomMiddle":R=(N,x)=>[N/2,x],k=(N,x)=>[N/2,0];break;case"bottomLeft":U=!0,R=(N,x)=>[0,x],k=(N,x)=>[N,0];break;case"middleLeft":G=!0,R=(N,x)=>[0,x/2],k=(N,x)=>[N,x/2];break}let $=R(h,v),J=k(h,v),Z=w(...J),V=g(p+Z[0]),z=g(f+Z[1]),I=1,y=1,[C,A]=this.screenToPageTranslation(c.movementX,c.movementY);if([C,A]=T(C/a,A/l),U){let N=Math.hypot(h,v);I=y=Math.max(Math.min(Math.hypot(J[0]-$[0]-C,J[1]-$[1]-A)/N,1/h,1/v),m/h,E/v)}else G?I=Math.max(m,Math.min(1,Math.abs(J[0]-$[0]-C)))/h:y=Math.max(E,Math.min(1,Math.abs(J[1]-$[1]-A)))/v;let P=g(h*I),L=g(v*y);Z=w(...k(P,L));let O=V-Z[0],B=z-Z[1];this.width=P,this.height=L,this.x=O,this.y=B,this.setDims(a*P,l*L),this.fixAndSetPosition()}addAltTextButton(){return me(this,null,function*(){if(this.#i)return;let u=this.#i=document.createElement("button");u.className="altText";let c=yield o._l10nPromise.get("editor_alt_text_button_label");u.textContent=c,u.setAttribute("aria-label",c),u.tabIndex="0",u.addEventListener("contextmenu",s.noContextMenu),u.addEventListener("pointerdown",a=>a.stopPropagation()),u.addEventListener("click",a=>{a.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),u.addEventListener("keydown",a=>{a.target===u&&a.key==="Enter"&&(a.preventDefault(),this._uiManager.editAltText(this))}),this.#x(),this.div.append(u),o.SMALL_EDITOR_SIZE||(o.SMALL_EDITOR_SIZE=Math.min(128,Math.round(u.getBoundingClientRect().width*1.4)))})}#x(){return me(this,null,function*(){let u=this.#i;if(!u)return;if(!this.#e&&!this.#t){u.classList.remove("done"),this.#n?.remove();return}o._l10nPromise.get("editor_alt_text_edit_button_label").then(a=>{u.setAttribute("aria-label",a)});let c=this.#n;if(!c){this.#n=c=document.createElement("span"),c.className="tooltip",c.setAttribute("role","tooltip");let a=c.id=`alt-text-tooltip-${this.id}`;u.setAttribute("aria-describedby",a);let l=100;u.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#n.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},l)}),u.addEventListener("mouseleave",()=>{clearTimeout(this.#a),this.#a=null,this.#n?.classList.remove("show")})}u.classList.add("done"),c.innerText=this.#t?yield o._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,c.parentNode||u.append(c)})}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData({altText:u,decorative:c}){this.#e===u&&this.#t===c||(this.#e=u,this.#t=c,this.#x())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#l),this.div.addEventListener("focusout",this.#c);let[u,c]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*c/u).toFixed(2)}%`,this.div.style.maxHeight=`${(100*u/c).toFixed(2)}%`);let[a,l]=this.getInitialTranslation();return this.translate(a,l),(0,t.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(u){let{isMac:c}=i.FeatureTest.platform;if(u.button!==0||u.ctrlKey&&c){u.preventDefault();return}this.#r=!0,this.#w(u)}#w(u){if(!this._isDraggable)return;let c=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let a,l;c&&(a={passive:!0,capture:!0},l=f=>{let[h,v]=this.screenToPageTranslation(f.movementX,f.movementY);this._uiManager.dragSelectedEditors(h,v)},window.addEventListener("pointermove",l,a));let p=()=>{if(window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),c&&window.removeEventListener("pointermove",l,a),this.#r=!1,!this._uiManager.endDragSession()){let{isMac:f}=i.FeatureTest.platform;u.ctrlKey&&!f||u.shiftKey||u.metaKey&&f?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",p),window.addEventListener("blur",p)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(u,c,a){u.changeParent(this),this.x=c,this.y=a,this.fixAndSetPosition()}getRect(u,c){let a=this.parentScale,[l,p]=this.pageDimensions,[f,h]=this.pageTranslation,v=u/a,m=c/a,E=this.x*l,g=this.y*p,b=this.width*l,w=this.height*p;switch(this.rotation){case 0:return[E+v+f,p-g-m-w+h,E+v+b+f,p-g-m+h];case 90:return[E+m+f,p-g+v+h,E+m+w+f,p-g+v+b+h];case 180:return[E-v-b+f,p-g+m+h,E-v+f,p-g+m+w+h];case 270:return[E-m-w+f,p-g-v-b+h,E-m+f,p-g-v+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(u,c){let[a,l,p,f]=u,h=p-a,v=f-l;switch(this.rotation){case 0:return[a,c-f,h,v];case 90:return[a,c-l,v,h];case 180:return[p,c-l,h,v];case 270:return[p,c-f,v,h];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#h=!0}disableEditMode(){this.#h=!1}isInEditMode(){return this.#h}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#l),this.div?.addEventListener("focusout",this.#c)}serialize(u=!1,c=null){(0,i.unreachable)("An editor must be serializable")}static deserialize(u,c,a){let l=new this.prototype.constructor({parent:c,id:c.getNextId(),uiManager:a});l.rotation=u.rotation;let[p,f]=l.pageDimensions,[h,v,m,E]=l.getRectInCurrentCoords(u.rect,f);return l.x=h/p,l.y=v/f,l.width=m/p,l.height=E/f,l}remove(){this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#c),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#i?.remove(),this.#i=null,this.#n=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#v(),this.#o.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(u,c){}disableEditing(){this.#i&&(this.#i.hidden=!0)}enableEditing(){this.#i&&(this.#i.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#d}set isEditing(u){this.#d=u,this.parent&&(u?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(u,c){this.#s=!0;let a=u/c,{style:l}=this.div;l.aspectRatio=a,l.height="auto"}static get MIN_SIZE(){return 16}}e.AnnotationEditor=o;class d extends o{constructor(u){super(u),this.annotationElementId=u.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=s,e.opacityToHex=o;var t=r(1),i=r(6);function s(p,f,h){for(let v of h)f.addEventListener(v,p[v].bind(p))}function o(p){return Math.round(Math.min(255,Math.max(1,255*p))).toString(16).padStart(2,"0")}class d{#e=0;getId(){return`${t.AnnotationEditorPrefix}${this.#e++}`}}class _{#e=(0,t.getUuid)();#t=0;#i=null;static get _isSVGFittingCanvas(){let f='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',v=new OffscreenCanvas(1,3).getContext("2d"),m=new Image;m.src=f;let E=m.decode().then(()=>(v.drawImage(m,0,0,1,1,0,0,1,3),new Uint32Array(v.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,t.shadow)(this,"_isSVGFittingCanvas",E)}#n(f,h){return me(this,null,function*(){this.#i||=new Map;let v=this.#i.get(f);if(v===null)return null;if(v?.bitmap)return v.refCounter+=1,v;try{v||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let m;if(typeof h=="string"){v.url=h;let E=yield fetch(h);if(!E.ok)throw new Error(E.statusText);m=yield E.blob()}else m=v.file=h;if(m.type==="image/svg+xml"){let E=_._isSVGFittingCanvas,g=new FileReader,b=new Image,w=new Promise((S,T)=>{b.onload=()=>{v.bitmap=b,v.isSvg=!0,S()},g.onload=()=>me(this,null,function*(){let R=v.svgUrl=g.result;b.src=(yield E)?`${R}#svgView(preserveAspectRatio(none))`:R}),b.onerror=g.onerror=T});g.readAsDataURL(m),yield w}else v.bitmap=yield createImageBitmap(m);v.refCounter=1}catch(m){console.error(m),v=null}return this.#i.set(f,v),v&&this.#i.set(v.id,v),v})}getFromFile(f){return me(this,null,function*(){let{lastModified:h,name:v,size:m,type:E}=f;return this.#n(`${h}_${v}_${m}_${E}`,f)})}getFromUrl(f){return me(this,null,function*(){return this.#n(f,f)})}getFromId(f){return me(this,null,function*(){this.#i||=new Map;let h=this.#i.get(f);return h?h.bitmap?(h.refCounter+=1,h):h.file?this.getFromFile(h.file):this.getFromUrl(h.url):null})}getSvgUrl(f){let h=this.#i.get(f);return h?.isSvg?h.svgUrl:null}deleteId(f){this.#i||=new Map;let h=this.#i.get(f);h&&(h.refCounter-=1,h.refCounter===0&&(h.bitmap=null))}isValidId(f){return f.startsWith(`image_${this.#e}_`)}}class u{#e=[];#t=!1;#i;#n=-1;constructor(f=128){this.#i=f}add({cmd:f,undo:h,mustExec:v,type:m=NaN,overwriteIfSameType:E=!1,keepUndo:g=!1}){if(v&&f(),this.#t)return;let b={cmd:f,undo:h,type:m};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(b);return}if(E&&this.#e[this.#n].type===m){g&&(b.undo=this.#e[this.#n].undo),this.#e[this.#n]=b;return}let w=this.#n+1;w===this.#i?this.#e.splice(0,1):(this.#n=w,w<this.#e.length&&this.#e.splice(w)),this.#e.push(b)}undo(){this.#n!==-1&&(this.#t=!0,this.#e[this.#n].undo(),this.#t=!1,this.#n-=1)}redo(){this.#n<this.#e.length-1&&(this.#n+=1,this.#t=!0,this.#e[this.#n].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}destroy(){this.#e=null}}e.CommandManager=u;class c{constructor(f){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac:h}=t.FeatureTest.platform;for(let[v,m,E={}]of f)for(let g of v){let b=g.startsWith("mac+");h&&b?(this.callbacks.set(g.slice(4),{callback:m,options:E}),this.allKeys.add(g.split("+").at(-1))):!h&&!b&&(this.callbacks.set(g,{callback:m,options:E}),this.allKeys.add(g.split("+").at(-1)))}}#e(f){f.altKey&&this.buffer.push("alt"),f.ctrlKey&&this.buffer.push("ctrl"),f.metaKey&&this.buffer.push("meta"),f.shiftKey&&this.buffer.push("shift"),this.buffer.push(f.key);let h=this.buffer.join("+");return this.buffer.length=0,h}exec(f,h){if(!this.allKeys.has(h.key))return;let v=this.callbacks.get(this.#e(h));if(!v)return;let{callback:m,options:{bubbles:E=!1,args:g=[],checker:b=null}}=v;b&&!b(f,h)||(m.bind(f,...g)(),E||(h.stopPropagation(),h.preventDefault()))}}e.KeyboardManager=c;class a{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let f=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)(f),(0,t.shadow)(this,"_colors",f)}convert(f){let h=(0,i.getRGB)(f);if(!window.matchMedia("(forced-colors: active)").matches)return h;for(let[v,m]of this._colors)if(m.every((E,g)=>E===h[g]))return a._colorsMapping.get(v);return h}getHexCode(f){let h=this._colors.get(f);return h?t.Util.makeHexColor(...h):f}}e.ColorManager=a;let l=(()=>{class p{#e=null;#t=new Map;#i=new Map;#n=null;#a=null;#s=new u;#o=0;#l=new Set;#c=null;#r=null;#d=new Set;#h=null;#f=new d;#p=!1;#m=!1;#g=null;#_=t.AnnotationEditorType.NONE;#u=new Set;#v=null;#A=this.blur.bind(this);#y=this.focus.bind(this);#x=this.copy.bind(this);#w=this.cut.bind(this);#k=this.paste.bind(this);#R=this.keydown.bind(this);#O=this.onEditingAction.bind(this);#b=this.onPageChanging.bind(this);#P=this.onScaleChanging.bind(this);#T=this.onRotationChanging.bind(this);#M={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#C=[0,0];#S=null;#D=null;#N=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){let h=p.prototype,v=g=>{let{activeElement:b}=document;return b&&g.#D.contains(b)&&g.hasSomethingToControl()},m=this.TRANSLATE_SMALL,E=this.TRANSLATE_BIG;return(0,t.shadow)(this,"_keyboardManager",new c([[["ctrl+a","mac+meta+a"],h.selectAll],[["ctrl+z","mac+meta+z"],h.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],h.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],h.delete],[["Escape","mac+Escape"],h.unselectAll],[["ArrowLeft","mac+ArrowLeft"],h.translateSelectedEditors,{args:[-m,0],checker:v}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],h.translateSelectedEditors,{args:[-E,0],checker:v}],[["ArrowRight","mac+ArrowRight"],h.translateSelectedEditors,{args:[m,0],checker:v}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],h.translateSelectedEditors,{args:[E,0],checker:v}],[["ArrowUp","mac+ArrowUp"],h.translateSelectedEditors,{args:[0,-m],checker:v}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],h.translateSelectedEditors,{args:[0,-E],checker:v}],[["ArrowDown","mac+ArrowDown"],h.translateSelectedEditors,{args:[0,m],checker:v}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],h.translateSelectedEditors,{args:[0,E],checker:v}]]))}constructor(h,v,m,E,g,b){this.#D=h,this.#N=v,this.#n=m,this._eventBus=E,this._eventBus._on("editingaction",this.#O),this._eventBus._on("pagechanging",this.#b),this._eventBus._on("scalechanging",this.#P),this._eventBus._on("rotationchanging",this.#T),this.#a=g.annotationStorage,this.#h=g.filterFactory,this.#v=b,this.viewParameters={realScale:i.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#F(),this.#j(),this._eventBus._off("editingaction",this.#O),this._eventBus._off("pagechanging",this.#b),this._eventBus._off("scalechanging",this.#P),this._eventBus._off("rotationchanging",this.#T);for(let h of this.#i.values())h.destroy();this.#i.clear(),this.#t.clear(),this.#d.clear(),this.#e=null,this.#u.clear(),this.#s.destroy(),this.#n.destroy()}get hcmFilter(){return(0,t.shadow)(this,"hcmFilter",this.#v?this.#h.addHCMFilter(this.#v.foreground,this.#v.background):"none")}get direction(){return(0,t.shadow)(this,"direction",getComputedStyle(this.#D).direction)}editAltText(h){this.#n?.editAltText(this,h)}onPageChanging({pageNumber:h}){this.#o=h-1}focusMainContainer(){this.#D.focus()}findParent(h,v){for(let m of this.#i.values()){let{x:E,y:g,width:b,height:w}=m.div.getBoundingClientRect();if(h>=E&&h<=E+b&&v>=g&&v<=g+w)return m}return null}disableUserSelect(h=!1){this.#N.classList.toggle("noUserSelect",h)}addShouldRescale(h){this.#d.add(h)}removeShouldRescale(h){this.#d.delete(h)}onScaleChanging({scale:h}){this.commitOrRemove(),this.viewParameters.realScale=h*i.PixelsPerInch.PDF_TO_CSS_UNITS;for(let v of this.#d)v.onScaleChanging()}onRotationChanging({pagesRotation:h}){this.commitOrRemove(),this.viewParameters.rotation=h}addToAnnotationStorage(h){!h.isEmpty()&&this.#a&&!this.#a.has(h.id)&&this.#a.setValue(h.id,h)}#V(){window.addEventListener("focus",this.#y),window.addEventListener("blur",this.#A)}#j(){window.removeEventListener("focus",this.#y),window.removeEventListener("blur",this.#A)}blur(){if(!this.hasSelection)return;let{activeElement:h}=document;for(let v of this.#u)if(v.div.contains(h)){this.#g=[v,h],v._focusEventsAllowed=!1;break}}focus(){if(!this.#g)return;let[h,v]=this.#g;this.#g=null,v.addEventListener("focusin",()=>{h._focusEventsAllowed=!0},{once:!0}),v.focus()}#B(){window.addEventListener("keydown",this.#R,{capture:!0})}#F(){window.removeEventListener("keydown",this.#R,{capture:!0})}#L(){document.addEventListener("copy",this.#x),document.addEventListener("cut",this.#w),document.addEventListener("paste",this.#k)}#I(){document.removeEventListener("copy",this.#x),document.removeEventListener("cut",this.#w),document.removeEventListener("paste",this.#k)}addEditListeners(){this.#B(),this.#L()}removeEditListeners(){this.#F(),this.#I()}copy(h){if(h.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;let v=[];for(let m of this.#u){let E=m.serialize(!0);E&&v.push(E)}v.length!==0&&h.clipboardData.setData("application/pdfjs",JSON.stringify(v))}cut(h){this.copy(h),this.delete()}paste(h){h.preventDefault();let{clipboardData:v}=h;for(let g of v.items)for(let b of this.#r)if(b.isHandlingMimeForPasting(g.type)){b.paste(g,this.currentLayer);return}let m=v.getData("application/pdfjs");if(!m)return;try{m=JSON.parse(m)}catch(g){(0,t.warn)(`paste: "${g.message}".`);return}if(!Array.isArray(m))return;this.unselectAll();let E=this.currentLayer;try{let g=[];for(let S of m){let T=E.deserialize(S);if(!T)return;g.push(T)}let b=()=>{for(let S of g)this.#H(S);this.#W(g)},w=()=>{for(let S of g)S.remove()};this.addCommands({cmd:b,undo:w,mustExec:!0})}catch(g){(0,t.warn)(`paste: "${g.message}".`)}}keydown(h){this.getActive()?.shouldGetKeyboardEvents()||p._keyboardManager.exec(this,h)}onEditingAction(h){["undo","redo","delete","selectAll"].includes(h.name)&&this[h.name]()}#E(h){Object.entries(h).some(([m,E])=>this.#M[m]!==E)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#M,h)})}#U(h){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:h})}setEditingState(h){h?(this.#V(),this.#B(),this.#L(),this.#E({isEditing:this.#_!==t.AnnotationEditorType.NONE,isEmpty:this.#z(),hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:this.#s.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#j(),this.#F(),this.#I(),this.#E({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(h){if(!this.#r){this.#r=h;for(let v of this.#r)this.#U(v.defaultPropertiesToUpdate)}}getId(){return this.#f.getId()}get currentLayer(){return this.#i.get(this.#o)}getLayer(h){return this.#i.get(h)}get currentPageIndex(){return this.#o}addLayer(h){this.#i.set(h.pageIndex,h),this.#p?h.enable():h.disable()}removeLayer(h){this.#i.delete(h.pageIndex)}updateMode(h,v=null){if(this.#_!==h){if(this.#_=h,h===t.AnnotationEditorType.NONE){this.setEditingState(!1),this.#$();return}this.setEditingState(!0),this.#G(),this.unselectAll();for(let m of this.#i.values())m.updateMode(h);if(v){for(let m of this.#t.values())if(m.annotationElementId===v){this.setSelected(m),m.enterInEditMode();break}}}}updateToolbar(h){h!==this.#_&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:h})}updateParams(h,v){if(this.#r){if(h===t.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(h);return}for(let m of this.#u)m.updateParams(h,v);for(let m of this.#r)m.updateDefaultParams(h,v)}}enableWaiting(h=!1){if(this.#m!==h){this.#m=h;for(let v of this.#i.values())h?v.disableClick():v.enableClick(),v.div.classList.toggle("waiting",h)}}#G(){if(!this.#p){this.#p=!0;for(let h of this.#i.values())h.enable()}}#$(){if(this.unselectAll(),this.#p){this.#p=!1;for(let h of this.#i.values())h.disable()}}getEditors(h){let v=[];for(let m of this.#t.values())m.pageIndex===h&&v.push(m);return v}getEditor(h){return this.#t.get(h)}addEditor(h){this.#t.set(h.id,h)}removeEditor(h){this.#t.delete(h.id),this.unselect(h),(!h.annotationElementId||!this.#l.has(h.annotationElementId))&&this.#a?.remove(h.id)}addDeletedAnnotationElement(h){this.#l.add(h.annotationElementId),h.deleted=!0}isDeletedAnnotationElement(h){return this.#l.has(h)}removeDeletedAnnotationElement(h){this.#l.delete(h.annotationElementId),h.deleted=!1}#H(h){let v=this.#i.get(h.pageIndex);v?v.addOrRebuild(h):this.addEditor(h)}setActiveEditor(h){this.#e!==h&&(this.#e=h,h&&this.#U(h.propertiesToUpdate))}toggleSelected(h){if(this.#u.has(h)){this.#u.delete(h),h.unselect(),this.#E({hasSelectedEditor:this.hasSelection});return}this.#u.add(h),h.select(),this.#U(h.propertiesToUpdate),this.#E({hasSelectedEditor:!0})}setSelected(h){for(let v of this.#u)v!==h&&v.unselect();this.#u.clear(),this.#u.add(h),h.select(),this.#U(h.propertiesToUpdate),this.#E({hasSelectedEditor:!0})}isSelected(h){return this.#u.has(h)}unselect(h){h.unselect(),this.#u.delete(h),this.#E({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#u.size!==0}undo(){this.#s.undo(),this.#E({hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#z()})}redo(){this.#s.redo(),this.#E({hasSomethingToUndo:!0,hasSomethingToRedo:this.#s.hasSomethingToRedo(),isEmpty:this.#z()})}addCommands(h){this.#s.add(h),this.#E({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#z()})}#z(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(let h of this.#t.values())return h.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;let h=[...this.#u],v=()=>{for(let E of h)E.remove()},m=()=>{for(let E of h)this.#H(E)};this.addCommands({cmd:v,undo:m,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#W(h){this.#u.clear();for(let v of h)v.isEmpty()||(this.#u.add(v),v.select());this.#E({hasSelectedEditor:!0})}selectAll(){for(let h of this.#u)h.commit();this.#W(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(let h of this.#u)h.unselect();this.#u.clear(),this.#E({hasSelectedEditor:!1})}}translateSelectedEditors(h,v,m=!1){if(m||this.commitOrRemove(),!this.hasSelection)return;this.#C[0]+=h,this.#C[1]+=v;let[E,g]=this.#C,b=[...this.#u],w=1e3;this.#S&&clearTimeout(this.#S),this.#S=setTimeout(()=>{this.#S=null,this.#C[0]=this.#C[1]=0,this.addCommands({cmd:()=>{for(let S of b)this.#t.has(S.id)&&S.translateInPage(E,g)},undo:()=>{for(let S of b)this.#t.has(S.id)&&S.translateInPage(-E,-g)},mustExec:!1})},w);for(let S of b)S.translateInPage(h,v)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#c=new Map;for(let h of this.#u)this.#c.set(h,{savedX:h.x,savedY:h.y,savedPageIndex:h.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#c)return!1;this.disableUserSelect(!1);let h=this.#c;this.#c=null;let v=!1;for(let[{x:E,y:g,pageIndex:b},w]of h)w.newX=E,w.newY=g,w.newPageIndex=b,v||=E!==w.savedX||g!==w.savedY||b!==w.savedPageIndex;if(!v)return!1;let m=(E,g,b,w)=>{if(this.#t.has(E.id)){let S=this.#i.get(w);S?E._setParentAndPosition(S,g,b):(E.pageIndex=w,E.x=g,E.y=b)}};return this.addCommands({cmd:()=>{for(let[E,{newX:g,newY:b,newPageIndex:w}]of h)m(E,g,b,w)},undo:()=>{for(let[E,{savedX:g,savedY:b,savedPageIndex:w}]of h)m(E,g,b,w)},mustExec:!0}),!0}dragSelectedEditors(h,v){if(this.#c)for(let m of this.#c.keys())m.drag(h,v)}rebuild(h){if(h.parent===null){let v=this.getLayer(h.pageIndex);v?(v.changeParent(h),v.addOrRebuild(h)):(this.addEditor(h),this.addToAnnotationStorage(h),h.rebuild())}else h.parent.addOrRebuild(h)}isActive(h){return this.#e===h}getActive(){return this.#e}getMode(){return this.#_}get imageManager(){return(0,t.shadow)(this,"imageManager",new _)}}return p})();e.AnnotationEditorUIManager=l},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=T,e.getColorValues=$,e.getCurrentTransform=J,e.getCurrentTransformInverse=Z,e.getFilenameFromUrl=m,e.getPdfFilenameFromUrl=E,e.getRGB=G,e.getXfaPageViewport=U,e.isDataScheme=h,e.isPdfFile=v,e.isValidFetchUrl=b,e.loadScript=S,e.noContextMenu=w,e.setLayerDimensions=V;var t=r(7),i=r(1);let s="http://www.w3.org/2000/svg";class o{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}e.PixelsPerInch=o;class d extends t.BaseFilterFactory{#e;#t;#i;#n;#a;#s;#o;#l;#c;#r;#d=0;constructor({docId:I,ownerDocument:y=globalThis.document}={}){super(),this.#i=I,this.#n=y}get#h(){return this.#e||=new Map}get#f(){if(!this.#t){let I=this.#n.createElement("div"),{style:y}=I;y.visibility="hidden",y.contain="strict",y.width=y.height=0,y.position="absolute",y.top=y.left=0,y.zIndex=-1;let C=this.#n.createElementNS(s,"svg");C.setAttribute("width",0),C.setAttribute("height",0),this.#t=this.#n.createElementNS(s,"defs"),I.append(C),C.append(this.#t),this.#n.body.append(I)}return this.#t}addFilter(I){if(!I)return"none";let y=this.#h.get(I);if(y)return y;let C,A,P,L;if(I.length===1){let x=I[0],M=new Array(256);for(let D=0;D<256;D++)M[D]=x[D]/255;L=C=A=P=M.join(",")}else{let[x,M,D]=I,F=new Array(256),j=new Array(256),H=new Array(256);for(let X=0;X<256;X++)F[X]=x[X]/255,j[X]=M[X]/255,H[X]=D[X]/255;C=F.join(","),A=j.join(","),P=H.join(","),L=`${C}${A}${P}`}if(y=this.#h.get(L),y)return this.#h.set(I,y),y;let O=`g_${this.#i}_transfer_map_${this.#d++}`,B=`url(#${O})`;this.#h.set(I,B),this.#h.set(L,B);let N=this.#m(O);return this.#_(C,A,P,N),B}addHCMFilter(I,y){let C=`${I}-${y}`;if(this.#s===C)return this.#o;if(this.#s=C,this.#o="none",this.#a?.remove(),!I||!y)return this.#o;let A=this.#u(I);I=i.Util.makeHexColor(...A);let P=this.#u(y);if(y=i.Util.makeHexColor(...P),this.#f.style.color="",I==="#000000"&&y==="#ffffff"||I===y)return this.#o;let L=new Array(256);for(let M=0;M<=255;M++){let D=M/255;L[M]=D<=.03928?D/12.92:((D+.055)/1.055)**2.4}let O=L.join(","),B=`g_${this.#i}_hcm_filter`,N=this.#l=this.#m(B);this.#_(O,O,O,N),this.#p(N);let x=(M,D)=>{let F=A[M]/255,j=P[M]/255,H=new Array(D+1);for(let X=0;X<=D;X++)H[X]=F+X/D*(j-F);return H.join(",")};return this.#_(x(0,5),x(1,5),x(2,5),N),this.#o=`url(#${B})`,this.#o}addHighlightHCMFilter(I,y,C,A){let P=`${I}-${y}-${C}-${A}`;if(this.#c===P)return this.#r;if(this.#c=P,this.#r="none",this.#l?.remove(),!I||!y)return this.#r;let[L,O]=[I,y].map(this.#u.bind(this)),B=Math.round(.2126*L[0]+.7152*L[1]+.0722*L[2]),N=Math.round(.2126*O[0]+.7152*O[1]+.0722*O[2]),[x,M]=[C,A].map(this.#u.bind(this));N<B&&([B,N,x,M]=[N,B,M,x]),this.#f.style.color="";let D=(H,X,se)=>{let ee=new Array(256),W=(N-B)/se,Q=H/255,K=(X-H)/(255*se),te=0;for(let ae=0;ae<=se;ae++){let fe=Math.round(B+ae*W),ge=Q+ae*K;for(let we=te;we<=fe;we++)ee[we]=ge;te=fe+1}for(let ae=te;ae<256;ae++)ee[ae]=ee[te-1];return ee.join(",")},F=`g_${this.#i}_hcm_highlight_filter`,j=this.#l=this.#m(F);return this.#p(j),this.#_(D(x[0],M[0],5),D(x[1],M[1],5),D(x[2],M[2],5),j),this.#r=`url(#${F})`,this.#r}destroy(I=!1){I&&(this.#o||this.#r)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#d=0)}#p(I){let y=this.#n.createElementNS(s,"feColorMatrix");y.setAttribute("type","matrix"),y.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),I.append(y)}#m(I){let y=this.#n.createElementNS(s,"filter");return y.setAttribute("color-interpolation-filters","sRGB"),y.setAttribute("id",I),this.#f.append(y),y}#g(I,y,C){let A=this.#n.createElementNS(s,y);A.setAttribute("type","discrete"),A.setAttribute("tableValues",C),I.append(A)}#_(I,y,C,A){let P=this.#n.createElementNS(s,"feComponentTransfer");A.append(P),this.#g(P,"feFuncR",I),this.#g(P,"feFuncG",y),this.#g(P,"feFuncB",C)}#u(I){return this.#f.style.color=I,G(getComputedStyle(this.#f).getPropertyValue("color"))}}e.DOMFilterFactory=d;class _ extends t.BaseCanvasFactory{constructor({ownerDocument:I=globalThis.document}={}){super(),this._document=I}_createCanvas(I,y){let C=this._document.createElement("canvas");return C.width=I,C.height=y,C}}e.DOMCanvasFactory=_;function u(z,I=!1){return me(this,null,function*(){if(b(z,document.baseURI)){let y=yield fetch(z);if(!y.ok)throw new Error(y.statusText);return I?new Uint8Array(yield y.arrayBuffer()):(0,i.stringToBytes)(yield y.text())}return new Promise((y,C)=>{let A=new XMLHttpRequest;A.open("GET",z,!0),I&&(A.responseType="arraybuffer"),A.onreadystatechange=()=>{if(A.readyState===XMLHttpRequest.DONE){if(A.status===200||A.status===0){let P;if(I&&A.response?P=new Uint8Array(A.response):!I&&A.responseText&&(P=(0,i.stringToBytes)(A.responseText)),P){y(P);return}}C(new Error(A.statusText))}},A.send(null)})})}class c extends t.BaseCMapReaderFactory{_fetchData(I,y){return u(I,this.isCompressed).then(C=>({cMapData:C,compressionType:y}))}}e.DOMCMapReaderFactory=c;class a extends t.BaseStandardFontDataFactory{_fetchData(I){return u(I,!0)}}e.DOMStandardFontDataFactory=a;class l extends t.BaseSVGFactory{_createSVG(I){return document.createElementNS(s,I)}}e.DOMSVGFactory=l;class p{constructor({viewBox:I,scale:y,rotation:C,offsetX:A=0,offsetY:P=0,dontFlip:L=!1}){this.viewBox=I,this.scale=y,this.rotation=C,this.offsetX=A,this.offsetY=P;let O=(I[2]+I[0])/2,B=(I[3]+I[1])/2,N,x,M,D;switch(C%=360,C<0&&(C+=360),C){case 180:N=-1,x=0,M=0,D=1;break;case 90:N=0,x=1,M=1,D=0;break;case 270:N=0,x=-1,M=-1,D=0;break;case 0:N=1,x=0,M=0,D=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}L&&(M=-M,D=-D);let F,j,H,X;N===0?(F=Math.abs(B-I[1])*y+A,j=Math.abs(O-I[0])*y+P,H=(I[3]-I[1])*y,X=(I[2]-I[0])*y):(F=Math.abs(O-I[0])*y+A,j=Math.abs(B-I[1])*y+P,H=(I[2]-I[0])*y,X=(I[3]-I[1])*y),this.transform=[N*y,x*y,M*y,D*y,F-N*y*O-M*y*B,j-x*y*O-D*y*B],this.width=H,this.height=X}get rawDims(){let{viewBox:I}=this;return(0,i.shadow)(this,"rawDims",{pageWidth:I[2]-I[0],pageHeight:I[3]-I[1],pageX:I[0],pageY:I[1]})}clone({scale:I=this.scale,rotation:y=this.rotation,offsetX:C=this.offsetX,offsetY:A=this.offsetY,dontFlip:P=!1}={}){return new p({viewBox:this.viewBox.slice(),scale:I,rotation:y,offsetX:C,offsetY:A,dontFlip:P})}convertToViewportPoint(I,y){return i.Util.applyTransform([I,y],this.transform)}convertToViewportRectangle(I){let y=i.Util.applyTransform([I[0],I[1]],this.transform),C=i.Util.applyTransform([I[2],I[3]],this.transform);return[y[0],y[1],C[0],C[1]]}convertToPdfPoint(I,y){return i.Util.applyInverseTransform([I,y],this.transform)}}e.PageViewport=p;class f extends i.BaseException{constructor(I,y=0){super(I,"RenderingCancelledException"),this.extraDelay=y}}e.RenderingCancelledException=f;function h(z){let I=z.length,y=0;for(;y<I&&z[y].trim()==="";)y++;return z.substring(y,y+5).toLowerCase()==="data:"}function v(z){return typeof z=="string"&&/\.pdf$/i.test(z)}function m(z,I=!1){return I||([z]=z.split(/[#?]/,1)),z.substring(z.lastIndexOf("/")+1)}function E(z,I="document.pdf"){if(typeof z!="string")return I;if(h(z))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),I;let y=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,C=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,A=y.exec(z),P=C.exec(A[1])||C.exec(A[2])||C.exec(A[3]);if(P&&(P=P[0],P.includes("%")))try{P=C.exec(decodeURIComponent(P))[0]}catch{}return P||I}class g{started=Object.create(null);times=[];time(I){I in this.started&&(0,i.warn)(`Timer is already running for ${I}`),this.started[I]=Date.now()}timeEnd(I){I in this.started||(0,i.warn)(`Timer has not been started for ${I}`),this.times.push({name:I,start:this.started[I],end:Date.now()}),delete this.started[I]}toString(){let I=[],y=0;for(let{name:C}of this.times)y=Math.max(C.length,y);for(let{name:C,start:A,end:P}of this.times)I.push(`${C.padEnd(y)} ${P-A}ms
`);return I.join("")}}e.StatTimer=g;function b(z,I){try{let{protocol:y}=I?new URL(z,I):new URL(z);return y==="http:"||y==="https:"}catch{return!1}}function w(z){z.preventDefault()}function S(z,I=!1){return new Promise((y,C)=>{let A=document.createElement("script");A.src=z,A.onload=function(P){I&&A.remove(),y(P)},A.onerror=function(){C(new Error(`Cannot load script at: ${A.src}`))},(document.head||document.documentElement).append(A)})}function T(z){console.log("Deprecated API usage: "+z)}let R;class k{static toDateObject(I){if(!I||typeof I!="string")return null;R||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");let y=R.exec(I);if(!y)return null;let C=parseInt(y[1],10),A=parseInt(y[2],10);A=A>=1&&A<=12?A-1:0;let P=parseInt(y[3],10);P=P>=1&&P<=31?P:1;let L=parseInt(y[4],10);L=L>=0&&L<=23?L:0;let O=parseInt(y[5],10);O=O>=0&&O<=59?O:0;let B=parseInt(y[6],10);B=B>=0&&B<=59?B:0;let N=y[7]||"Z",x=parseInt(y[8],10);x=x>=0&&x<=23?x:0;let M=parseInt(y[9],10)||0;return M=M>=0&&M<=59?M:0,N==="-"?(L+=x,O+=M):N==="+"&&(L-=x,O-=M),new Date(Date.UTC(C,A,P,L,O,B))}}e.PDFDateString=k;function U(z,{scale:I=1,rotation:y=0}){let{width:C,height:A}=z.attributes.style,P=[0,0,parseInt(C),parseInt(A)];return new p({viewBox:P,scale:I,rotation:y})}function G(z){if(z.startsWith("#")){let I=parseInt(z.slice(1),16);return[(I&16711680)>>16,(I&65280)>>8,I&255]}return z.startsWith("rgb(")?z.slice(4,-1).split(",").map(I=>parseInt(I)):z.startsWith("rgba(")?z.slice(5,-1).split(",").map(I=>parseInt(I)).slice(0,3):((0,i.warn)(`Not a valid color format: "${z}"`),[0,0,0])}function $(z){let I=document.createElement("span");I.style.visibility="hidden",document.body.append(I);for(let y of z.keys()){I.style.color=y;let C=window.getComputedStyle(I).color;z.set(y,G(C))}I.remove()}function J(z){let{a:I,b:y,c:C,d:A,e:P,f:L}=z.getTransform();return[I,y,C,A,P,L]}function Z(z){let{a:I,b:y,c:C,d:A,e:P,f:L}=z.getTransform().invertSelf();return[I,y,C,A,P,L]}function V(z,I,y=!1,C=!0){if(I instanceof p){let{pageWidth:A,pageHeight:P}=I.rawDims,{style:L}=z,O=i.FeatureTest.isCSSRoundSupported,B=`var(--scale-factor) * ${A}px`,N=`var(--scale-factor) * ${P}px`,x=O?`round(${B}, 1px)`:`calc(${B})`,M=O?`round(${N}, 1px)`:`calc(${N})`;!y||I.rotation%180===0?(L.width=x,L.height=M):(L.width=M,L.height=x)}C&&z.setAttribute("data-main-rotation",I.rotation)}},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var t=r(1);class i{constructor(){this.constructor===i&&(0,t.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(c){return"none"}addHCMFilter(c,a){return"none"}addHighlightHCMFilter(c,a,l,p){return"none"}destroy(c=!1){}}e.BaseFilterFactory=i;class s{constructor(){this.constructor===s&&(0,t.unreachable)("Cannot initialize BaseCanvasFactory.")}create(c,a){if(c<=0||a<=0)throw new Error("Invalid canvas size");let l=this._createCanvas(c,a);return{canvas:l,context:l.getContext("2d")}}reset(c,a,l){if(!c.canvas)throw new Error("Canvas is not specified");if(a<=0||l<=0)throw new Error("Invalid canvas size");c.canvas.width=a,c.canvas.height=l}destroy(c){if(!c.canvas)throw new Error("Canvas is not specified");c.canvas.width=0,c.canvas.height=0,c.canvas=null,c.context=null}_createCanvas(c,a){(0,t.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=s;class o{constructor({baseUrl:c=null,isCompressed:a=!0}){this.constructor===o&&(0,t.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=c,this.isCompressed=a}fetch(a){return me(this,arguments,function*({name:c}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!c)throw new Error("CMap name must be specified.");let l=this.baseUrl+c+(this.isCompressed?".bcmap":""),p=this.isCompressed?t.CMapCompressionType.BINARY:t.CMapCompressionType.NONE;return this._fetchData(l,p).catch(f=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${l}`)})})}_fetchData(c,a){(0,t.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=o;class d{constructor({baseUrl:c=null}){this.constructor===d&&(0,t.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=c}fetch(a){return me(this,arguments,function*({filename:c}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!c)throw new Error("Font filename must be specified.");let l=`${this.baseUrl}${c}`;return this._fetchData(l).catch(p=>{throw new Error(`Unable to load font data at: ${l}`)})})}_fetchData(c){(0,t.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=d;class _{constructor(){this.constructor===_&&(0,t.unreachable)("Cannot initialize BaseSVGFactory.")}create(c,a,l=!1){if(c<=0||a<=0)throw new Error("Invalid SVG dimensions");let p=this._createSVG("svg:svg");return p.setAttribute("version","1.1"),l||(p.setAttribute("width",`${c}px`),p.setAttribute("height",`${a}px`)),p.setAttribute("preserveAspectRatio","none"),p.setAttribute("viewBox",`0 0 ${c} ${a}`),p}createElement(c){if(typeof c!="string")throw new Error("Invalid SVG element type");return this._createSVG(c)}_createSVG(c){(0,t.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=_},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var t=r(1);let i=3285377520,s=4294901760,o=65535;class d{constructor(u){this.h1=u?u&4294967295:i,this.h2=u?u&4294967295:i}update(u){let c,a;if(typeof u=="string"){c=new Uint8Array(u.length*2),a=0;for(let T=0,R=u.length;T<R;T++){let k=u.charCodeAt(T);k<=255?c[a++]=k:(c[a++]=k>>>8,c[a++]=k&255)}}else if((0,t.isArrayBuffer)(u))c=u.slice(),a=c.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");let l=a>>2,p=a-l*4,f=new Uint32Array(c.buffer,0,l),h=0,v=0,m=this.h1,E=this.h2,g=3432918353,b=461845907,w=g&o,S=b&o;for(let T=0;T<l;T++)T&1?(h=f[T],h=h*g&s|h*w&o,h=h<<15|h>>>17,h=h*b&s|h*S&o,m^=h,m=m<<13|m>>>19,m=m*5+3864292196):(v=f[T],v=v*g&s|v*w&o,v=v<<15|v>>>17,v=v*b&s|v*S&o,E^=v,E=E<<13|E>>>19,E=E*5+3864292196);switch(h=0,p){case 3:h^=c[l*4+2]<<16;case 2:h^=c[l*4+1]<<8;case 1:h^=c[l*4],h=h*g&s|h*w&o,h=h<<15|h>>>17,h=h*b&s|h*S&o,l&1?m^=h:E^=h}this.h1=m,this.h2=E}hexdigest(){let u=this.h1,c=this.h2;return u^=c>>>1,u=u*3981806797&s|u*36045&o,c=c*4283543511&s|((c<<16|u>>>16)*2950163797&s)>>>16,u^=c>>>1,u=u*444984403&s|u*60499&o,c=c*3301882366&s|((c<<16|u>>>16)*3120437893&s)>>>16,u^=c>>>1,(u>>>0).toString(16).padStart(8,"0")+(c>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=d},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var t=r(1);class i{#e=new Set;constructor({ownerDocument:d=globalThis.document,styleElement:_=null}){this._document=d,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(d){this.nativeFontFaces.add(d),this._document.fonts.add(d)}removeNativeFontFace(d){this.nativeFontFaces.delete(d),this._document.fonts.delete(d)}insertRule(d){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));let _=this.styleElement.sheet;_.insertRule(d,_.cssRules.length)}clear(){for(let d of this.nativeFontFaces)this._document.fonts.delete(d);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(d){return me(this,null,function*(){if(!(!d||this.#e.has(d.loadedName))){if((0,t.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName:_,src:u,style:c}=d,a=new FontFace(_,u,c);this.addNativeFontFace(a);try{yield a.load(),this.#e.add(_)}catch{(0,t.warn)(`Cannot load system font: ${d.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}(0,t.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}})}bind(d){return me(this,null,function*(){if(d.attached||d.missingFile&&!d.systemFontInfo)return;if(d.attached=!0,d.systemFontInfo){yield this.loadSystemFont(d.systemFontInfo);return}if(this.isFontLoadingAPISupported){let u=d.createNativeFontFace();if(u){this.addNativeFontFace(u);try{yield u.loaded}catch(c){throw(0,t.warn)(`Failed to load font '${u.family}': '${c}'.`),d.disableFontFace=!0,c}}return}let _=d.createFontFaceRule();if(_){if(this.insertRule(_),this.isSyncFontLoadingSupported)return;yield new Promise(u=>{let c=this._queueLoadingCallback(u);this._prepareFontLoadEvent(d,c)})}})}get isFontLoadingAPISupported(){let d=!!this._document?.fonts;return(0,t.shadow)(this,"isFontLoadingAPISupported",d)}get isSyncFontLoadingSupported(){let d=!1;return(t.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(d=!0),(0,t.shadow)(this,"isSyncFontLoadingSupported",d)}_queueLoadingCallback(d){function _(){for((0,t.assert)(!c.done,"completeRequest() cannot be called twice."),c.done=!0;u.length>0&&u[0].done;){let a=u.shift();setTimeout(a.callback,0)}}let{loadingRequests:u}=this,c={done:!1,complete:_,callback:d};return u.push(c),c}get _loadTestFont(){let d=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,t.shadow)(this,"_loadTestFont",d)}_prepareFontLoadEvent(d,_){function u(U,G){return U.charCodeAt(G)<<24|U.charCodeAt(G+1)<<16|U.charCodeAt(G+2)<<8|U.charCodeAt(G+3)&255}function c(U,G,$,J){let Z=U.substring(0,G),V=U.substring(G+$);return Z+J+V}let a,l,p=this._document.createElement("canvas");p.width=1,p.height=1;let f=p.getContext("2d"),h=0;function v(U,G){if(++h>30){(0,t.warn)("Load test font never loaded."),G();return}if(f.font="30px "+U,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){G();return}setTimeout(v.bind(null,U,G))}let m=`lt${Date.now()}${this.loadTestFontId++}`,E=this._loadTestFont;E=c(E,976,m.length,m);let b=16,w=1482184792,S=u(E,b);for(a=0,l=m.length-3;a<l;a+=4)S=S-w+u(m,a)|0;a<m.length&&(S=S-w+u(m+"XXX",a)|0),E=c(E,b,4,(0,t.string32)(S));let T=`url(data:font/opentype;base64,${btoa(E)});`,R=`@font-face {font-family:"${m}";src:${T}}`;this.insertRule(R);let k=this._document.createElement("div");k.style.visibility="hidden",k.style.width=k.style.height="10px",k.style.position="absolute",k.style.top=k.style.left="0px";for(let U of[d.loadedName,m]){let G=this._document.createElement("span");G.textContent="Hi",G.style.fontFamily=U,k.append(G)}this._document.body.append(k),v(m,()=>{k.remove(),_.complete()})}}e.FontLoader=i;class s{constructor(d,{isEvalSupported:_=!0,disableFontFace:u=!1,ignoreErrors:c=!1,inspectFont:a=null}){this.compiledGlyphs=Object.create(null);for(let l in d)this[l]=d[l];this.isEvalSupported=_!==!1,this.disableFontFace=u===!0,this.ignoreErrors=c===!0,this._inspectFont=a}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let d;if(!this.cssFontInfo)d=new FontFace(this.loadedName,this.data,{});else{let _={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(_.style=`oblique ${this.cssFontInfo.italicAngle}deg`),d=new FontFace(this.cssFontInfo.fontFamily,this.data,_)}return this._inspectFont?.(this),d}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let d=(0,t.bytesToString)(this.data),_=`url(data:${this.mimetype};base64,${btoa(d)});`,u;if(!this.cssFontInfo)u=`@font-face {font-family:"${this.loadedName}";src:${_}}`;else{let c=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(c+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),u=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${c}src:${_}}`}return this._inspectFont?.(this,_),u}getPathGenerator(d,_){if(this.compiledGlyphs[_]!==void 0)return this.compiledGlyphs[_];let u;try{u=d.get(this.loadedName+"_path_"+_)}catch(c){if(!this.ignoreErrors)throw c;return(0,t.warn)(`getPathGenerator - ignoring character: "${c}".`),this.compiledGlyphs[_]=function(a,l){}}if(this.isEvalSupported&&t.FeatureTest.isEvalSupported){let c=[];for(let a of u){let l=a.args!==void 0?a.args.join(","):"";c.push("c.",a.cmd,"(",l,`);
`)}return this.compiledGlyphs[_]=new Function("c","size",c.join(""))}return this.compiledGlyphs[_]=function(c,a){for(let l of u)l.cmd==="scale"&&(l.args=[a,-a]),c[l.cmd].apply(c,l.args)}}}e.FontFaceObject=s},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var t=r(7),i=r(1);let s=function(c){return new Promise((a,l)=>{Ks().readFile(c,(f,h)=>{if(f||!h){l(new Error(f));return}a(new Uint8Array(h))})})};class o extends t.BaseFilterFactory{}e.NodeFilterFactory=o;class d extends t.BaseCanvasFactory{_createCanvas(a,l){return Vh().createCanvas(a,l)}}e.NodeCanvasFactory=d;class _ extends t.BaseCMapReaderFactory{_fetchData(a,l){return s(a).then(p=>({cMapData:p,compressionType:l}))}}e.NodeCMapReaderFactory=_;class u extends t.BaseStandardFontDataFactory{_fetchData(a){return s(a)}}e.NodeStandardFontDataFactory=u},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var t=r(1),i=r(6),s=r(12),o=r(13);let d=16,_=100,u=4096,c=15,a=10,l=1e3,p=16;function f(y,C){if(y._removeMirroring)throw new Error("Context is already forwarding operations.");y.__originalSave=y.save,y.__originalRestore=y.restore,y.__originalRotate=y.rotate,y.__originalScale=y.scale,y.__originalTranslate=y.translate,y.__originalTransform=y.transform,y.__originalSetTransform=y.setTransform,y.__originalResetTransform=y.resetTransform,y.__originalClip=y.clip,y.__originalMoveTo=y.moveTo,y.__originalLineTo=y.lineTo,y.__originalBezierCurveTo=y.bezierCurveTo,y.__originalRect=y.rect,y.__originalClosePath=y.closePath,y.__originalBeginPath=y.beginPath,y._removeMirroring=()=>{y.save=y.__originalSave,y.restore=y.__originalRestore,y.rotate=y.__originalRotate,y.scale=y.__originalScale,y.translate=y.__originalTranslate,y.transform=y.__originalTransform,y.setTransform=y.__originalSetTransform,y.resetTransform=y.__originalResetTransform,y.clip=y.__originalClip,y.moveTo=y.__originalMoveTo,y.lineTo=y.__originalLineTo,y.bezierCurveTo=y.__originalBezierCurveTo,y.rect=y.__originalRect,y.closePath=y.__originalClosePath,y.beginPath=y.__originalBeginPath,delete y._removeMirroring},y.save=function(){C.save(),this.__originalSave()},y.restore=function(){C.restore(),this.__originalRestore()},y.translate=function(P,L){C.translate(P,L),this.__originalTranslate(P,L)},y.scale=function(P,L){C.scale(P,L),this.__originalScale(P,L)},y.transform=function(P,L,O,B,N,x){C.transform(P,L,O,B,N,x),this.__originalTransform(P,L,O,B,N,x)},y.setTransform=function(P,L,O,B,N,x){C.setTransform(P,L,O,B,N,x),this.__originalSetTransform(P,L,O,B,N,x)},y.resetTransform=function(){C.resetTransform(),this.__originalResetTransform()},y.rotate=function(P){C.rotate(P),this.__originalRotate(P)},y.clip=function(P){C.clip(P),this.__originalClip(P)},y.moveTo=function(A,P){C.moveTo(A,P),this.__originalMoveTo(A,P)},y.lineTo=function(A,P){C.lineTo(A,P),this.__originalLineTo(A,P)},y.bezierCurveTo=function(A,P,L,O,B,N){C.bezierCurveTo(A,P,L,O,B,N),this.__originalBezierCurveTo(A,P,L,O,B,N)},y.rect=function(A,P,L,O){C.rect(A,P,L,O),this.__originalRect(A,P,L,O)},y.closePath=function(){C.closePath(),this.__originalClosePath()},y.beginPath=function(){C.beginPath(),this.__originalBeginPath()}}class h{constructor(C){this.canvasFactory=C,this.cache=Object.create(null)}getCanvas(C,A,P){let L;return this.cache[C]!==void 0?(L=this.cache[C],this.canvasFactory.reset(L,A,P)):(L=this.canvasFactory.create(A,P),this.cache[C]=L),L}delete(C){delete this.cache[C]}clear(){for(let C in this.cache){let A=this.cache[C];this.canvasFactory.destroy(A),delete this.cache[C]}}}function v(y,C,A,P,L,O,B,N,x,M){let[D,F,j,H,X,se]=(0,i.getCurrentTransform)(y);if(F===0&&j===0){let Q=B*D+X,K=Math.round(Q),te=N*H+se,ae=Math.round(te),fe=(B+x)*D+X,ge=Math.abs(Math.round(fe)-K)||1,we=(N+M)*H+se,Ee=Math.abs(Math.round(we)-ae)||1;return y.setTransform(Math.sign(D),0,0,Math.sign(H),K,ae),y.drawImage(C,A,P,L,O,0,0,ge,Ee),y.setTransform(D,F,j,H,X,se),[ge,Ee]}if(D===0&&H===0){let Q=N*j+X,K=Math.round(Q),te=B*F+se,ae=Math.round(te),fe=(N+M)*j+X,ge=Math.abs(Math.round(fe)-K)||1,we=(B+x)*F+se,Ee=Math.abs(Math.round(we)-ae)||1;return y.setTransform(0,Math.sign(F),Math.sign(j),0,K,ae),y.drawImage(C,A,P,L,O,0,0,Ee,ge),y.setTransform(D,F,j,H,X,se),[Ee,ge]}y.drawImage(C,A,P,L,O,B,N,x,M);let ee=Math.hypot(D,F),W=Math.hypot(j,H);return[ee*x,W*M]}function m(y){let{width:C,height:A}=y;if(C>l||A>l)return null;let P=1e3,L=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),O=C+1,B=new Uint8Array(O*(A+1)),N,x,M,D=C+7&-8,F=new Uint8Array(D*A),j=0;for(let W of y.data){let Q=128;for(;Q>0;)F[j++]=W&Q?0:255,Q>>=1}let H=0;for(j=0,F[j]!==0&&(B[0]=1,++H),x=1;x<C;x++)F[j]!==F[j+1]&&(B[x]=F[j]?2:1,++H),j++;for(F[j]!==0&&(B[x]=2,++H),N=1;N<A;N++){j=N*D,M=N*O,F[j-D]!==F[j]&&(B[M]=F[j]?1:8,++H);let W=(F[j]?4:0)+(F[j-D]?8:0);for(x=1;x<C;x++)W=(W>>2)+(F[j+1]?4:0)+(F[j-D+1]?8:0),L[W]&&(B[M+x]=L[W],++H),j++;if(F[j-D]!==F[j]&&(B[M+x]=F[j]?2:4,++H),H>P)return null}for(j=D*(A-1),M=N*O,F[j]!==0&&(B[M]=8,++H),x=1;x<C;x++)F[j]!==F[j+1]&&(B[M+x]=F[j]?4:8,++H),j++;if(F[j]!==0&&(B[M+x]=4,++H),H>P)return null;let X=new Int32Array([0,O,-1,0,-O,0,0,0,1]),se=new Path2D;for(N=0;H&&N<=A;N++){let W=N*O,Q=W+C;for(;W<Q&&!B[W];)W++;if(W===Q)continue;se.moveTo(W%O,N);let K=W,te=B[W];do{let ae=X[te];do W+=ae;while(!B[W]);let fe=B[W];fe!==5&&fe!==10?(te=fe,B[W]=0):(te=fe&51*te>>4,B[W]&=te>>2|te<<2),se.lineTo(W%O,W/O|0),B[W]||--H}while(K!==W);--N}return F=null,B=null,function(W){W.save(),W.scale(1/C,-1/A),W.translate(0,-A),W.fill(se),W.beginPath(),W.restore()}}class E{constructor(C,A){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=t.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=t.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=t.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,C,A])}clone(){let C=Object.create(this);return C.clipBox=this.clipBox.slice(),C}setCurrentPoint(C,A){this.x=C,this.y=A}updatePathMinMax(C,A,P){[A,P]=t.Util.applyTransform([A,P],C),this.minX=Math.min(this.minX,A),this.minY=Math.min(this.minY,P),this.maxX=Math.max(this.maxX,A),this.maxY=Math.max(this.maxY,P)}updateRectMinMax(C,A){let P=t.Util.applyTransform(A,C),L=t.Util.applyTransform(A.slice(2),C);this.minX=Math.min(this.minX,P[0],L[0]),this.minY=Math.min(this.minY,P[1],L[1]),this.maxX=Math.max(this.maxX,P[0],L[0]),this.maxY=Math.max(this.maxY,P[1],L[1])}updateScalingPathMinMax(C,A){t.Util.scaleMinMax(C,A),this.minX=Math.min(this.minX,A[0]),this.maxX=Math.max(this.maxX,A[1]),this.minY=Math.min(this.minY,A[2]),this.maxY=Math.max(this.maxY,A[3])}updateCurvePathMinMax(C,A,P,L,O,B,N,x,M,D){let F=t.Util.bezierBoundingBox(A,P,L,O,B,N,x,M);if(D){D[0]=Math.min(D[0],F[0],F[2]),D[1]=Math.max(D[1],F[0],F[2]),D[2]=Math.min(D[2],F[1],F[3]),D[3]=Math.max(D[3],F[1],F[3]);return}this.updateRectMinMax(C,F)}getPathBoundingBox(C=s.PathType.FILL,A=null){let P=[this.minX,this.minY,this.maxX,this.maxY];if(C===s.PathType.STROKE){A||(0,t.unreachable)("Stroke bounding box must include transform.");let L=t.Util.singularValueDecompose2dScale(A),O=L[0]*this.lineWidth/2,B=L[1]*this.lineWidth/2;P[0]-=O,P[1]-=B,P[2]+=O,P[3]+=B}return P}updateClipFromPath(){let C=t.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(C||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(C){this.clipBox=C,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(C=s.PathType.FILL,A=null){return t.Util.intersect(this.clipBox,this.getPathBoundingBox(C,A))}}function g(y,C){if(typeof ImageData<"u"&&C instanceof ImageData){y.putImageData(C,0,0);return}let A=C.height,P=C.width,L=A%p,O=(A-L)/p,B=L===0?O:O+1,N=y.createImageData(P,p),x=0,M,D=C.data,F=N.data,j,H,X,se;if(C.kind===t.ImageKind.GRAYSCALE_1BPP){let ee=D.byteLength,W=new Uint32Array(F.buffer,0,F.byteLength>>2),Q=W.length,K=P+7>>3,te=4294967295,ae=t.FeatureTest.isLittleEndian?4278190080:255;for(j=0;j<B;j++){for(X=j<O?p:L,M=0,H=0;H<X;H++){let fe=ee-x,ge=0,we=fe>K?P:fe*8-7,Ee=we&-8,Te=0,Ve=0;for(;ge<Ee;ge+=8)Ve=D[x++],W[M++]=Ve&128?te:ae,W[M++]=Ve&64?te:ae,W[M++]=Ve&32?te:ae,W[M++]=Ve&16?te:ae,W[M++]=Ve&8?te:ae,W[M++]=Ve&4?te:ae,W[M++]=Ve&2?te:ae,W[M++]=Ve&1?te:ae;for(;ge<we;ge++)Te===0&&(Ve=D[x++],Te=128),W[M++]=Ve&Te?te:ae,Te>>=1}for(;M<Q;)W[M++]=0;y.putImageData(N,0,j*p)}}else if(C.kind===t.ImageKind.RGBA_32BPP){for(H=0,se=P*p*4,j=0;j<O;j++)F.set(D.subarray(x,x+se)),x+=se,y.putImageData(N,0,H),H+=p;j<B&&(se=P*L*4,F.set(D.subarray(x,x+se)),y.putImageData(N,0,H))}else if(C.kind===t.ImageKind.RGB_24BPP)for(X=p,se=P*X,j=0;j<B;j++){for(j>=O&&(X=L,se=P*X),M=0,H=se;H--;)F[M++]=D[x++],F[M++]=D[x++],F[M++]=D[x++],F[M++]=255;y.putImageData(N,0,j*p)}else throw new Error(`bad image kind: ${C.kind}`)}function b(y,C){if(C.bitmap){y.drawImage(C.bitmap,0,0);return}let A=C.height,P=C.width,L=A%p,O=(A-L)/p,B=L===0?O:O+1,N=y.createImageData(P,p),x=0,M=C.data,D=N.data;for(let F=0;F<B;F++){let j=F<O?p:L;({srcPos:x}=(0,o.convertBlackAndWhiteToRGBA)({src:M,srcPos:x,dest:D,width:P,height:j,nonBlackColor:0})),y.putImageData(N,0,F*p)}}function w(y,C){let A=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(let P of A)y[P]!==void 0&&(C[P]=y[P]);y.setLineDash!==void 0&&(C.setLineDash(y.getLineDash()),C.lineDashOffset=y.lineDashOffset)}function S(y){if(y.strokeStyle=y.fillStyle="#000000",y.fillRule="nonzero",y.globalAlpha=1,y.lineWidth=1,y.lineCap="butt",y.lineJoin="miter",y.miterLimit=10,y.globalCompositeOperation="source-over",y.font="10px sans-serif",y.setLineDash!==void 0&&(y.setLineDash([]),y.lineDashOffset=0),!t.isNodeJS){let{filter:C}=y;C!=="none"&&C!==""&&(y.filter="none")}}function T(y,C,A,P){let L=y.length;for(let O=3;O<L;O+=4){let B=y[O];if(B===0)y[O-3]=C,y[O-2]=A,y[O-1]=P;else if(B<255){let N=255-B;y[O-3]=y[O-3]*B+C*N>>8,y[O-2]=y[O-2]*B+A*N>>8,y[O-1]=y[O-1]*B+P*N>>8}}}function R(y,C,A){let P=y.length,L=1/255;for(let O=3;O<P;O+=4){let B=A?A[y[O]]:y[O];C[O]=C[O]*B*L|0}}function k(y,C,A){let P=y.length;for(let L=3;L<P;L+=4){let O=y[L-3]*77+y[L-2]*152+y[L-1]*28;C[L]=A?C[L]*A[O>>8]>>8:C[L]*O>>16}}function U(y,C,A,P,L,O,B,N,x,M,D){let F=!!O,j=F?O[0]:0,H=F?O[1]:0,X=F?O[2]:0,se=L==="Luminosity"?k:R,W=Math.min(P,Math.ceil(1048576/A));for(let Q=0;Q<P;Q+=W){let K=Math.min(W,P-Q),te=y.getImageData(N-M,Q+(x-D),A,K),ae=C.getImageData(N,Q+x,A,K);F&&T(te.data,j,H,X),se(te.data,ae.data,B),C.putImageData(ae,N,Q+x)}}function G(y,C,A,P){let L=P[0],O=P[1],B=P[2]-L,N=P[3]-O;B===0||N===0||(U(C.context,A,B,N,C.subtype,C.backdrop,C.transferMap,L,O,C.offsetX,C.offsetY),y.save(),y.globalAlpha=1,y.globalCompositeOperation="source-over",y.setTransform(1,0,0,1,0,0),y.drawImage(A.canvas,0,0),y.restore())}function $(y,C){let A=t.Util.singularValueDecompose2dScale(y);A[0]=Math.fround(A[0]),A[1]=Math.fround(A[1]);let P=Math.fround((globalThis.devicePixelRatio||1)*i.PixelsPerInch.PDF_TO_CSS_UNITS);return C!==void 0?C:A[0]<=P||A[1]<=P}let J=["butt","round","square"],Z=["miter","round","bevel"],V={},z={};class I{constructor(C,A,P,L,O,{optionalContentConfig:B,markedContentStack:N=null},x,M){this.ctx=C,this.current=new E(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=A,this.objs=P,this.canvasFactory=L,this.filterFactory=O,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=N||[],this.optionalContentConfig=B,this.cachedCanvases=new h(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=x,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=M,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(C,A=null){return typeof C=="string"?C.startsWith("g_")?this.commonObjs.get(C):this.objs.get(C):A}beginDrawing({transform:C,viewport:A,transparency:P=!1,background:L=null}){let O=this.ctx.canvas.width,B=this.ctx.canvas.height,N=this.ctx.fillStyle;if(this.ctx.fillStyle=L||"#ffffff",this.ctx.fillRect(0,0,O,B),this.ctx.fillStyle=N,P){let x=this.cachedCanvases.getCanvas("transparent",O,B);this.compositeCtx=this.ctx,this.transparentCanvas=x.canvas,this.ctx=x.context,this.ctx.save(),this.ctx.transform(...(0,i.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),S(this.ctx),C&&(this.ctx.transform(...C),this.outputScaleX=C[0],this.outputScaleY=C[0]),this.ctx.transform(...A.transform),this.viewportScale=A.scale,this.baseTransform=(0,i.getCurrentTransform)(this.ctx)}executeOperatorList(C,A,P,L){let O=C.argsArray,B=C.fnArray,N=A||0,x=O.length;if(x===N)return N;let M=x-N>a&&typeof P=="function",D=M?Date.now()+c:0,F=0,j=this.commonObjs,H=this.objs,X;for(;;){if(L!==void 0&&N===L.nextBreakPoint)return L.breakIt(N,P),N;if(X=B[N],X!==t.OPS.dependency)this[X].apply(this,O[N]);else for(let se of O[N]){let ee=se.startsWith("g_")?j:H;if(!ee.has(se))return ee.get(se,P),N}if(N++,N===x)return N;if(M&&++F>a){if(Date.now()>D)return P(),N;F=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let C of this._cachedBitmapsMap.values()){for(let A of C.values())typeof HTMLCanvasElement<"u"&&A instanceof HTMLCanvasElement&&(A.width=A.height=0);C.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){let C=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(C!=="none"){let A=this.ctx.filter;this.ctx.filter=C,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=A}}}_scaleImage(C,A){let P=C.width,L=C.height,O=Math.max(Math.hypot(A[0],A[1]),1),B=Math.max(Math.hypot(A[2],A[3]),1),N=P,x=L,M="prescale1",D,F;for(;O>2&&N>1||B>2&&x>1;){let j=N,H=x;O>2&&N>1&&(j=N>=16384?Math.floor(N/2)-1||1:Math.ceil(N/2),O/=N/j),B>2&&x>1&&(H=x>=16384?Math.floor(x/2)-1||1:Math.ceil(x)/2,B/=x/H),D=this.cachedCanvases.getCanvas(M,j,H),F=D.context,F.clearRect(0,0,j,H),F.drawImage(C,0,0,N,x,0,0,j,H),C=D.canvas,N=j,x=H,M=M==="prescale1"?"prescale2":"prescale1"}return{img:C,paintWidth:N,paintHeight:x}}_createMaskCanvas(C){let A=this.ctx,{width:P,height:L}=C,O=this.current.fillColor,B=this.current.patternFill,N=(0,i.getCurrentTransform)(A),x,M,D,F;if((C.bitmap||C.data)&&C.count>1){let ge=C.bitmap||C.data.buffer;M=JSON.stringify(B?N:[N.slice(0,4),O]),x=this._cachedBitmapsMap.get(ge),x||(x=new Map,this._cachedBitmapsMap.set(ge,x));let we=x.get(M);if(we&&!B){let Ee=Math.round(Math.min(N[0],N[2])+N[4]),Te=Math.round(Math.min(N[1],N[3])+N[5]);return{canvas:we,offsetX:Ee,offsetY:Te}}D=we}D||(F=this.cachedCanvases.getCanvas("maskCanvas",P,L),b(F.context,C));let j=t.Util.transform(N,[1/P,0,0,-1/L,0,0]);j=t.Util.transform(j,[1,0,0,1,0,-L]);let H=t.Util.applyTransform([0,0],j),X=t.Util.applyTransform([P,L],j),se=t.Util.normalizeRect([H[0],H[1],X[0],X[1]]),ee=Math.round(se[2]-se[0])||1,W=Math.round(se[3]-se[1])||1,Q=this.cachedCanvases.getCanvas("fillCanvas",ee,W),K=Q.context,te=Math.min(H[0],X[0]),ae=Math.min(H[1],X[1]);K.translate(-te,-ae),K.transform(...j),D||(D=this._scaleImage(F.canvas,(0,i.getCurrentTransformInverse)(K)),D=D.img,x&&B&&x.set(M,D)),K.imageSmoothingEnabled=$((0,i.getCurrentTransform)(K),C.interpolate),v(K,D,0,0,D.width,D.height,0,0,P,L),K.globalCompositeOperation="source-in";let fe=t.Util.transform((0,i.getCurrentTransformInverse)(K),[1,0,0,1,-te,-ae]);return K.fillStyle=B?O.getPattern(A,this,fe,s.PathType.FILL):O,K.fillRect(0,0,P,L),x&&!B&&(this.cachedCanvases.delete("fillCanvas"),x.set(M,Q.canvas)),{canvas:Q.canvas,offsetX:Math.round(te),offsetY:Math.round(ae)}}setLineWidth(C){C!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=C,this.ctx.lineWidth=C}setLineCap(C){this.ctx.lineCap=J[C]}setLineJoin(C){this.ctx.lineJoin=Z[C]}setMiterLimit(C){this.ctx.miterLimit=C}setDash(C,A){let P=this.ctx;P.setLineDash!==void 0&&(P.setLineDash(C),P.lineDashOffset=A)}setRenderingIntent(C){}setFlatness(C){}setGState(C){for(let[A,P]of C)switch(A){case"LW":this.setLineWidth(P);break;case"LC":this.setLineCap(P);break;case"LJ":this.setLineJoin(P);break;case"ML":this.setMiterLimit(P);break;case"D":this.setDash(P[0],P[1]);break;case"RI":this.setRenderingIntent(P);break;case"FL":this.setFlatness(P);break;case"Font":this.setFont(P[0],P[1]);break;case"CA":this.current.strokeAlpha=P;break;case"ca":this.current.fillAlpha=P,this.ctx.globalAlpha=P;break;case"BM":this.ctx.globalCompositeOperation=P;break;case"SMask":this.current.activeSMask=P?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(P);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let C=this.inSMaskMode;this.current.activeSMask&&!C?this.beginSMaskMode():!this.current.activeSMask&&C&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let C=this.ctx.canvas.width,A=this.ctx.canvas.height,P="smaskGroupAt"+this.groupLevel,L=this.cachedCanvases.getCanvas(P,C,A);this.suspendedCtx=this.ctx,this.ctx=L.context;let O=this.ctx;O.setTransform(...(0,i.getCurrentTransform)(this.suspendedCtx)),w(this.suspendedCtx,O),f(O,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),w(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(C){if(!this.current.activeSMask)return;C?(C[0]=Math.floor(C[0]),C[1]=Math.floor(C[1]),C[2]=Math.ceil(C[2]),C[3]=Math.ceil(C[3])):C=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let A=this.current.activeSMask,P=this.suspendedCtx;G(P,A,this.ctx,C),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(w(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let C=this.current;this.stateStack.push(C),this.current=C.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),w(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(C,A,P,L,O,B){this.ctx.transform(C,A,P,L,O,B),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(C,A,P){let L=this.ctx,O=this.current,B=O.x,N=O.y,x,M,D=(0,i.getCurrentTransform)(L),F=D[0]===0&&D[3]===0||D[1]===0&&D[2]===0,j=F?P.slice(0):null;for(let H=0,X=0,se=C.length;H<se;H++)switch(C[H]|0){case t.OPS.rectangle:B=A[X++],N=A[X++];let ee=A[X++],W=A[X++],Q=B+ee,K=N+W;L.moveTo(B,N),ee===0||W===0?L.lineTo(Q,K):(L.lineTo(Q,N),L.lineTo(Q,K),L.lineTo(B,K)),F||O.updateRectMinMax(D,[B,N,Q,K]),L.closePath();break;case t.OPS.moveTo:B=A[X++],N=A[X++],L.moveTo(B,N),F||O.updatePathMinMax(D,B,N);break;case t.OPS.lineTo:B=A[X++],N=A[X++],L.lineTo(B,N),F||O.updatePathMinMax(D,B,N);break;case t.OPS.curveTo:x=B,M=N,B=A[X+4],N=A[X+5],L.bezierCurveTo(A[X],A[X+1],A[X+2],A[X+3],B,N),O.updateCurvePathMinMax(D,x,M,A[X],A[X+1],A[X+2],A[X+3],B,N,j),X+=6;break;case t.OPS.curveTo2:x=B,M=N,L.bezierCurveTo(B,N,A[X],A[X+1],A[X+2],A[X+3]),O.updateCurvePathMinMax(D,x,M,B,N,A[X],A[X+1],A[X+2],A[X+3],j),B=A[X+2],N=A[X+3],X+=4;break;case t.OPS.curveTo3:x=B,M=N,B=A[X+2],N=A[X+3],L.bezierCurveTo(A[X],A[X+1],B,N,B,N),O.updateCurvePathMinMax(D,x,M,A[X],A[X+1],B,N,B,N,j),X+=4;break;case t.OPS.closePath:L.closePath();break}F&&O.updateScalingPathMinMax(D,j),O.setCurrentPoint(B,N)}closePath(){this.ctx.closePath()}stroke(C=!0){let A=this.ctx,P=this.current.strokeColor;A.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof P=="object"&&P?.getPattern?(A.save(),A.strokeStyle=P.getPattern(A,this,(0,i.getCurrentTransformInverse)(A),s.PathType.STROKE),this.rescaleAndStroke(!1),A.restore()):this.rescaleAndStroke(!0)),C&&this.consumePath(this.current.getClippedPathBoundingBox()),A.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(C=!0){let A=this.ctx,P=this.current.fillColor,L=this.current.patternFill,O=!1;L&&(A.save(),A.fillStyle=P.getPattern(A,this,(0,i.getCurrentTransformInverse)(A),s.PathType.FILL),O=!0);let B=this.current.getClippedPathBoundingBox();this.contentVisible&&B!==null&&(this.pendingEOFill?(A.fill("evenodd"),this.pendingEOFill=!1):A.fill()),O&&A.restore(),C&&this.consumePath(B)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=V}eoClip(){this.pendingClip=z}beginText(){this.current.textMatrix=t.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let C=this.pendingTextPaths,A=this.ctx;if(C===void 0){A.beginPath();return}A.save(),A.beginPath();for(let P of C)A.setTransform(...P.transform),A.translate(P.x,P.y),P.addToPath(A,P.fontSize);A.restore(),A.clip(),A.beginPath(),delete this.pendingTextPaths}setCharSpacing(C){this.current.charSpacing=C}setWordSpacing(C){this.current.wordSpacing=C}setHScale(C){this.current.textHScale=C/100}setLeading(C){this.current.leading=-C}setFont(C,A){let P=this.commonObjs.get(C),L=this.current;if(!P)throw new Error(`Can't find font for ${C}`);if(L.fontMatrix=P.fontMatrix||t.FONT_IDENTITY_MATRIX,(L.fontMatrix[0]===0||L.fontMatrix[3]===0)&&(0,t.warn)("Invalid font matrix for font "+C),A<0?(A=-A,L.fontDirection=-1):L.fontDirection=1,this.current.font=P,this.current.fontSize=A,P.isType3Font)return;let O=P.loadedName||"sans-serif",B=P.systemFontInfo?.css||`"${O}", ${P.fallbackName}`,N="normal";P.black?N="900":P.bold&&(N="bold");let x=P.italic?"italic":"normal",M=A;A<d?M=d:A>_&&(M=_),this.current.fontSizeScale=A/M,this.ctx.font=`${x} ${N} ${M}px ${B}`}setTextRenderingMode(C){this.current.textRenderingMode=C}setTextRise(C){this.current.textRise=C}moveText(C,A){this.current.x=this.current.lineX+=C,this.current.y=this.current.lineY+=A}setLeadingMoveText(C,A){this.setLeading(-A),this.moveText(C,A)}setTextMatrix(C,A,P,L,O,B){this.current.textMatrix=[C,A,P,L,O,B],this.current.textMatrixScale=Math.hypot(C,A),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(C,A,P,L){let O=this.ctx,B=this.current,N=B.font,x=B.textRenderingMode,M=B.fontSize/B.fontSizeScale,D=x&t.TextRenderingMode.FILL_STROKE_MASK,F=!!(x&t.TextRenderingMode.ADD_TO_PATH_FLAG),j=B.patternFill&&!N.missingFile,H;(N.disableFontFace||F||j)&&(H=N.getPathGenerator(this.commonObjs,C)),N.disableFontFace||j?(O.save(),O.translate(A,P),O.beginPath(),H(O,M),L&&O.setTransform(...L),(D===t.TextRenderingMode.FILL||D===t.TextRenderingMode.FILL_STROKE)&&O.fill(),(D===t.TextRenderingMode.STROKE||D===t.TextRenderingMode.FILL_STROKE)&&O.stroke(),O.restore()):((D===t.TextRenderingMode.FILL||D===t.TextRenderingMode.FILL_STROKE)&&O.fillText(C,A,P),(D===t.TextRenderingMode.STROKE||D===t.TextRenderingMode.FILL_STROKE)&&O.strokeText(C,A,P)),F&&(this.pendingTextPaths||=[]).push({transform:(0,i.getCurrentTransform)(O),x:A,y:P,fontSize:M,addToPath:H})}get isFontSubpixelAAEnabled(){let{context:C}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);C.scale(1.5,1),C.fillText("I",0,10);let A=C.getImageData(0,0,10,10).data,P=!1;for(let L=3;L<A.length;L+=4)if(A[L]>0&&A[L]<255){P=!0;break}return(0,t.shadow)(this,"isFontSubpixelAAEnabled",P)}showText(C){let A=this.current,P=A.font;if(P.isType3Font)return this.showType3Text(C);let L=A.fontSize;if(L===0)return;let O=this.ctx,B=A.fontSizeScale,N=A.charSpacing,x=A.wordSpacing,M=A.fontDirection,D=A.textHScale*M,F=C.length,j=P.vertical,H=j?1:-1,X=P.defaultVMetrics,se=L*A.fontMatrix[0],ee=A.textRenderingMode===t.TextRenderingMode.FILL&&!P.disableFontFace&&!A.patternFill;O.save(),O.transform(...A.textMatrix),O.translate(A.x,A.y+A.textRise),M>0?O.scale(D,-1):O.scale(D,1);let W;if(A.patternFill){O.save();let fe=A.fillColor.getPattern(O,this,(0,i.getCurrentTransformInverse)(O),s.PathType.FILL);W=(0,i.getCurrentTransform)(O),O.restore(),O.fillStyle=fe}let Q=A.lineWidth,K=A.textMatrixScale;if(K===0||Q===0){let fe=A.textRenderingMode&t.TextRenderingMode.FILL_STROKE_MASK;(fe===t.TextRenderingMode.STROKE||fe===t.TextRenderingMode.FILL_STROKE)&&(Q=this.getSinglePixelWidth())}else Q/=K;if(B!==1&&(O.scale(B,B),Q/=B),O.lineWidth=Q,P.isInvalidPDFjsFont){let fe=[],ge=0;for(let we of C)fe.push(we.unicode),ge+=we.width;O.fillText(fe.join(""),0,0),A.x+=ge*se*D,O.restore(),this.compose();return}let te=0,ae;for(ae=0;ae<F;++ae){let fe=C[ae];if(typeof fe=="number"){te+=H*fe*L/1e3;continue}let ge=!1,we=(fe.isSpace?x:0)+N,Ee=fe.fontChar,Te=fe.accent,Ve,Et,pt=fe.width;if(j){let dt=fe.vmetric||X,Xt=-(fe.vmetric?dt[1]:pt*.5)*se,Fn=dt[2]*se;pt=dt?-dt[0]:pt,Ve=Xt/B,Et=(te+Fn)/B}else Ve=te/B,Et=0;if(P.remeasure&&pt>0){let dt=O.measureText(Ee).width*1e3/L*B;if(pt<dt&&this.isFontSubpixelAAEnabled){let Xt=pt/dt;ge=!0,O.save(),O.scale(Xt,1),Ve/=Xt}else pt!==dt&&(Ve+=(pt-dt)/2e3*L/B)}if(this.contentVisible&&(fe.isInFont||P.missingFile)){if(ee&&!Te)O.fillText(Ee,Ve,Et);else if(this.paintChar(Ee,Ve,Et,W),Te){let dt=Ve+L*Te.offset.x/B,Xt=Et-L*Te.offset.y/B;this.paintChar(Te.fontChar,dt,Xt,W)}}let Ut=j?pt*se-we*M:pt*se+we*M;te+=Ut,ge&&O.restore()}j?A.y-=te:A.x+=te*D,O.restore(),this.compose()}showType3Text(C){let A=this.ctx,P=this.current,L=P.font,O=P.fontSize,B=P.fontDirection,N=L.vertical?1:-1,x=P.charSpacing,M=P.wordSpacing,D=P.textHScale*B,F=P.fontMatrix||t.FONT_IDENTITY_MATRIX,j=C.length,H=P.textRenderingMode===t.TextRenderingMode.INVISIBLE,X,se,ee,W;if(!(H||O===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,A.save(),A.transform(...P.textMatrix),A.translate(P.x,P.y),A.scale(D,B),X=0;X<j;++X){if(se=C[X],typeof se=="number"){W=N*se*O/1e3,this.ctx.translate(W,0),P.x+=W*D;continue}let Q=(se.isSpace?M:0)+x,K=L.charProcOperatorList[se.operatorListId];if(!K){(0,t.warn)(`Type3 character "${se.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=se,this.save(),A.scale(O,O),A.transform(...F),this.executeOperatorList(K),this.restore()),ee=t.Util.applyTransform([se.width,0],F)[0]*O+Q,A.translate(ee,0),P.x+=ee*D}A.restore(),this.processingType3=null}}setCharWidth(C,A){}setCharWidthAndBounds(C,A,P,L,O,B){this.ctx.rect(P,L,O-P,B-L),this.ctx.clip(),this.endPath()}getColorN_Pattern(C){let A;if(C[0]==="TilingPattern"){let P=C[1],L=this.baseTransform||(0,i.getCurrentTransform)(this.ctx),O={createCanvasGraphics:B=>new I(B,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};A=new s.TilingPattern(C,P,this.ctx,O,L)}else A=this._getPattern(C[1],C[2]);return A}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(C,A,P){let L=t.Util.makeHexColor(C,A,P);this.ctx.strokeStyle=L,this.current.strokeColor=L}setFillRGBColor(C,A,P){let L=t.Util.makeHexColor(C,A,P);this.ctx.fillStyle=L,this.current.fillColor=L,this.current.patternFill=!1}_getPattern(C,A=null){let P;return this.cachedPatterns.has(C)?P=this.cachedPatterns.get(C):(P=(0,s.getShadingPattern)(this.getObject(C)),this.cachedPatterns.set(C,P)),A&&(P.matrix=A),P}shadingFill(C){if(!this.contentVisible)return;let A=this.ctx;this.save();let P=this._getPattern(C);A.fillStyle=P.getPattern(A,this,(0,i.getCurrentTransformInverse)(A),s.PathType.SHADING);let L=(0,i.getCurrentTransformInverse)(A);if(L){let{width:O,height:B}=A.canvas,[N,x,M,D]=t.Util.getAxialAlignedBoundingBox([0,0,O,B],L);this.ctx.fillRect(N,x,M-N,D-x)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,t.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,t.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(C,A){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(C)&&C.length===6&&this.transform(...C),this.baseTransform=(0,i.getCurrentTransform)(this.ctx),A)){let P=A[2]-A[0],L=A[3]-A[1];this.ctx.rect(A[0],A[1],P,L),this.current.updateRectMinMax((0,i.getCurrentTransform)(this.ctx),A),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(C){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let A=this.ctx;C.isolated||(0,t.info)("TODO: Support non-isolated groups."),C.knockout&&(0,t.warn)("Knockout groups not supported.");let P=(0,i.getCurrentTransform)(A);if(C.matrix&&A.transform(...C.matrix),!C.bbox)throw new Error("Bounding box is required.");let L=t.Util.getAxialAlignedBoundingBox(C.bbox,(0,i.getCurrentTransform)(A)),O=[0,0,A.canvas.width,A.canvas.height];L=t.Util.intersect(L,O)||[0,0,0,0];let B=Math.floor(L[0]),N=Math.floor(L[1]),x=Math.max(Math.ceil(L[2])-B,1),M=Math.max(Math.ceil(L[3])-N,1),D=1,F=1;x>u&&(D=x/u,x=u),M>u&&(F=M/u,M=u),this.current.startNewPathAndClipBox([0,0,x,M]);let j="groupAt"+this.groupLevel;C.smask&&(j+="_smask_"+this.smaskCounter++%2);let H=this.cachedCanvases.getCanvas(j,x,M),X=H.context;X.scale(1/D,1/F),X.translate(-B,-N),X.transform(...P),C.smask?this.smaskStack.push({canvas:H.canvas,context:X,offsetX:B,offsetY:N,scaleX:D,scaleY:F,subtype:C.smask.subtype,backdrop:C.smask.backdrop,transferMap:C.smask.transferMap||null,startTransformInverse:null}):(A.setTransform(1,0,0,1,0,0),A.translate(B,N),A.scale(D,F),A.save()),w(A,X),this.ctx=X,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(A),this.groupLevel++}endGroup(C){if(!this.contentVisible)return;this.groupLevel--;let A=this.ctx,P=this.groupStack.pop();if(this.ctx=P,this.ctx.imageSmoothingEnabled=!1,C.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let L=(0,i.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...L);let O=t.Util.getAxialAlignedBoundingBox([0,0,A.canvas.width,A.canvas.height],L);this.ctx.drawImage(A.canvas,0,0),this.ctx.restore(),this.compose(O)}}beginAnnotation(C,A,P,L,O){if(this.#e(),S(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(A)&&A.length===4){let B=A[2]-A[0],N=A[3]-A[1];if(O&&this.annotationCanvasMap){P=P.slice(),P[4]-=A[0],P[5]-=A[1],A=A.slice(),A[0]=A[1]=0,A[2]=B,A[3]=N;let[x,M]=t.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(this.ctx)),{viewportScale:D}=this,F=Math.ceil(B*this.outputScaleX*D),j=Math.ceil(N*this.outputScaleY*D);this.annotationCanvas=this.canvasFactory.create(F,j);let{canvas:H,context:X}=this.annotationCanvas;this.annotationCanvasMap.set(C,H),this.annotationCanvas.savedCtx=this.ctx,this.ctx=X,this.ctx.save(),this.ctx.setTransform(x,0,0,-M,0,N*M),S(this.ctx)}else S(this.ctx),this.ctx.rect(A[0],A[1],B,N),this.ctx.clip(),this.endPath()}this.current=new E(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...P),this.transform(...L)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(C){if(!this.contentVisible)return;let A=C.count;C=this.getObject(C.data,C),C.count=A;let P=this.ctx,L=this.processingType3;if(L&&(L.compiled===void 0&&(L.compiled=m(C)),L.compiled)){L.compiled(P);return}let O=this._createMaskCanvas(C),B=O.canvas;P.save(),P.setTransform(1,0,0,1,0,0),P.drawImage(B,O.offsetX,O.offsetY),P.restore(),this.compose()}paintImageMaskXObjectRepeat(C,A,P=0,L=0,O,B){if(!this.contentVisible)return;C=this.getObject(C.data,C);let N=this.ctx;N.save();let x=(0,i.getCurrentTransform)(N);N.transform(A,P,L,O,0,0);let M=this._createMaskCanvas(C);N.setTransform(1,0,0,1,M.offsetX-x[4],M.offsetY-x[5]);for(let D=0,F=B.length;D<F;D+=2){let j=t.Util.transform(x,[A,P,L,O,B[D],B[D+1]]),[H,X]=t.Util.applyTransform([0,0],j);N.drawImage(M.canvas,H,X)}N.restore(),this.compose()}paintImageMaskXObjectGroup(C){if(!this.contentVisible)return;let A=this.ctx,P=this.current.fillColor,L=this.current.patternFill;for(let O of C){let{data:B,width:N,height:x,transform:M}=O,D=this.cachedCanvases.getCanvas("maskCanvas",N,x),F=D.context;F.save();let j=this.getObject(B,O);b(F,j),F.globalCompositeOperation="source-in",F.fillStyle=L?P.getPattern(F,this,(0,i.getCurrentTransformInverse)(A),s.PathType.FILL):P,F.fillRect(0,0,N,x),F.restore(),A.save(),A.transform(...M),A.scale(1,-1),v(A,D.canvas,0,0,N,x,0,-1,1,1),A.restore()}this.compose()}paintImageXObject(C){if(!this.contentVisible)return;let A=this.getObject(C);if(!A){(0,t.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(A)}paintImageXObjectRepeat(C,A,P,L){if(!this.contentVisible)return;let O=this.getObject(C);if(!O){(0,t.warn)("Dependent image isn't ready yet");return}let B=O.width,N=O.height,x=[];for(let M=0,D=L.length;M<D;M+=2)x.push({transform:[A,0,0,P,L[M],L[M+1]],x:0,y:0,w:B,h:N});this.paintInlineImageXObjectGroup(O,x)}applyTransferMapsToCanvas(C){return this.current.transferMaps!=="none"&&(C.filter=this.current.transferMaps,C.drawImage(C.canvas,0,0),C.filter="none"),C.canvas}applyTransferMapsToBitmap(C){if(this.current.transferMaps==="none")return C.bitmap;let{bitmap:A,width:P,height:L}=C,O=this.cachedCanvases.getCanvas("inlineImage",P,L),B=O.context;return B.filter=this.current.transferMaps,B.drawImage(A,0,0),B.filter="none",O.canvas}paintInlineImageXObject(C){if(!this.contentVisible)return;let A=C.width,P=C.height,L=this.ctx;if(this.save(),!t.isNodeJS){let{filter:N}=L;N!=="none"&&N!==""&&(L.filter="none")}L.scale(1/A,-1/P);let O;if(C.bitmap)O=this.applyTransferMapsToBitmap(C);else if(typeof HTMLElement=="function"&&C instanceof HTMLElement||!C.data)O=C;else{let x=this.cachedCanvases.getCanvas("inlineImage",A,P).context;g(x,C),O=this.applyTransferMapsToCanvas(x)}let B=this._scaleImage(O,(0,i.getCurrentTransformInverse)(L));L.imageSmoothingEnabled=$((0,i.getCurrentTransform)(L),C.interpolate),v(L,B.img,0,0,B.paintWidth,B.paintHeight,0,-P,A,P),this.compose(),this.restore()}paintInlineImageXObjectGroup(C,A){if(!this.contentVisible)return;let P=this.ctx,L;if(C.bitmap)L=C.bitmap;else{let O=C.width,B=C.height,x=this.cachedCanvases.getCanvas("inlineImage",O,B).context;g(x,C),L=this.applyTransferMapsToCanvas(x)}for(let O of A)P.save(),P.transform(...O.transform),P.scale(1,-1),v(P,L,O.x,O.y,O.w,O.h,0,-1,1,1),P.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(C){}markPointProps(C,A){}beginMarkedContent(C){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(C,A){C==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(A)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(C){let A=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(C);let P=this.ctx;this.pendingClip&&(A||(this.pendingClip===z?P.clip("evenodd"):P.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),P.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let C=(0,i.getCurrentTransform)(this.ctx);if(C[1]===0&&C[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(C[0]),Math.abs(C[3]));else{let A=Math.abs(C[0]*C[3]-C[2]*C[1]),P=Math.hypot(C[0],C[2]),L=Math.hypot(C[1],C[3]);this._cachedGetSinglePixelWidth=Math.max(P,L)/A}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){let{lineWidth:C}=this.current,{a:A,b:P,c:L,d:O}=this.ctx.getTransform(),B,N;if(P===0&&L===0){let x=Math.abs(A),M=Math.abs(O);if(x===M)if(C===0)B=N=1/x;else{let D=x*C;B=N=D<1?1/D:1}else if(C===0)B=1/x,N=1/M;else{let D=x*C,F=M*C;B=D<1?1/D:1,N=F<1?1/F:1}}else{let x=Math.abs(A*O-P*L),M=Math.hypot(A,P),D=Math.hypot(L,O);if(C===0)B=D/x,N=M/x;else{let F=C*x;B=D>F?D/F:1,N=M>F?M/F:1}}this._cachedScaleForStroking[0]=B,this._cachedScaleForStroking[1]=N}return this._cachedScaleForStroking}rescaleAndStroke(C){let{ctx:A}=this,{lineWidth:P}=this.current,[L,O]=this.getScaleForStroking();if(A.lineWidth=P||1,L===1&&O===1){A.stroke();return}let B=A.getLineDash();if(C&&A.save(),A.scale(L,O),B.length>0){let N=Math.max(L,O);A.setLineDash(B.map(x=>x/N)),A.lineDashOffset/=N}A.stroke(),C&&A.restore()}isContentVisible(){for(let C=this.markedContentStack.length-1;C>=0;C--)if(!this.markedContentStack[C].visible)return!1;return!0}}e.CanvasGraphics=I;for(let y in t.OPS)I.prototype[y]!==void 0&&(I.prototype[t.OPS[y]]=I.prototype[y])},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=p;var t=r(1),i=r(6);let s={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=s;function o(v,m){if(!m)return;let E=m[2]-m[0],g=m[3]-m[1],b=new Path2D;b.rect(m[0],m[1],E,g),v.clip(b)}class d{constructor(){this.constructor===d&&(0,t.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,t.unreachable)("Abstract method `getPattern` called.")}}class _ extends d{constructor(m){super(),this._type=m[1],this._bbox=m[2],this._colorStops=m[3],this._p0=m[4],this._p1=m[5],this._r0=m[6],this._r1=m[7],this.matrix=null}_createGradient(m){let E;this._type==="axial"?E=m.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(E=m.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let g of this._colorStops)E.addColorStop(g[0],g[1]);return E}getPattern(m,E,g,b){let w;if(b===s.STROKE||b===s.FILL){let S=E.current.getClippedPathBoundingBox(b,(0,i.getCurrentTransform)(m))||[0,0,0,0],T=Math.ceil(S[2]-S[0])||1,R=Math.ceil(S[3]-S[1])||1,k=E.cachedCanvases.getCanvas("pattern",T,R,!0),U=k.context;U.clearRect(0,0,U.canvas.width,U.canvas.height),U.beginPath(),U.rect(0,0,U.canvas.width,U.canvas.height),U.translate(-S[0],-S[1]),g=t.Util.transform(g,[1,0,0,1,S[0],S[1]]),U.transform(...E.baseTransform),this.matrix&&U.transform(...this.matrix),o(U,this._bbox),U.fillStyle=this._createGradient(U),U.fill(),w=m.createPattern(k.canvas,"no-repeat");let G=new DOMMatrix(g);w.setTransform(G)}else o(m,this._bbox),w=this._createGradient(m);return w}}function u(v,m,E,g,b,w,S,T){let R=m.coords,k=m.colors,U=v.data,G=v.width*4,$;R[E+1]>R[g+1]&&($=E,E=g,g=$,$=w,w=S,S=$),R[g+1]>R[b+1]&&($=g,g=b,b=$,$=S,S=T,T=$),R[E+1]>R[g+1]&&($=E,E=g,g=$,$=w,w=S,S=$);let J=(R[E]+m.offsetX)*m.scaleX,Z=(R[E+1]+m.offsetY)*m.scaleY,V=(R[g]+m.offsetX)*m.scaleX,z=(R[g+1]+m.offsetY)*m.scaleY,I=(R[b]+m.offsetX)*m.scaleX,y=(R[b+1]+m.offsetY)*m.scaleY;if(Z>=y)return;let C=k[w],A=k[w+1],P=k[w+2],L=k[S],O=k[S+1],B=k[S+2],N=k[T],x=k[T+1],M=k[T+2],D=Math.round(Z),F=Math.round(y),j,H,X,se,ee,W,Q,K;for(let te=D;te<=F;te++){if(te<z){let Ee=te<Z?0:(Z-te)/(Z-z);j=J-(J-V)*Ee,H=C-(C-L)*Ee,X=A-(A-O)*Ee,se=P-(P-B)*Ee}else{let Ee;te>y?Ee=1:z===y?Ee=0:Ee=(z-te)/(z-y),j=V-(V-I)*Ee,H=L-(L-N)*Ee,X=O-(O-x)*Ee,se=B-(B-M)*Ee}let ae;te<Z?ae=0:te>y?ae=1:ae=(Z-te)/(Z-y),ee=J-(J-I)*ae,W=C-(C-N)*ae,Q=A-(A-x)*ae,K=P-(P-M)*ae;let fe=Math.round(Math.min(j,ee)),ge=Math.round(Math.max(j,ee)),we=G*te+fe*4;for(let Ee=fe;Ee<=ge;Ee++)ae=(j-Ee)/(j-ee),ae<0?ae=0:ae>1&&(ae=1),U[we++]=H-(H-W)*ae|0,U[we++]=X-(X-Q)*ae|0,U[we++]=se-(se-K)*ae|0,U[we++]=255}}function c(v,m,E){let g=m.coords,b=m.colors,w,S;switch(m.type){case"lattice":let T=m.verticesPerRow,R=Math.floor(g.length/T)-1,k=T-1;for(w=0;w<R;w++){let U=w*T;for(let G=0;G<k;G++,U++)u(v,E,g[U],g[U+1],g[U+T],b[U],b[U+1],b[U+T]),u(v,E,g[U+T+1],g[U+1],g[U+T],b[U+T+1],b[U+1],b[U+T])}break;case"triangles":for(w=0,S=g.length;w<S;w+=3)u(v,E,g[w],g[w+1],g[w+2],b[w],b[w+1],b[w+2]);break;default:throw new Error("illegal figure")}}class a extends d{constructor(m){super(),this._coords=m[2],this._colors=m[3],this._figures=m[4],this._bounds=m[5],this._bbox=m[7],this._background=m[8],this.matrix=null}_createMeshCanvas(m,E,g){let T=Math.floor(this._bounds[0]),R=Math.floor(this._bounds[1]),k=Math.ceil(this._bounds[2])-T,U=Math.ceil(this._bounds[3])-R,G=Math.min(Math.ceil(Math.abs(k*m[0]*1.1)),3e3),$=Math.min(Math.ceil(Math.abs(U*m[1]*1.1)),3e3),J=k/G,Z=U/$,V={coords:this._coords,colors:this._colors,offsetX:-T,offsetY:-R,scaleX:1/J,scaleY:1/Z},z=G+2*2,I=$+2*2,y=g.getCanvas("mesh",z,I,!1),C=y.context,A=C.createImageData(G,$);if(E){let L=A.data;for(let O=0,B=L.length;O<B;O+=4)L[O]=E[0],L[O+1]=E[1],L[O+2]=E[2],L[O+3]=255}for(let L of this._figures)c(A,L,V);return C.putImageData(A,2,2),{canvas:y.canvas,offsetX:T-2*J,offsetY:R-2*Z,scaleX:J,scaleY:Z}}getPattern(m,E,g,b){o(m,this._bbox);let w;if(b===s.SHADING)w=t.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(m));else if(w=t.Util.singularValueDecompose2dScale(E.baseTransform),this.matrix){let T=t.Util.singularValueDecompose2dScale(this.matrix);w=[w[0]*T[0],w[1]*T[1]]}let S=this._createMeshCanvas(w,b===s.SHADING?null:this._background,E.cachedCanvases);return b!==s.SHADING&&(m.setTransform(...E.baseTransform),this.matrix&&m.transform(...this.matrix)),m.translate(S.offsetX,S.offsetY),m.scale(S.scaleX,S.scaleY),m.createPattern(S.canvas,"no-repeat")}}class l extends d{getPattern(){return"hotpink"}}function p(v){switch(v[0]){case"RadialAxial":return new _(v);case"Mesh":return new a(v);case"Dummy":return new l}throw new Error(`Unknown IR type: ${v[0]}`)}let f={COLORED:1,UNCOLORED:2},h=(()=>{class v{static MAX_PATTERN_SIZE=3e3;constructor(E,g,b,w,S){this.operatorList=E[2],this.matrix=E[3]||[1,0,0,1,0,0],this.bbox=E[4],this.xstep=E[5],this.ystep=E[6],this.paintType=E[7],this.tilingType=E[8],this.color=g,this.ctx=b,this.canvasGraphicsFactory=w,this.baseTransform=S}createPatternCanvas(E){let g=this.operatorList,b=this.bbox,w=this.xstep,S=this.ystep,T=this.paintType,R=this.tilingType,k=this.color,U=this.canvasGraphicsFactory;(0,t.info)("TilingType: "+R);let G=b[0],$=b[1],J=b[2],Z=b[3],V=t.Util.singularValueDecompose2dScale(this.matrix),z=t.Util.singularValueDecompose2dScale(this.baseTransform),I=[V[0]*z[0],V[1]*z[1]],y=this.getSizeAndScale(w,this.ctx.canvas.width,I[0]),C=this.getSizeAndScale(S,this.ctx.canvas.height,I[1]),A=E.cachedCanvases.getCanvas("pattern",y.size,C.size,!0),P=A.context,L=U.createCanvasGraphics(P);L.groupLevel=E.groupLevel,this.setFillAndStrokeStyleToContext(L,T,k);let O=G,B=$,N=J,x=Z;return G<0&&(O=0,N+=Math.abs(G)),$<0&&(B=0,x+=Math.abs($)),P.translate(-(y.scale*O),-(C.scale*B)),L.transform(y.scale,0,0,C.scale,0,0),P.save(),this.clipBbox(L,O,B,N,x),L.baseTransform=(0,i.getCurrentTransform)(L.ctx),L.executeOperatorList(g),L.endDrawing(),{canvas:A.canvas,scaleX:y.scale,scaleY:C.scale,offsetX:O,offsetY:B}}getSizeAndScale(E,g,b){E=Math.abs(E);let w=Math.max(v.MAX_PATTERN_SIZE,g),S=Math.ceil(E*b);return S>=w?S=w:b=S/E,{scale:b,size:S}}clipBbox(E,g,b,w,S){let T=w-g,R=S-b;E.ctx.rect(g,b,T,R),E.current.updateRectMinMax((0,i.getCurrentTransform)(E.ctx),[g,b,w,S]),E.clip(),E.endPath()}setFillAndStrokeStyleToContext(E,g,b){let w=E.ctx,S=E.current;switch(g){case f.COLORED:let T=this.ctx;w.fillStyle=T.fillStyle,w.strokeStyle=T.strokeStyle,S.fillColor=T.fillStyle,S.strokeColor=T.strokeStyle;break;case f.UNCOLORED:let R=t.Util.makeHexColor(b[0],b[1],b[2]);w.fillStyle=R,w.strokeStyle=R,S.fillColor=R,S.strokeColor=R;break;default:throw new t.FormatError(`Unsupported paint type: ${g}`)}}getPattern(E,g,b,w){let S=b;w!==s.SHADING&&(S=t.Util.transform(S,g.baseTransform),this.matrix&&(S=t.Util.transform(S,this.matrix)));let T=this.createPatternCanvas(g),R=new DOMMatrix(S);R=R.translate(T.offsetX,T.offsetY),R=R.scale(1/T.scaleX,1/T.scaleY);let k=E.createPattern(T.canvas,"repeat");return k.setTransform(R),k}}return v})();e.TilingPattern=h},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=s,e.convertToRGBA=i,e.grayToRGBA=d;var t=r(1);function i(_){switch(_.kind){case t.ImageKind.GRAYSCALE_1BPP:return s(_);case t.ImageKind.RGB_24BPP:return o(_)}return null}function s({src:_,srcPos:u=0,dest:c,width:a,height:l,nonBlackColor:p=4294967295,inverseDecode:f=!1}){let h=t.FeatureTest.isLittleEndian?4278190080:255,[v,m]=f?[p,h]:[h,p],E=a>>3,g=a&7,b=_.length;c=new Uint32Array(c.buffer);let w=0;for(let S=0;S<l;S++){for(let R=u+E;u<R;u++){let k=u<b?_[u]:255;c[w++]=k&128?m:v,c[w++]=k&64?m:v,c[w++]=k&32?m:v,c[w++]=k&16?m:v,c[w++]=k&8?m:v,c[w++]=k&4?m:v,c[w++]=k&2?m:v,c[w++]=k&1?m:v}if(g===0)continue;let T=u<b?_[u++]:255;for(let R=0;R<g;R++)c[w++]=T&1<<7-R?m:v}return{srcPos:u,destPos:w}}function o({src:_,srcPos:u=0,dest:c,destPos:a=0,width:l,height:p}){let f=0,h=_.length>>2,v=new Uint32Array(_.buffer,u,h);if(t.FeatureTest.isLittleEndian){for(;f<h-2;f+=3,a+=4){let m=v[f],E=v[f+1],g=v[f+2];c[a]=m|4278190080,c[a+1]=m>>>24|E<<8|4278190080,c[a+2]=E>>>16|g<<16|4278190080,c[a+3]=g>>>8|4278190080}for(let m=f*4,E=_.length;m<E;m+=3)c[a++]=_[m]|_[m+1]<<8|_[m+2]<<16|4278190080}else{for(;f<h-2;f+=3,a+=4){let m=v[f],E=v[f+1],g=v[f+2];c[a]=m|255,c[a+1]=m<<24|E>>>8|255,c[a+2]=E<<16|g>>>16|255,c[a+3]=g<<8|255}for(let m=f*4,E=_.length;m<E;m+=3)c[a++]=_[m]<<24|_[m+1]<<16|_[m+2]<<8|255}return{srcPos:u,destPos:a}}function d(_,u){if(t.FeatureTest.isLittleEndian)for(let c=0,a=_.length;c<a;c++)u[c]=_[c]*65793|4278190080;else for(let c=0,a=_.length;c<a;c++)u[c]=_[c]*16843008|255}},(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;let r=Object.create(null);e.GlobalWorkerOptions=r,r.workerPort=null,r.workerSrc=""},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var t=r(1);let i={UNKNOWN:0,DATA:1,ERROR:2},s={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function o(_){switch(_ instanceof Error||typeof _=="object"&&_!==null||(0,t.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),_.name){case"AbortException":return new t.AbortException(_.message);case"MissingPDFException":return new t.MissingPDFException(_.message);case"PasswordException":return new t.PasswordException(_.message,_.code);case"UnexpectedResponseException":return new t.UnexpectedResponseException(_.message,_.status);case"UnknownErrorException":return new t.UnknownErrorException(_.message,_.details);default:return new t.UnknownErrorException(_.message,_.toString())}}class d{constructor(u,c,a){this.sourceName=u,this.targetName=c,this.comObj=a,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=l=>{let p=l.data;if(p.targetName!==this.sourceName)return;if(p.stream){this.#t(p);return}if(p.callback){let h=p.callbackId,v=this.callbackCapabilities[h];if(!v)throw new Error(`Cannot resolve callback ${h}`);if(delete this.callbackCapabilities[h],p.callback===i.DATA)v.resolve(p.data);else if(p.callback===i.ERROR)v.reject(o(p.reason));else throw new Error("Unexpected callback case");return}let f=this.actionHandler[p.action];if(!f)throw new Error(`Unknown action from worker: ${p.action}`);if(p.callbackId){let h=this.sourceName,v=p.sourceName;new Promise(function(m){m(f(p.data))}).then(function(m){a.postMessage({sourceName:h,targetName:v,callback:i.DATA,callbackId:p.callbackId,data:m})},function(m){a.postMessage({sourceName:h,targetName:v,callback:i.ERROR,callbackId:p.callbackId,reason:o(m)})});return}if(p.streamId){this.#e(p);return}f(p.data)},a.addEventListener("message",this._onComObjOnMessage)}on(u,c){let a=this.actionHandler;if(a[u])throw new Error(`There is already an actionName called "${u}"`);a[u]=c}send(u,c,a){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:u,data:c},a)}sendWithPromise(u,c,a){let l=this.callbackId++,p=new t.PromiseCapability;this.callbackCapabilities[l]=p;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:u,callbackId:l,data:c},a)}catch(f){p.reject(f)}return p.promise}sendWithStream(u,c,a,l){let p=this.streamId++,f=this.sourceName,h=this.targetName,v=this.comObj;return new ReadableStream({start:m=>{let E=new t.PromiseCapability;return this.streamControllers[p]={controller:m,startCall:E,pullCall:null,cancelCall:null,isClosed:!1},v.postMessage({sourceName:f,targetName:h,action:u,streamId:p,data:c,desiredSize:m.desiredSize},l),E.promise},pull:m=>{let E=new t.PromiseCapability;return this.streamControllers[p].pullCall=E,v.postMessage({sourceName:f,targetName:h,stream:s.PULL,streamId:p,desiredSize:m.desiredSize}),E.promise},cancel:m=>{(0,t.assert)(m instanceof Error,"cancel must have a valid reason");let E=new t.PromiseCapability;return this.streamControllers[p].cancelCall=E,this.streamControllers[p].isClosed=!0,v.postMessage({sourceName:f,targetName:h,stream:s.CANCEL,streamId:p,reason:o(m)}),E.promise}},a)}#e(u){let c=u.streamId,a=this.sourceName,l=u.sourceName,p=this.comObj,f=this,h=this.actionHandler[u.action],v={enqueue(m,E=1,g){if(this.isCancelled)return;let b=this.desiredSize;this.desiredSize-=E,b>0&&this.desiredSize<=0&&(this.sinkCapability=new t.PromiseCapability,this.ready=this.sinkCapability.promise),p.postMessage({sourceName:a,targetName:l,stream:s.ENQUEUE,streamId:c,chunk:m},g)},close(){this.isCancelled||(this.isCancelled=!0,p.postMessage({sourceName:a,targetName:l,stream:s.CLOSE,streamId:c}),delete f.streamSinks[c])},error(m){(0,t.assert)(m instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,p.postMessage({sourceName:a,targetName:l,stream:s.ERROR,streamId:c,reason:o(m)}))},sinkCapability:new t.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:u.desiredSize,ready:null};v.sinkCapability.resolve(),v.ready=v.sinkCapability.promise,this.streamSinks[c]=v,new Promise(function(m){m(h(u.data,v))}).then(function(){p.postMessage({sourceName:a,targetName:l,stream:s.START_COMPLETE,streamId:c,success:!0})},function(m){p.postMessage({sourceName:a,targetName:l,stream:s.START_COMPLETE,streamId:c,reason:o(m)})})}#t(u){let c=u.streamId,a=this.sourceName,l=u.sourceName,p=this.comObj,f=this.streamControllers[c],h=this.streamSinks[c];switch(u.stream){case s.START_COMPLETE:u.success?f.startCall.resolve():f.startCall.reject(o(u.reason));break;case s.PULL_COMPLETE:u.success?f.pullCall.resolve():f.pullCall.reject(o(u.reason));break;case s.PULL:if(!h){p.postMessage({sourceName:a,targetName:l,stream:s.PULL_COMPLETE,streamId:c,success:!0});break}h.desiredSize<=0&&u.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=u.desiredSize,new Promise(function(v){v(h.onPull?.())}).then(function(){p.postMessage({sourceName:a,targetName:l,stream:s.PULL_COMPLETE,streamId:c,success:!0})},function(v){p.postMessage({sourceName:a,targetName:l,stream:s.PULL_COMPLETE,streamId:c,reason:o(v)})});break;case s.ENQUEUE:if((0,t.assert)(f,"enqueue should have stream controller"),f.isClosed)break;f.controller.enqueue(u.chunk);break;case s.CLOSE:if((0,t.assert)(f,"close should have stream controller"),f.isClosed)break;f.isClosed=!0,f.controller.close(),this.#i(f,c);break;case s.ERROR:(0,t.assert)(f,"error should have stream controller"),f.controller.error(o(u.reason)),this.#i(f,c);break;case s.CANCEL_COMPLETE:u.success?f.cancelCall.resolve():f.cancelCall.reject(o(u.reason)),this.#i(f,c);break;case s.CANCEL:if(!h)break;new Promise(function(v){v(h.onCancel?.(o(u.reason)))}).then(function(){p.postMessage({sourceName:a,targetName:l,stream:s.CANCEL_COMPLETE,streamId:c,success:!0})},function(v){p.postMessage({sourceName:a,targetName:l,stream:s.CANCEL_COMPLETE,streamId:c,reason:o(v)})}),h.sinkCapability.reject(o(u.reason)),h.isCancelled=!0,delete this.streamSinks[c];break;default:throw new Error("Unexpected stream case")}}#i(u,c){return me(this,null,function*(){yield Promise.allSettled([u.startCall?.promise,u.pullCall?.promise,u.cancelCall?.promise]),delete this.streamControllers[c]})}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}e.MessageHandler=d},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var t=r(1);class i{#e;#t;constructor({parsedData:o,rawData:d}){this.#e=o,this.#t=d}getRaw(){return this.#t}get(o){return this.#e.get(o)??null}getAll(){return(0,t.objectFromMap)(this.#e)}has(o){return this.#e.has(o)}}e.Metadata=i},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var t=r(1),i=r(8);let s=Symbol("INTERNAL");class o{#e=!0;constructor(u,c){this.name=u,this.intent=c}get visible(){return this.#e}_setVisible(u,c){u!==s&&(0,t.unreachable)("Internal method `_setVisible` called."),this.#e=c}}class d{#e=null;#t=new Map;#i=null;#n=null;constructor(u){if(this.name=null,this.creator=null,u!==null){this.name=u.name,this.creator=u.creator,this.#n=u.order;for(let c of u.groups)this.#t.set(c.id,new o(c.name,c.intent));if(u.baseState==="OFF")for(let c of this.#t.values())c._setVisible(s,!1);for(let c of u.on)this.#t.get(c)._setVisible(s,!0);for(let c of u.off)this.#t.get(c)._setVisible(s,!1);this.#i=this.getHash()}}#a(u){let c=u.length;if(c<2)return!0;let a=u[0];for(let l=1;l<c;l++){let p=u[l],f;if(Array.isArray(p))f=this.#a(p);else if(this.#t.has(p))f=this.#t.get(p).visible;else return(0,t.warn)(`Optional content group not found: ${p}`),!0;switch(a){case"And":if(!f)return!1;break;case"Or":if(f)return!0;break;case"Not":return!f;default:return!0}}return a==="And"}isVisible(u){if(this.#t.size===0)return!0;if(!u)return(0,t.warn)("Optional content group not defined."),!0;if(u.type==="OCG")return this.#t.has(u.id)?this.#t.get(u.id).visible:((0,t.warn)(`Optional content group not found: ${u.id}`),!0);if(u.type==="OCMD"){if(u.expression)return this.#a(u.expression);if(!u.policy||u.policy==="AnyOn"){for(let c of u.ids){if(!this.#t.has(c))return(0,t.warn)(`Optional content group not found: ${c}`),!0;if(this.#t.get(c).visible)return!0}return!1}else if(u.policy==="AllOn"){for(let c of u.ids){if(!this.#t.has(c))return(0,t.warn)(`Optional content group not found: ${c}`),!0;if(!this.#t.get(c).visible)return!1}return!0}else if(u.policy==="AnyOff"){for(let c of u.ids){if(!this.#t.has(c))return(0,t.warn)(`Optional content group not found: ${c}`),!0;if(!this.#t.get(c).visible)return!0}return!1}else if(u.policy==="AllOff"){for(let c of u.ids){if(!this.#t.has(c))return(0,t.warn)(`Optional content group not found: ${c}`),!0;if(this.#t.get(c).visible)return!1}return!0}return(0,t.warn)(`Unknown optional content policy ${u.policy}.`),!0}return(0,t.warn)(`Unknown group type ${u.type}.`),!0}setVisibility(u,c=!0){if(!this.#t.has(u)){(0,t.warn)(`Optional content group not found: ${u}`);return}this.#t.get(u)._setVisible(s,!!c),this.#e=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,t.objectFromMap)(this.#t):null}getGroup(u){return this.#t.get(u)||null}getHash(){if(this.#e!==null)return this.#e;let u=new i.MurmurHash3_64;for(let[c,a]of this.#t)u.update(`${c}:${a.visible}`);return this.#e=u.hexdigest()}}e.OptionalContentConfig=d},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var t=r(1),i=r(6);class s{constructor({length:u,initialData:c,progressiveDone:a=!1,contentDispositionFilename:l=null,disableRange:p=!1,disableStream:f=!1},h){if((0,t.assert)(h,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=l,c?.length>0){let v=c instanceof Uint8Array&&c.byteLength===c.buffer.byteLength?c.buffer:new Uint8Array(c).buffer;this._queuedChunks.push(v)}this._pdfDataRangeTransport=h,this._isStreamingSupported=!f,this._isRangeSupported=!p,this._contentLength=u,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((v,m)=>{this._onReceiveData({begin:v,chunk:m})}),this._pdfDataRangeTransport.addProgressListener((v,m)=>{this._onProgress({loaded:v,total:m})}),this._pdfDataRangeTransport.addProgressiveReadListener(v=>{this._onReceiveData({chunk:v})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:u,chunk:c}){let a=c instanceof Uint8Array&&c.byteLength===c.buffer.byteLength?c.buffer:new Uint8Array(c).buffer;if(u===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(a):this._queuedChunks.push(a);else{let l=this._rangeReaders.some(function(p){return p._begin!==u?!1:(p._enqueue(a),!0)});(0,t.assert)(l,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(u){u.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:u.loaded}):this._fullRequestReader?.onProgress?.({loaded:u.loaded,total:u.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(u){let c=this._rangeReaders.indexOf(u);c>=0&&this._rangeReaders.splice(c,1)}getFullReader(){(0,t.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let u=this._queuedChunks;return this._queuedChunks=null,new o(this,u,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(u,c){if(c<=this._progressiveDataLength)return null;let a=new d(this,u,c);return this._pdfDataRangeTransport.requestDataRange(u,c),this._rangeReaders.push(a),a}cancelAllRequests(u){this._fullRequestReader?.cancel(u);for(let c of this._rangeReaders.slice(0))c.cancel(u);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=s;class o{constructor(u,c,a=!1,l=null){this._stream=u,this._done=a||!1,this._filename=(0,i.isPdfFile)(l)?l:null,this._queuedChunks=c||[],this._loaded=0;for(let p of this._queuedChunks)this._loaded+=p.byteLength;this._requests=[],this._headersReady=Promise.resolve(),u._fullRequestReader=this,this.onProgress=null}_enqueue(u){this._done||(this._requests.length>0?this._requests.shift().resolve({value:u,done:!1}):this._queuedChunks.push(u),this._loaded+=u.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return me(this,null,function*(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let u=new t.PromiseCapability;return this._requests.push(u),u.promise})}cancel(u){this._done=!0;for(let c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class d{constructor(u,c,a){this._stream=u,this._begin=c,this._end=a,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(u){if(!this._done){if(this._requests.length===0)this._queuedChunk=u;else{this._requests.shift().resolve({value:u,done:!1});for(let a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return me(this,null,function*(){if(this._queuedChunk){let c=this._queuedChunk;return this._queuedChunk=null,{value:c,done:!1}}if(this._done)return{value:void 0,done:!0};let u=new t.PromiseCapability;return this._requests.push(u),u.promise})}cancel(u){this._done=!0;for(let c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var t=r(1),i=r(20);function s(a,l,p){return{method:"GET",headers:a,signal:p.signal,mode:"cors",credentials:l?"include":"same-origin",redirect:"follow"}}function o(a){let l=new Headers;for(let p in a){let f=a[p];f!==void 0&&l.append(p,f)}return l}function d(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:((0,t.warn)(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class _{constructor(l){this.source=l,this.isHttp=/^https?:/i.test(l.url),this.httpHeaders=this.isHttp&&l.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,t.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new u(this),this._fullRequestReader}getRangeReader(l,p){if(p<=this._progressiveDataLength)return null;let f=new c(this,l,p);return this._rangeRequestReaders.push(f),f}cancelAllRequests(l){this._fullRequestReader?.cancel(l);for(let p of this._rangeRequestReaders.slice(0))p.cancel(l)}}e.PDFFetchStream=_;class u{constructor(l){this._stream=l,this._reader=null,this._loaded=0,this._filename=null;let p=l.source;this._withCredentials=p.withCredentials||!1,this._contentLength=p.length,this._headersCapability=new t.PromiseCapability,this._disableRange=p.disableRange||!1,this._rangeChunkSize=p.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!p.disableStream,this._isRangeSupported=!p.disableRange,this._headers=o(this._stream.httpHeaders);let f=p.url;fetch(f,s(this._headers,this._withCredentials,this._abortController)).then(h=>{if(!(0,i.validateResponseStatus)(h.status))throw(0,i.createResponseStatusError)(h.status,f);this._reader=h.body.getReader(),this._headersCapability.resolve();let v=g=>h.headers.get(g),{allowRangeRequests:m,suggestedLength:E}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:v,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=m,this._contentLength=E||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(v),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new t.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return me(this,null,function*(){yield this._headersCapability.promise;let{value:l,done:p}=yield this._reader.read();return p?{value:l,done:p}:(this._loaded+=l.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:d(l),done:!1})})}cancel(l){this._reader?.cancel(l),this._abortController.abort()}}class c{constructor(l,p,f){this._stream=l,this._reader=null,this._loaded=0;let h=l.source;this._withCredentials=h.withCredentials||!1,this._readCapability=new t.PromiseCapability,this._isStreamingSupported=!h.disableStream,this._abortController=new AbortController,this._headers=o(this._stream.httpHeaders),this._headers.append("Range",`bytes=${p}-${f-1}`);let v=h.url;fetch(v,s(this._headers,this._withCredentials,this._abortController)).then(m=>{if(!(0,i.validateResponseStatus)(m.status))throw(0,i.createResponseStatusError)(m.status,v);this._readCapability.resolve(),this._reader=m.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return me(this,null,function*(){yield this._readCapability.promise;let{value:l,done:p}=yield this._reader.read();return p?{value:l,done:p}:(this._loaded+=l.byteLength,this.onProgress?.({loaded:this._loaded}),{value:d(l),done:!1})})}cancel(l){this._reader?.cancel(l),this._abortController.abort()}}},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=_,e.extractFilenameFromHeader=d,e.validateRangeRequestCapabilities=o,e.validateResponseStatus=u;var t=r(1),i=r(21),s=r(6);function o({getResponseHeader:c,isHttp:a,rangeChunkSize:l,disableRange:p}){let f={allowRangeRequests:!1,suggestedLength:void 0},h=parseInt(c("Content-Length"),10);return!Number.isInteger(h)||(f.suggestedLength=h,h<=2*l)||p||!a||c("Accept-Ranges")!=="bytes"||(c("Content-Encoding")||"identity")!=="identity"||(f.allowRangeRequests=!0),f}function d(c){let a=c("Content-Disposition");if(a){let l=(0,i.getFilenameFromContentDispositionHeader)(a);if(l.includes("%"))try{l=decodeURIComponent(l)}catch{}if((0,s.isPdfFile)(l))return l}return null}function _(c,a){return c===404||c===0&&a.startsWith("file:")?new t.MissingPDFException('Missing PDF "'+a+'".'):new t.UnexpectedResponseException(`Unexpected server response (${c}) while retrieving PDF "${a}".`,c)}function u(c){return c===200||c===206}},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=i;var t=r(1);function i(s){let o=!0,d=_("filename\\*","i").exec(s);if(d){d=d[1];let h=l(d);return h=unescape(h),h=p(h),h=f(h),c(h)}if(d=a(s),d){let h=f(d);return c(h)}if(d=_("filename","i").exec(s),d){d=d[1];let h=l(d);return h=f(h),c(h)}function _(h,v){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function u(h,v){if(h){if(!/^[\x00-\xFF]+$/.test(v))return v;try{let m=new TextDecoder(h,{fatal:!0}),E=(0,t.stringToBytes)(v);v=m.decode(E),o=!1}catch{}}return v}function c(h){return o&&/[\x80-\xff]/.test(h)&&(h=u("utf-8",h),o&&(h=u("iso-8859-1",h))),h}function a(h){let v=[],m,E=_("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=E.exec(h))!==null;){let[,b,w,S]=m;if(b=parseInt(b,10),b in v){if(b===0)break;continue}v[b]=[w,S]}let g=[];for(let b=0;b<v.length&&b in v;++b){let[w,S]=v[b];S=l(S),w&&(S=unescape(S),b===0&&(S=p(S))),g.push(S)}return g.join("")}function l(h){if(h.startsWith('"')){let v=h.slice(1).split('\\"');for(let m=0;m<v.length;++m){let E=v[m].indexOf('"');E!==-1&&(v[m]=v[m].slice(0,E),v.length=m+1),v[m]=v[m].replaceAll(/\\(.)/g,"$1")}h=v.join('"')}return h}function p(h){let v=h.indexOf("'");if(v===-1)return h;let m=h.slice(0,v),g=h.slice(v+1).replace(/^[^']*'/,"");return u(m,g)}function f(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,m,E,g){if(E==="q"||E==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,w){return String.fromCharCode(parseInt(w,16))}),u(m,g);try{g=atob(g)}catch{}return u(m,g)})}return""}},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var t=r(1),i=r(20);let s=200,o=206;function d(l){let p=l.response;return typeof p!="string"?p:(0,t.stringToBytes)(p).buffer}class _{constructor(p,f={}){this.url=p,this.isHttp=/^https?:/i.test(p),this.httpHeaders=this.isHttp&&f.httpHeaders||Object.create(null),this.withCredentials=f.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(p,f,h){let v={begin:p,end:f};for(let m in h)v[m]=h[m];return this.request(v)}requestFull(p){return this.request(p)}request(p){let f=new XMLHttpRequest,h=this.currXhrId++,v=this.pendingRequests[h]={xhr:f};f.open("GET",this.url),f.withCredentials=this.withCredentials;for(let m in this.httpHeaders){let E=this.httpHeaders[m];E!==void 0&&f.setRequestHeader(m,E)}return this.isHttp&&"begin"in p&&"end"in p?(f.setRequestHeader("Range",`bytes=${p.begin}-${p.end-1}`),v.expectedStatus=o):v.expectedStatus=s,f.responseType="arraybuffer",p.onError&&(f.onerror=function(m){p.onError(f.status)}),f.onreadystatechange=this.onStateChange.bind(this,h),f.onprogress=this.onProgress.bind(this,h),v.onHeadersReceived=p.onHeadersReceived,v.onDone=p.onDone,v.onError=p.onError,v.onProgress=p.onProgress,f.send(null),h}onProgress(p,f){let h=this.pendingRequests[p];h&&h.onProgress?.(f)}onStateChange(p,f){let h=this.pendingRequests[p];if(!h)return;let v=h.xhr;if(v.readyState>=2&&h.onHeadersReceived&&(h.onHeadersReceived(),delete h.onHeadersReceived),v.readyState!==4||!(p in this.pendingRequests))return;if(delete this.pendingRequests[p],v.status===0&&this.isHttp){h.onError?.(v.status);return}let m=v.status||s;if(!(m===s&&h.expectedStatus===o)&&m!==h.expectedStatus){h.onError?.(v.status);return}let g=d(v);if(m===o){let b=v.getResponseHeader("Content-Range"),w=/bytes (\d+)-(\d+)\/(\d+)/.exec(b);h.onDone({begin:parseInt(w[1],10),chunk:g})}else g?h.onDone({begin:0,chunk:g}):h.onError?.(v.status)}getRequestXhr(p){return this.pendingRequests[p].xhr}isPendingRequest(p){return p in this.pendingRequests}abortRequest(p){let f=this.pendingRequests[p].xhr;delete this.pendingRequests[p],f.abort()}}class u{constructor(p){this._source=p,this._manager=new _(p.url,{httpHeaders:p.httpHeaders,withCredentials:p.withCredentials}),this._rangeChunkSize=p.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(p){let f=this._rangeRequestReaders.indexOf(p);f>=0&&this._rangeRequestReaders.splice(f,1)}getFullReader(){return(0,t.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new c(this._manager,this._source),this._fullRequestReader}getRangeReader(p,f){let h=new a(this._manager,p,f);return h.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(h),h}cancelAllRequests(p){this._fullRequestReader?.cancel(p);for(let f of this._rangeRequestReaders.slice(0))f.cancel(p)}}e.PDFNetworkStream=u;class c{constructor(p,f){this._manager=p;let h={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=f.url,this._fullRequestId=p.requestFull(h),this._headersReceivedCapability=new t.PromiseCapability,this._disableRange=f.disableRange||!1,this._contentLength=f.length,this._rangeChunkSize=f.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let p=this._fullRequestId,f=this._manager.getRequestXhr(p),h=E=>f.getResponseHeader(E),{allowRangeRequests:v,suggestedLength:m}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:h,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});v&&(this._isRangeSupported=!0),this._contentLength=m||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(h),this._isRangeSupported&&this._manager.abortRequest(p),this._headersReceivedCapability.resolve()}_onDone(p){if(p&&(this._requests.length>0?this._requests.shift().resolve({value:p.chunk,done:!1}):this._cachedChunks.push(p.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(p){this._storedError=(0,i.createResponseStatusError)(p,this._url),this._headersReceivedCapability.reject(this._storedError);for(let f of this._requests)f.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(p){this.onProgress?.({loaded:p.loaded,total:p.lengthComputable?p.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){return me(this,null,function*(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let p=new t.PromiseCapability;return this._requests.push(p),p.promise})}cancel(p){this._done=!0,this._headersReceivedCapability.reject(p);for(let f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class a{constructor(p,f,h){this._manager=p;let v={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=p.url,this._requestId=p.requestRange(f,h,v),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(p){let f=p.chunk;this._requests.length>0?this._requests.shift().resolve({value:f,done:!1}):this._queuedChunk=f,this._done=!0;for(let h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(p){this._storedError=(0,i.createResponseStatusError)(p,this._url);for(let f of this._requests)f.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(p){this.isStreamingSupported||this.onProgress?.({loaded:p.loaded})}get isStreamingSupported(){return!1}read(){return me(this,null,function*(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let f=this._queuedChunk;return this._queuedChunk=null,{value:f,done:!1}}if(this._done)return{value:void 0,done:!0};let p=new t.PromiseCapability;return this._requests.push(p),p.promise})}cancel(p){this._done=!0;for(let f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var t=r(1),i=r(20);let s=/^file:\/\/\/[a-zA-Z]:\//;function o(h){let v=jh(),m=v.parse(h);return m.protocol==="file:"||m.host?m:/^[a-z]:[/\\]/i.test(h)?v.parse(`file:///${h}`):(m.host||(m.protocol="file:"),m)}class d{constructor(v){this.source=v,this.url=o(v.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&v.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,t.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new p(this):new a(this),this._fullRequestReader}getRangeReader(v,m){if(m<=this._progressiveDataLength)return null;let E=this.isFsUrl?new f(this,v,m):new l(this,v,m);return this._rangeRequestReaders.push(E),E}cancelAllRequests(v){this._fullRequestReader?.cancel(v);for(let m of this._rangeRequestReaders.slice(0))m.cancel(v)}}e.PDFNodeStream=d;class _{constructor(v){this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null;let m=v.source;this._contentLength=m.length,this._loaded=0,this._filename=null,this._disableRange=m.disableRange||!1,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!m.disableStream,this._isRangeSupported=!m.disableRange,this._readableStream=null,this._readCapability=new t.PromiseCapability,this._headersCapability=new t.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return me(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let v=this._readableStream.read();return v===null?(this._readCapability=new t.PromiseCapability,this.read()):(this._loaded+=v.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(v).buffer,done:!1})})}cancel(v){if(!this._readableStream){this._error(v);return}this._readableStream.destroy(v)}_error(v){this._storedError=v,this._readCapability.resolve()}_setReadableStream(v){this._readableStream=v,v.on("readable",()=>{this._readCapability.resolve()}),v.on("end",()=>{v.destroy(),this._done=!0,this._readCapability.resolve()}),v.on("error",m=>{this._error(m)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new t.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class u{constructor(v){this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new t.PromiseCapability;let m=v.source;this._isStreamingSupported=!m.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){return me(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let v=this._readableStream.read();return v===null?(this._readCapability=new t.PromiseCapability,this.read()):(this._loaded+=v.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(v).buffer,done:!1})})}cancel(v){if(!this._readableStream){this._error(v);return}this._readableStream.destroy(v)}_error(v){this._storedError=v,this._readCapability.resolve()}_setReadableStream(v){this._readableStream=v,v.on("readable",()=>{this._readCapability.resolve()}),v.on("end",()=>{v.destroy(),this._done=!0,this._readCapability.resolve()}),v.on("error",m=>{this._error(m)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function c(h,v){return{protocol:h.protocol,auth:h.auth,host:h.hostname,port:h.port,path:h.path,method:"GET",headers:v}}class a extends _{constructor(v){super(v);let m=E=>{if(E.statusCode===404){let S=new t.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=S,this._headersCapability.reject(S);return}this._headersCapability.resolve(),this._setReadableStream(E);let g=S=>this._readableStream.headers[S.toLowerCase()],{allowRangeRequests:b,suggestedLength:w}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:g,isHttp:v.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=b,this._contentLength=w||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(g)};if(this._request=null,this._url.protocol==="http:"){let E=yl();this._request=E.request(c(this._url,v.httpHeaders),m)}else{let E=xl();this._request=E.request(c(this._url,v.httpHeaders),m)}this._request.on("error",E=>{this._storedError=E,this._headersCapability.reject(E)}),this._request.end()}}class l extends u{constructor(v,m,E){super(v),this._httpHeaders={};for(let b in v.httpHeaders){let w=v.httpHeaders[b];w!==void 0&&(this._httpHeaders[b]=w)}this._httpHeaders.Range=`bytes=${m}-${E-1}`;let g=b=>{if(b.statusCode===404){let w=new t.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=w;return}this._setReadableStream(b)};if(this._request=null,this._url.protocol==="http:"){let b=yl();this._request=b.request(c(this._url,this._httpHeaders),g)}else{let b=xl();this._request=b.request(c(this._url,this._httpHeaders),g)}this._request.on("error",b=>{this._storedError=b}),this._request.end()}}class p extends _{constructor(v){super(v);let m=decodeURIComponent(this._url.path);s.test(this._url.href)&&(m=m.replace(/^\//,""));let E=Ks();E.lstat(m,(g,b)=>{if(g){g.code==="ENOENT"&&(g=new t.MissingPDFException(`Missing PDF "${m}".`)),this._storedError=g,this._headersCapability.reject(g);return}this._contentLength=b.size,this._setReadableStream(E.createReadStream(m)),this._headersCapability.resolve()})}}class f extends u{constructor(v,m,E){super(v);let g=decodeURIComponent(this._url.path);s.test(this._url.href)&&(g=g.replace(/^\//,""));let b=Ks();this._setReadableStream(b.createReadStream(g,{start:m,end:E-1}))}}},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var t=r(6),i=r(1);let s={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},o="http://www.w3.org/XML/1998/namespace",d="http://www.w3.org/1999/xlink",_=["butt","round","square"],u=["miter","round","bevel"],c=function(b,w="",S=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!S)return URL.createObjectURL(new Blob([b],{type:w}));let T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",R=`data:${w};base64,`;for(let k=0,U=b.length;k<U;k+=3){let G=b[k]&255,$=b[k+1]&255,J=b[k+2]&255,Z=G>>2,V=(G&3)<<4|$>>4,z=k+1<U?($&15)<<2|J>>6:64,I=k+2<U?J&63:64;R+=T[Z]+T[V]+T[z]+T[I]}return R},a=function(){let b=new Uint8Array([137,80,78,71,13,10,26,10]),w=12,S=new Int32Array(256);for(let J=0;J<256;J++){let Z=J;for(let V=0;V<8;V++)Z=Z&1?3988292384^Z>>1&2147483647:Z>>1&2147483647;S[J]=Z}function T(J,Z,V){let z=-1;for(let I=Z;I<V;I++){let y=(z^J[I])&255,C=S[y];z=z>>>8^C}return z^-1}function R(J,Z,V,z){let I=z,y=Z.length;V[I]=y>>24&255,V[I+1]=y>>16&255,V[I+2]=y>>8&255,V[I+3]=y&255,I+=4,V[I]=J.charCodeAt(0)&255,V[I+1]=J.charCodeAt(1)&255,V[I+2]=J.charCodeAt(2)&255,V[I+3]=J.charCodeAt(3)&255,I+=4,V.set(Z,I),I+=Z.length;let C=T(V,z+4,I);V[I]=C>>24&255,V[I+1]=C>>16&255,V[I+2]=C>>8&255,V[I+3]=C&255}function k(J,Z,V){let z=1,I=0;for(let y=Z;y<V;++y)z=(z+(J[y]&255))%65521,I=(I+z)%65521;return I<<16|z}function U(J){if(!i.isNodeJS)return G(J);try{let Z=parseInt(process.versions.node)>=8?J:Buffer.from(J),V=Bh().deflateSync(Z,{level:9});return V instanceof Uint8Array?V:new Uint8Array(V)}catch(Z){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Z)}return G(J)}function G(J){let Z=J.length,V=65535,z=Math.ceil(Z/V),I=new Uint8Array(2+Z+z*5+4),y=0;I[y++]=120,I[y++]=156;let C=0;for(;Z>V;)I[y++]=0,I[y++]=255,I[y++]=255,I[y++]=0,I[y++]=0,I.set(J.subarray(C,C+V),y),y+=V,C+=V,Z-=V;I[y++]=1,I[y++]=Z&255,I[y++]=Z>>8&255,I[y++]=~Z&65535&255,I[y++]=(~Z&65535)>>8&255,I.set(J.subarray(C),y),y+=J.length-C;let A=k(J,0,J.length);return I[y++]=A>>24&255,I[y++]=A>>16&255,I[y++]=A>>8&255,I[y++]=A&255,I}function $(J,Z,V,z){let I=J.width,y=J.height,C,A,P,L=J.data;switch(Z){case i.ImageKind.GRAYSCALE_1BPP:A=0,C=1,P=I+7>>3;break;case i.ImageKind.RGB_24BPP:A=2,C=8,P=I*3;break;case i.ImageKind.RGBA_32BPP:A=6,C=8,P=I*4;break;default:throw new Error("invalid format")}let O=new Uint8Array((1+P)*y),B=0,N=0;for(let H=0;H<y;++H)O[B++]=0,O.set(L.subarray(N,N+P),B),N+=P,B+=P;if(Z===i.ImageKind.GRAYSCALE_1BPP&&z){B=0;for(let H=0;H<y;H++){B++;for(let X=0;X<P;X++)O[B++]^=255}}let x=new Uint8Array([I>>24&255,I>>16&255,I>>8&255,I&255,y>>24&255,y>>16&255,y>>8&255,y&255,C,A,0,0,0]),M=U(O),D=b.length+w*3+x.length+M.length,F=new Uint8Array(D),j=0;return F.set(b,j),j+=b.length,R("IHDR",x,F,j),j+=w+x.length,R("IDATA",M,F,j),j+=w+M.length,R("IEND",new Uint8Array(0),F,j),c(F,"image/png",V)}return function(Z,V,z){let I=Z.kind===void 0?i.ImageKind.GRAYSCALE_1BPP:Z.kind;return $(Z,I,V,z)}}();class l{constructor(){this.fontSizeScale=1,this.fontWeight=s.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=s.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(w,S){this.x=w,this.y=S}}function p(b){let w=[],S=[];for(let T of b){if(T.fn==="save"){w.push({fnId:92,fn:"group",items:[]}),S.push(w),w=w.at(-1).items;continue}T.fn==="restore"?w=S.pop():w.push(T)}return w}function f(b){if(Number.isInteger(b))return b.toString();let w=b.toFixed(10),S=w.length-1;if(w[S]!=="0")return w;do S--;while(w[S]==="0");return w.substring(0,w[S]==="."?S:S+1)}function h(b){if(b[4]===0&&b[5]===0){if(b[1]===0&&b[2]===0)return b[0]===1&&b[3]===1?"":`scale(${f(b[0])} ${f(b[3])})`;if(b[0]===b[3]&&b[1]===-b[2]){let w=Math.acos(b[0])*180/Math.PI;return`rotate(${f(w)})`}}else if(b[0]===1&&b[1]===0&&b[2]===0&&b[3]===1)return`translate(${f(b[4])} ${f(b[5])})`;return`matrix(${f(b[0])} ${f(b[1])} ${f(b[2])} ${f(b[3])} ${f(b[4])} ${f(b[5])})`}let v=0,m=0,E=0;class g{constructor(w,S,T=!1){(0,t.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new t.DOMSVGFactory,this.current=new l,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=w,this.objs=S,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!T,this._operatorIdMapping=[];for(let R in i.OPS)this._operatorIdMapping[i.OPS[R]]=R}getObject(w,S=null){return typeof w=="string"?w.startsWith("g_")?this.commonObjs.get(w):this.objs.get(w):S}save(){this.transformStack.push(this.transformMatrix);let w=this.current;this.extraStack.push(w),this.current=w.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(w){this.save(),this.executeOpTree(w),this.restore()}loadDependencies(w){let S=w.fnArray,T=w.argsArray;for(let R=0,k=S.length;R<k;R++)if(S[R]===i.OPS.dependency)for(let U of T[R]){let G=U.startsWith("g_")?this.commonObjs:this.objs,$=new Promise(J=>{G.get(U,J)});this.current.dependencies.push($)}return Promise.all(this.current.dependencies)}transform(w,S,T,R,k,U){let G=[w,S,T,R,k,U];this.transformMatrix=i.Util.transform(this.transformMatrix,G),this.tgrp=null}getSVG(w,S){this.viewport=S;let T=this._initialize(S);return this.loadDependencies(w).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(w)),T))}convertOpList(w){let S=this._operatorIdMapping,T=w.argsArray,R=w.fnArray,k=[];for(let U=0,G=R.length;U<G;U++){let $=R[U];k.push({fnId:$,fn:S[$],args:T[U]})}return p(k)}executeOpTree(w){for(let S of w){let T=S.fn,R=S.fnId,k=S.args;switch(R|0){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(k);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(k[0],k[1]);break;case i.OPS.setFont:this.setFont(k);break;case i.OPS.showText:this.showText(k[0]);break;case i.OPS.showSpacedText:this.showText(k[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(k[0],k[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(k[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(k[0]);break;case i.OPS.setHScale:this.setHScale(k[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(k[0],k[1],k[2],k[3],k[4],k[5]);break;case i.OPS.setTextRise:this.setTextRise(k[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(k[0]);break;case i.OPS.setLineWidth:this.setLineWidth(k[0]);break;case i.OPS.setLineJoin:this.setLineJoin(k[0]);break;case i.OPS.setLineCap:this.setLineCap(k[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(k[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(k[0],k[1],k[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(k[0],k[1],k[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(k);break;case i.OPS.setFillColorN:this.setFillColorN(k);break;case i.OPS.shadingFill:this.shadingFill(k[0]);break;case i.OPS.setDash:this.setDash(k[0],k[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(k[0]);break;case i.OPS.setFlatness:this.setFlatness(k[0]);break;case i.OPS.setGState:this.setGState(k[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(k[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(k[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(k[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(k[0],k[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(k[0],k[1],k[2],k[3],k[4],k[5]);break;case i.OPS.constructPath:this.constructPath(k[0],k[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(S.items);break;default:(0,i.warn)(`Unimplemented operator ${T}`);break}}}setWordSpacing(w){this.current.wordSpacing=w}setCharSpacing(w){this.current.charSpacing=w}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(w,S,T,R,k,U){let G=this.current;G.textMatrix=G.lineMatrix=[w,S,T,R,k,U],G.textMatrixScale=Math.hypot(w,S),G.x=G.lineX=0,G.y=G.lineY=0,G.xcoords=[],G.ycoords=[],G.tspan=this.svgFactory.createElement("svg:tspan"),G.tspan.setAttributeNS(null,"font-family",G.fontFamily),G.tspan.setAttributeNS(null,"font-size",`${f(G.fontSize)}px`),G.tspan.setAttributeNS(null,"y",f(-G.y)),G.txtElement=this.svgFactory.createElement("svg:text"),G.txtElement.append(G.tspan)}beginText(){let w=this.current;w.x=w.lineX=0,w.y=w.lineY=0,w.textMatrix=i.IDENTITY_MATRIX,w.lineMatrix=i.IDENTITY_MATRIX,w.textMatrixScale=1,w.tspan=this.svgFactory.createElement("svg:tspan"),w.txtElement=this.svgFactory.createElement("svg:text"),w.txtgrp=this.svgFactory.createElement("svg:g"),w.xcoords=[],w.ycoords=[]}moveText(w,S){let T=this.current;T.x=T.lineX+=w,T.y=T.lineY+=S,T.xcoords=[],T.ycoords=[],T.tspan=this.svgFactory.createElement("svg:tspan"),T.tspan.setAttributeNS(null,"font-family",T.fontFamily),T.tspan.setAttributeNS(null,"font-size",`${f(T.fontSize)}px`),T.tspan.setAttributeNS(null,"y",f(-T.y))}showText(w){let S=this.current,T=S.font,R=S.fontSize;if(R===0)return;let k=S.fontSizeScale,U=S.charSpacing,G=S.wordSpacing,$=S.fontDirection,J=S.textHScale*$,Z=T.vertical,V=Z?1:-1,z=T.defaultVMetrics,I=R*S.fontMatrix[0],y=0;for(let P of w){if(P===null){y+=$*G;continue}else if(typeof P=="number"){y+=V*P*R/1e3;continue}let L=(P.isSpace?G:0)+U,O=P.fontChar,B,N,x=P.width;if(Z){let D,F=P.vmetric||z;D=P.vmetric?F[1]:x*.5,D=-D*I;let j=F[2]*I;x=F?-F[0]:x,B=D/k,N=(y+j)/k}else B=y/k,N=0;(P.isInFont||T.missingFile)&&(S.xcoords.push(S.x+B),Z&&S.ycoords.push(-S.y+N),S.tspan.textContent+=O);let M=Z?x*I-L*$:x*I+L*$;y+=M}S.tspan.setAttributeNS(null,"x",S.xcoords.map(f).join(" ")),Z?S.tspan.setAttributeNS(null,"y",S.ycoords.map(f).join(" ")):S.tspan.setAttributeNS(null,"y",f(-S.y)),Z?S.y-=y:S.x+=y*J,S.tspan.setAttributeNS(null,"font-family",S.fontFamily),S.tspan.setAttributeNS(null,"font-size",`${f(S.fontSize)}px`),S.fontStyle!==s.fontStyle&&S.tspan.setAttributeNS(null,"font-style",S.fontStyle),S.fontWeight!==s.fontWeight&&S.tspan.setAttributeNS(null,"font-weight",S.fontWeight);let C=S.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(C===i.TextRenderingMode.FILL||C===i.TextRenderingMode.FILL_STROKE?(S.fillColor!==s.fillColor&&S.tspan.setAttributeNS(null,"fill",S.fillColor),S.fillAlpha<1&&S.tspan.setAttributeNS(null,"fill-opacity",S.fillAlpha)):S.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?S.tspan.setAttributeNS(null,"fill","transparent"):S.tspan.setAttributeNS(null,"fill","none"),C===i.TextRenderingMode.STROKE||C===i.TextRenderingMode.FILL_STROKE){let P=1/(S.textMatrixScale||1);this._setStrokeAttributes(S.tspan,P)}let A=S.textMatrix;S.textRise!==0&&(A=A.slice(),A[5]+=S.textRise),S.txtElement.setAttributeNS(null,"transform",`${h(A)} scale(${f(J)}, -1)`),S.txtElement.setAttributeNS(o,"xml:space","preserve"),S.txtElement.append(S.tspan),S.txtgrp.append(S.txtElement),this._ensureTransformGroup().append(S.txtElement)}setLeadingMoveText(w,S){this.setLeading(-S),this.moveText(w,S)}addFontStyle(w){if(!w.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));let S=c(w.data,w.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${w.loadedName}"; src: url(${S}); }
`}setFont(w){let S=this.current,T=this.commonObjs.get(w[0]),R=w[1];S.font=T,this.embedFonts&&!T.missingFile&&!this.embeddedFonts[T.loadedName]&&(this.addFontStyle(T),this.embeddedFonts[T.loadedName]=T),S.fontMatrix=T.fontMatrix||i.FONT_IDENTITY_MATRIX;let k="normal";T.black?k="900":T.bold&&(k="bold");let U=T.italic?"italic":"normal";R<0?(R=-R,S.fontDirection=-1):S.fontDirection=1,S.fontSize=R,S.fontFamily=T.loadedName,S.fontWeight=k,S.fontStyle=U,S.tspan=this.svgFactory.createElement("svg:tspan"),S.tspan.setAttributeNS(null,"y",f(-S.y)),S.xcoords=[],S.ycoords=[]}endText(){let w=this.current;w.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&w.txtElement?.hasChildNodes()&&(w.element=w.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(w){w>0&&(this.current.lineWidth=w)}setLineCap(w){this.current.lineCap=_[w]}setLineJoin(w){this.current.lineJoin=u[w]}setMiterLimit(w){this.current.miterLimit=w}setStrokeAlpha(w){this.current.strokeAlpha=w}setStrokeRGBColor(w,S,T){this.current.strokeColor=i.Util.makeHexColor(w,S,T)}setFillAlpha(w){this.current.fillAlpha=w}setFillRGBColor(w,S,T){this.current.fillColor=i.Util.makeHexColor(w,S,T),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(w){this.current.strokeColor=this._makeColorN_Pattern(w)}setFillColorN(w){this.current.fillColor=this._makeColorN_Pattern(w)}shadingFill(w){let{width:S,height:T}=this.viewport,R=i.Util.inverseTransform(this.transformMatrix),[k,U,G,$]=i.Util.getAxialAlignedBoundingBox([0,0,S,T],R),J=this.svgFactory.createElement("svg:rect");J.setAttributeNS(null,"x",k),J.setAttributeNS(null,"y",U),J.setAttributeNS(null,"width",G-k),J.setAttributeNS(null,"height",$-U),J.setAttributeNS(null,"fill",this._makeShadingPattern(w)),this.current.fillAlpha<1&&J.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(J)}_makeColorN_Pattern(w){return w[0]==="TilingPattern"?this._makeTilingPattern(w):this._makeShadingPattern(w)}_makeTilingPattern(w){let S=w[1],T=w[2],R=w[3]||i.IDENTITY_MATRIX,[k,U,G,$]=w[4],J=w[5],Z=w[6],V=w[7],z=`shading${E++}`,[I,y,C,A]=i.Util.normalizeRect([...i.Util.applyTransform([k,U],R),...i.Util.applyTransform([G,$],R)]),[P,L]=i.Util.singularValueDecompose2dScale(R),O=J*P,B=Z*L,N=this.svgFactory.createElement("svg:pattern");N.setAttributeNS(null,"id",z),N.setAttributeNS(null,"patternUnits","userSpaceOnUse"),N.setAttributeNS(null,"width",O),N.setAttributeNS(null,"height",B),N.setAttributeNS(null,"x",`${I}`),N.setAttributeNS(null,"y",`${y}`);let x=this.svg,M=this.transformMatrix,D=this.current.fillColor,F=this.current.strokeColor,j=this.svgFactory.create(C-I,A-y);if(this.svg=j,this.transformMatrix=R,V===2){let H=i.Util.makeHexColor(...S);this.current.fillColor=H,this.current.strokeColor=H}return this.executeOpTree(this.convertOpList(T)),this.svg=x,this.transformMatrix=M,this.current.fillColor=D,this.current.strokeColor=F,N.append(j.childNodes[0]),this.defs.append(N),`url(#${z})`}_makeShadingPattern(w){switch(typeof w=="string"&&(w=this.objs.get(w)),w[0]){case"RadialAxial":let S=`shading${E++}`,T=w[3],R;switch(w[1]){case"axial":let k=w[4],U=w[5];R=this.svgFactory.createElement("svg:linearGradient"),R.setAttributeNS(null,"id",S),R.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),R.setAttributeNS(null,"x1",k[0]),R.setAttributeNS(null,"y1",k[1]),R.setAttributeNS(null,"x2",U[0]),R.setAttributeNS(null,"y2",U[1]);break;case"radial":let G=w[4],$=w[5],J=w[6],Z=w[7];R=this.svgFactory.createElement("svg:radialGradient"),R.setAttributeNS(null,"id",S),R.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),R.setAttributeNS(null,"cx",$[0]),R.setAttributeNS(null,"cy",$[1]),R.setAttributeNS(null,"r",Z),R.setAttributeNS(null,"fx",G[0]),R.setAttributeNS(null,"fy",G[1]),R.setAttributeNS(null,"fr",J);break;default:throw new Error(`Unknown RadialAxial type: ${w[1]}`)}for(let k of T){let U=this.svgFactory.createElement("svg:stop");U.setAttributeNS(null,"offset",k[0]),U.setAttributeNS(null,"stop-color",k[1]),R.append(U)}return this.defs.append(R),`url(#${S})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${w[0]}`)}}setDash(w,S){this.current.dashArray=w,this.current.dashPhase=S}constructPath(w,S){let T=this.current,R=T.x,k=T.y,U=[],G=0;for(let $ of w)switch($|0){case i.OPS.rectangle:R=S[G++],k=S[G++];let J=S[G++],Z=S[G++],V=R+J,z=k+Z;U.push("M",f(R),f(k),"L",f(V),f(k),"L",f(V),f(z),"L",f(R),f(z),"Z");break;case i.OPS.moveTo:R=S[G++],k=S[G++],U.push("M",f(R),f(k));break;case i.OPS.lineTo:R=S[G++],k=S[G++],U.push("L",f(R),f(k));break;case i.OPS.curveTo:R=S[G+4],k=S[G+5],U.push("C",f(S[G]),f(S[G+1]),f(S[G+2]),f(S[G+3]),f(R),f(k)),G+=6;break;case i.OPS.curveTo2:U.push("C",f(R),f(k),f(S[G]),f(S[G+1]),f(S[G+2]),f(S[G+3])),R=S[G+2],k=S[G+3],G+=4;break;case i.OPS.curveTo3:R=S[G+2],k=S[G+3],U.push("C",f(S[G]),f(S[G+1]),f(R),f(k),f(R),f(k)),G+=4;break;case i.OPS.closePath:U.push("Z");break}U=U.join(" "),T.path&&w.length>0&&w[0]!==i.OPS.rectangle&&w[0]!==i.OPS.moveTo?U=T.path.getAttributeNS(null,"d")+U:(T.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(T.path)),T.path.setAttributeNS(null,"d",U),T.path.setAttributeNS(null,"fill","none"),T.element=T.path,T.setCurrentPoint(R,k)}endPath(){let w=this.current;if(w.path=null,!this.pendingClip)return;if(!w.element){this.pendingClip=null;return}let S=`clippath${v++}`,T=this.svgFactory.createElement("svg:clipPath");T.setAttributeNS(null,"id",S),T.setAttributeNS(null,"transform",h(this.transformMatrix));let R=w.element.cloneNode(!0);if(this.pendingClip==="evenodd"?R.setAttributeNS(null,"clip-rule","evenodd"):R.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,T.append(R),this.defs.append(T),w.activeClipUrl){w.clipGroup=null;for(let k of this.extraStack)k.clipGroup=null;T.setAttributeNS(null,"clip-path",w.activeClipUrl)}w.activeClipUrl=`url(#${S})`,this.tgrp=null}clip(w){this.pendingClip=w}closePath(){let w=this.current;if(w.path){let S=`${w.path.getAttributeNS(null,"d")}Z`;w.path.setAttributeNS(null,"d",S)}}setLeading(w){this.current.leading=-w}setTextRise(w){this.current.textRise=w}setTextRenderingMode(w){this.current.textRenderingMode=w}setHScale(w){this.current.textHScale=w/100}setRenderingIntent(w){}setFlatness(w){}setGState(w){for(let[S,T]of w)switch(S){case"LW":this.setLineWidth(T);break;case"LC":this.setLineCap(T);break;case"LJ":this.setLineJoin(T);break;case"ML":this.setMiterLimit(T);break;case"D":this.setDash(T[0],T[1]);break;case"RI":this.setRenderingIntent(T);break;case"FL":this.setFlatness(T);break;case"Font":this.setFont(T);break;case"CA":this.setStrokeAlpha(T);break;case"ca":this.setFillAlpha(T);break;default:(0,i.warn)(`Unimplemented graphic state operator ${S}`);break}}fill(){let w=this.current;w.element&&(w.element.setAttributeNS(null,"fill",w.fillColor),w.element.setAttributeNS(null,"fill-opacity",w.fillAlpha),this.endPath())}stroke(){let w=this.current;w.element&&(this._setStrokeAttributes(w.element),w.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(w,S=1){let T=this.current,R=T.dashArray;S!==1&&R.length>0&&(R=R.map(function(k){return S*k})),w.setAttributeNS(null,"stroke",T.strokeColor),w.setAttributeNS(null,"stroke-opacity",T.strokeAlpha),w.setAttributeNS(null,"stroke-miterlimit",f(T.miterLimit)),w.setAttributeNS(null,"stroke-linecap",T.lineCap),w.setAttributeNS(null,"stroke-linejoin",T.lineJoin),w.setAttributeNS(null,"stroke-width",f(S*T.lineWidth)+"px"),w.setAttributeNS(null,"stroke-dasharray",R.map(f).join(" ")),w.setAttributeNS(null,"stroke-dashoffset",f(S*T.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){let w=this.svgFactory.createElement("svg:rect");w.setAttributeNS(null,"x","0"),w.setAttributeNS(null,"y","0"),w.setAttributeNS(null,"width","1px"),w.setAttributeNS(null,"height","1px"),w.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(w)}paintImageXObject(w){let S=this.getObject(w);if(!S){(0,i.warn)(`Dependent image with object ID ${w} is not ready yet`);return}this.paintInlineImageXObject(S)}paintInlineImageXObject(w,S){let T=w.width,R=w.height,k=a(w,this.forceDataSchema,!!S),U=this.svgFactory.createElement("svg:rect");U.setAttributeNS(null,"x","0"),U.setAttributeNS(null,"y","0"),U.setAttributeNS(null,"width",f(T)),U.setAttributeNS(null,"height",f(R)),this.current.element=U,this.clip("nonzero");let G=this.svgFactory.createElement("svg:image");G.setAttributeNS(d,"xlink:href",k),G.setAttributeNS(null,"x","0"),G.setAttributeNS(null,"y",f(-R)),G.setAttributeNS(null,"width",f(T)+"px"),G.setAttributeNS(null,"height",f(R)+"px"),G.setAttributeNS(null,"transform",`scale(${f(1/T)} ${f(-1/R)})`),S?S.append(G):this._ensureTransformGroup().append(G)}paintImageMaskXObject(w){let S=this.getObject(w.data,w);if(S.bitmap){(0,i.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}let T=this.current,R=S.width,k=S.height,U=T.fillColor;T.maskId=`mask${m++}`;let G=this.svgFactory.createElement("svg:mask");G.setAttributeNS(null,"id",T.maskId);let $=this.svgFactory.createElement("svg:rect");$.setAttributeNS(null,"x","0"),$.setAttributeNS(null,"y","0"),$.setAttributeNS(null,"width",f(R)),$.setAttributeNS(null,"height",f(k)),$.setAttributeNS(null,"fill",U),$.setAttributeNS(null,"mask",`url(#${T.maskId})`),this.defs.append(G),this._ensureTransformGroup().append($),this.paintInlineImageXObject(S,G)}paintFormXObjectBegin(w,S){if(Array.isArray(w)&&w.length===6&&this.transform(w[0],w[1],w[2],w[3],w[4],w[5]),S){let T=S[2]-S[0],R=S[3]-S[1],k=this.svgFactory.createElement("svg:rect");k.setAttributeNS(null,"x",S[0]),k.setAttributeNS(null,"y",S[1]),k.setAttributeNS(null,"width",f(T)),k.setAttributeNS(null,"height",f(R)),this.current.element=k,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(w){let S=this.svgFactory.create(w.width,w.height),T=this.svgFactory.createElement("svg:defs");S.append(T),this.defs=T;let R=this.svgFactory.createElement("svg:g");return R.setAttributeNS(null,"transform",h(w.transform)),S.append(R),this.svg=R,S}_ensureClipGroup(){if(!this.current.clipGroup){let w=this.svgFactory.createElement("svg:g");w.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(w),this.current.clipGroup=w}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",h(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}e.SVGGraphics=g},(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class r{static textContent(i){let s=[],o={items:s,styles:Object.create(null)};function d(_){if(!_)return;let u=null,c=_.name;if(c==="#text")u=_.value;else if(r.shouldBuildText(c))_?.attributes?.textContent?u=_.attributes.textContent:_.value&&(u=_.value);else return;if(u!==null&&s.push({str:u}),!!_.children)for(let a of _.children)d(a)}return d(i),o}static shouldBuildText(i){return!(i==="textarea"||i==="input"||i==="option"||i==="select")}}e.XfaText=r},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=h,e.updateTextLayer=v;var t=r(1),i=r(6);let s=1e5,o=30,d=.8,_=new Map;function u(m,E){let g;if(E&&t.FeatureTest.isOffscreenCanvasSupported)g=new OffscreenCanvas(m,m).getContext("2d",{alpha:!1});else{let b=document.createElement("canvas");b.width=b.height=m,g=b.getContext("2d",{alpha:!1})}return g}function c(m,E){let g=_.get(m);if(g)return g;let b=u(o,E);b.font=`${o}px ${m}`;let w=b.measureText(""),S=w.fontBoundingBoxAscent,T=Math.abs(w.fontBoundingBoxDescent);if(S){let k=S/(S+T);return _.set(m,k),b.canvas.width=b.canvas.height=0,k}b.strokeStyle="red",b.clearRect(0,0,o,o),b.strokeText("g",0,0);let R=b.getImageData(0,0,o,o).data;T=0;for(let k=R.length-1-3;k>=0;k-=4)if(R[k]>0){T=Math.ceil(k/4/o);break}b.clearRect(0,0,o,o),b.strokeText("A",0,o),R=b.getImageData(0,0,o,o).data,S=0;for(let k=0,U=R.length;k<U;k+=4)if(R[k]>0){S=o-Math.floor(k/4/o);break}if(b.canvas.width=b.canvas.height=0,S){let k=S/(S+T);return _.set(m,k),k}return _.set(m,d),d}function a(m,E,g){let b=document.createElement("span"),w={angle:0,canvasWidth:0,hasText:E.str!=="",hasEOL:E.hasEOL,fontSize:0};m._textDivs.push(b);let S=t.Util.transform(m._transform,E.transform),T=Math.atan2(S[1],S[0]),R=g[E.fontName];R.vertical&&(T+=Math.PI/2);let k=Math.hypot(S[2],S[3]),U=k*c(R.fontFamily,m._isOffscreenCanvasSupported),G,$;T===0?(G=S[4],$=S[5]-U):(G=S[4]+U*Math.sin(T),$=S[5]-U*Math.cos(T));let J="calc(var(--scale-factor)*",Z=b.style;m._container===m._rootContainer?(Z.left=`${(100*G/m._pageWidth).toFixed(2)}%`,Z.top=`${(100*$/m._pageHeight).toFixed(2)}%`):(Z.left=`${J}${G.toFixed(2)}px)`,Z.top=`${J}${$.toFixed(2)}px)`),Z.fontSize=`${J}${k.toFixed(2)}px)`,Z.fontFamily=R.fontFamily,w.fontSize=k,b.setAttribute("role","presentation"),b.textContent=E.str,b.dir=E.dir,m._fontInspectorEnabled&&(b.dataset.fontName=E.fontName),T!==0&&(w.angle=T*(180/Math.PI));let V=!1;if(E.str.length>1)V=!0;else if(E.str!==" "&&E.transform[0]!==E.transform[3]){let z=Math.abs(E.transform[0]),I=Math.abs(E.transform[3]);z!==I&&Math.max(z,I)/Math.min(z,I)>1.5&&(V=!0)}V&&(w.canvasWidth=R.vertical?E.height:E.width),m._textDivProperties.set(b,w),m._isReadableStream&&m._layoutText(b)}function l(m){let{div:E,scale:g,properties:b,ctx:w,prevFontSize:S,prevFontFamily:T}=m,{style:R}=E,k="";if(b.canvasWidth!==0&&b.hasText){let{fontFamily:U}=R,{canvasWidth:G,fontSize:$}=b;(S!==$||T!==U)&&(w.font=`${$*g}px ${U}`,m.prevFontSize=$,m.prevFontFamily=U);let{width:J}=w.measureText(E.textContent);J>0&&(k=`scaleX(${G*g/J})`)}b.angle!==0&&(k=`rotate(${b.angle}deg) ${k}`),k.length>0&&(R.transform=k)}function p(m){if(m._canceled)return;let E=m._textDivs,g=m._capability;if(E.length>s){g.resolve();return}if(!m._isReadableStream)for(let w of E)m._layoutText(w);g.resolve()}class f{constructor({textContentSource:E,container:g,viewport:b,textDivs:w,textDivProperties:S,textContentItemsStr:T,isOffscreenCanvasSupported:R}){this._textContentSource=E,this._isReadableStream=E instanceof ReadableStream,this._container=this._rootContainer=g,this._textDivs=w||[],this._textContentItemsStr=T||[],this._isOffscreenCanvasSupported=R,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=S||new WeakMap,this._canceled=!1,this._capability=new t.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:b.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:u(0,R)};let{pageWidth:k,pageHeight:U,pageX:G,pageY:$}=b.rawDims;this._transform=[1,0,0,-1,-G,$+U],this._pageWidth=k,this._pageHeight=U,(0,i.setLayerDimensions)(g,b),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new t.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new t.AbortException("TextLayer task cancelled."))}_processItems(E,g){for(let b of E){if(b.str===void 0){if(b.type==="beginMarkedContentProps"||b.type==="beginMarkedContent"){let w=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),b.id!==null&&this._container.setAttribute("id",`${b.id}`),w.append(this._container)}else b.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(b.str),a(this,b,g)}}_layoutText(E){let g=this._layoutTextParams.properties=this._textDivProperties.get(E);if(this._layoutTextParams.div=E,l(this._layoutTextParams),g.hasText&&this._container.append(E),g.hasEOL){let b=document.createElement("br");b.setAttribute("role","presentation"),this._container.append(b)}}_render(){let E=new t.PromiseCapability,g=Object.create(null);if(this._isReadableStream){let b=()=>{this._reader.read().then(({value:w,done:S})=>{if(S){E.resolve();return}Object.assign(g,w.styles),this._processItems(w.items,g),b()},E.reject)};this._reader=this._textContentSource.getReader(),b()}else if(this._textContentSource){let{items:b,styles:w}=this._textContentSource;this._processItems(b,w),E.resolve()}else throw new Error('No "textContentSource" parameter specified.');E.promise.then(()=>{g=null,p(this)},this._capability.reject)}}e.TextLayerRenderTask=f;function h(m){!m.textContentSource&&(m.textContent||m.textContentStream)&&((0,i.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),m.textContentSource=m.textContent||m.textContentStream);let{container:E,viewport:g}=m,b=getComputedStyle(E),w=b.getPropertyValue("visibility"),S=parseFloat(b.getPropertyValue("--scale-factor"));w==="visible"&&(!S||Math.abs(S-g.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");let T=new f(m);return T._render(),T}function v({container:m,viewport:E,textDivs:g,textDivProperties:b,isOffscreenCanvasSupported:w,mustRotate:S=!0,mustRescale:T=!0}){if(S&&(0,i.setLayerDimensions)(m,{rotation:E.rotation}),T){let R=u(0,w),U={prevFontSize:null,prevFontFamily:null,div:null,scale:E.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:R};for(let G of g)U.properties=b.get(G),U.div=G,l(U)}}},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var t=r(1),i=r(4),s=r(28),o=r(33),d=r(6),_=r(34);let u=(()=>{class c{#e;#t=!1;#i=null;#n=this.pointerup.bind(this);#a=this.pointerdown.bind(this);#s=new Map;#o=!1;#l=!1;#c=!1;#r;static _initialized=!1;constructor({uiManager:l,pageIndex:p,div:f,accessibilityManager:h,annotationLayer:v,viewport:m,l10n:E}){let g=[s.FreeTextEditor,o.InkEditor,_.StampEditor];if(!c._initialized){c._initialized=!0;for(let b of g)b.initialize(E)}l.registerEditorTypes(g),this.#r=l,this.pageIndex=p,this.div=f,this.#e=h,this.#i=v,this.viewport=m,this.#r.addLayer(this)}get isEmpty(){return this.#s.size===0}updateToolbar(l){this.#r.updateToolbar(l)}updateMode(l=this.#r.getMode()){this.#p(),l===t.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),l!==t.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",l===t.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",l===t.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",l===t.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(l){if(!l&&this.#r.getMode()!==t.AnnotationEditorType.INK)return;if(!l){for(let f of this.#s.values())if(f.isEmpty()){f.setInBackground();return}}this.#h({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(l){this.#r.setEditingState(l)}addCommands(l){this.#r.addCommands(l)}enable(){this.div.style.pointerEvents="auto";let l=new Set;for(let f of this.#s.values())f.enableEditing(),f.annotationElementId&&l.add(f.annotationElementId);if(!this.#i)return;let p=this.#i.getEditableAnnotations();for(let f of p){if(f.hide(),this.#r.isDeletedAnnotationElement(f.data.id)||l.has(f.data.id))continue;let h=this.deserialize(f);h&&(this.addOrRebuild(h),h.enableEditing())}}disable(){this.#c=!0,this.div.style.pointerEvents="none";let l=new Set;for(let p of this.#s.values()){if(p.disableEditing(),!p.annotationElementId||p.serialize()!==null){l.add(p.annotationElementId);continue}this.getEditableAnnotation(p.annotationElementId)?.show(),p.remove()}if(this.#i){let p=this.#i.getEditableAnnotations();for(let f of p){let{id:h}=f.data;l.has(h)||this.#r.isDeletedAnnotationElement(h)||f.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#c=!1}getEditableAnnotation(l){return this.#i?.getEditableAnnotation(l)||null}setActiveEditor(l){this.#r.getActive()!==l&&this.#r.setActiveEditor(l)}enableClick(){this.div.addEventListener("pointerdown",this.#a),this.div.addEventListener("pointerup",this.#n)}disableClick(){this.div.removeEventListener("pointerdown",this.#a),this.div.removeEventListener("pointerup",this.#n)}attach(l){this.#s.set(l.id,l);let{annotationElementId:p}=l;p&&this.#r.isDeletedAnnotationElement(p)&&this.#r.removeDeletedAnnotationElement(l)}detach(l){this.#s.delete(l.id),this.#e?.removePointerInTextLayer(l.contentDiv),!this.#c&&l.annotationElementId&&this.#r.addDeletedAnnotationElement(l)}remove(l){this.detach(l),this.#r.removeEditor(l),l.div.contains(document.activeElement)&&setTimeout(()=>{this.#r.focusMainContainer()},0),l.div.remove(),l.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(l){l.parent!==this&&(l.annotationElementId&&(this.#r.addDeletedAnnotationElement(l.annotationElementId),i.AnnotationEditor.deleteAnnotationElement(l),l.annotationElementId=null),this.attach(l),l.parent?.detach(l),l.setParent(this),l.div&&l.isAttachedToDOM&&(l.div.remove(),this.div.append(l.div)))}add(l){if(this.changeParent(l),this.#r.addEditor(l),this.attach(l),!l.isAttachedToDOM){let p=l.render();this.div.append(p),l.isAttachedToDOM=!0}l.fixAndSetPosition(),l.onceAdded(),this.#r.addToAnnotationStorage(l)}moveEditorInDOM(l){if(!l.isAttachedToDOM)return;let{activeElement:p}=document;l.div.contains(p)&&(l._focusEventsAllowed=!1,setTimeout(()=>{l.div.contains(document.activeElement)?l._focusEventsAllowed=!0:(l.div.addEventListener("focusin",()=>{l._focusEventsAllowed=!0},{once:!0}),p.focus())},0)),l._structTreeParentId=this.#e?.moveElementInDOM(this.div,l.div,l.contentDiv,!0)}addOrRebuild(l){l.needsToBeRebuilt()?l.rebuild():this.add(l)}addUndoableEditor(l){let p=()=>l._uiManager.rebuild(l),f=()=>{l.remove()};this.addCommands({cmd:p,undo:f,mustExec:!1})}getNextId(){return this.#r.getId()}#d(l){switch(this.#r.getMode()){case t.AnnotationEditorType.FREETEXT:return new s.FreeTextEditor(l);case t.AnnotationEditorType.INK:return new o.InkEditor(l);case t.AnnotationEditorType.STAMP:return new _.StampEditor(l)}return null}pasteEditor(l,p){this.#r.updateToolbar(l),this.#r.updateMode(l);let{offsetX:f,offsetY:h}=this.#f(),v=this.getNextId(),m=this.#d(pe({parent:this,id:v,x:f,y:h,uiManager:this.#r,isCentered:!0},p));m&&this.add(m)}deserialize(l){switch(l.annotationType??l.annotationEditorType){case t.AnnotationEditorType.FREETEXT:return s.FreeTextEditor.deserialize(l,this,this.#r);case t.AnnotationEditorType.INK:return o.InkEditor.deserialize(l,this,this.#r);case t.AnnotationEditorType.STAMP:return _.StampEditor.deserialize(l,this,this.#r)}return null}#h(l,p){let f=this.getNextId(),h=this.#d({parent:this,id:f,x:l.offsetX,y:l.offsetY,uiManager:this.#r,isCentered:p});return h&&this.add(h),h}#f(){let{x:l,y:p,width:f,height:h}=this.div.getBoundingClientRect(),v=Math.max(0,l),m=Math.max(0,p),E=Math.min(window.innerWidth,l+f),g=Math.min(window.innerHeight,p+h),b=(v+E)/2-l,w=(m+g)/2-p,[S,T]=this.viewport.rotation%180===0?[b,w]:[w,b];return{offsetX:S,offsetY:T}}addNewEditor(){this.#h(this.#f(),!0)}setSelected(l){this.#r.setSelected(l)}toggleSelected(l){this.#r.toggleSelected(l)}isSelected(l){return this.#r.isSelected(l)}unselect(l){this.#r.unselect(l)}pointerup(l){let{isMac:p}=t.FeatureTest.platform;if(!(l.button!==0||l.ctrlKey&&p)&&l.target===this.div&&this.#o){if(this.#o=!1,!this.#t){this.#t=!0;return}if(this.#r.getMode()===t.AnnotationEditorType.STAMP){this.#r.unselectAll();return}this.#h(l,!1)}}pointerdown(l){if(this.#o){this.#o=!1;return}let{isMac:p}=t.FeatureTest.platform;if(l.button!==0||l.ctrlKey&&p||l.target!==this.div)return;this.#o=!0;let f=this.#r.getActive();this.#t=!f||f.isEmpty()}findNewParent(l,p,f){let h=this.#r.findParent(p,f);return h===null||h===this?!1:(h.changeParent(l),!0)}destroy(){this.#r.getActive()?.parent===this&&(this.#r.commitOrRemove(),this.#r.setActiveEditor(null));for(let l of this.#s.values())this.#e?.removePointerInTextLayer(l.contentDiv),l.setParent(null),l.isAttachedToDOM=!1,l.div.remove();this.div=null,this.#s.clear(),this.#r.removeLayer(this)}#p(){this.#l=!0;for(let l of this.#s.values())l.isEmpty()&&l.remove();this.#l=!1}render({viewport:l}){this.viewport=l,(0,d.setLayerDimensions)(this.div,l);for(let p of this.#r.getEditors(this.pageIndex))this.add(p);this.updateMode()}update({viewport:l}){this.#r.commitOrRemove(),this.viewport=l,(0,d.setLayerDimensions)(this.div,{rotation:l.rotation}),this.updateMode()}get pageDimensions(){let{pageWidth:l,pageHeight:p}=this.viewport.rawDims;return[l,p]}}return c})();e.AnnotationEditorLayer=u},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var t=r(1),i=r(5),s=r(4),o=r(29);let d=(()=>{class _ extends s.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#i=this.editorDivInput.bind(this);#n=this.editorDivKeydown.bind(this);#a;#s="";#o=`${this.id}-editor`;#l;#c=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){let c=_.prototype,a=f=>f.isEmpty(),l=i.AnnotationEditorUIManager.TRANSLATE_SMALL,p=i.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,t.shadow)(this,"_keyboardManager",new i.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],c.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],c.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],c._translateEmpty,{args:[-l,0],checker:a}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],c._translateEmpty,{args:[-p,0],checker:a}],[["ArrowRight","mac+ArrowRight"],c._translateEmpty,{args:[l,0],checker:a}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],c._translateEmpty,{args:[p,0],checker:a}],[["ArrowUp","mac+ArrowUp"],c._translateEmpty,{args:[0,-l],checker:a}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],c._translateEmpty,{args:[0,-p],checker:a}],[["ArrowDown","mac+ArrowDown"],c._translateEmpty,{args:[0,l],checker:a}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],c._translateEmpty,{args:[0,p],checker:a}]]))}static _type="freetext";constructor(c){super(Be(pe({},c),{name:"freeTextEditor"})),this.#a=c.color||_._defaultColor||s.AnnotationEditor._defaultLineColor,this.#l=c.fontSize||_._defaultFontSize}static initialize(c){s.AnnotationEditor.initialize(c,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});let a=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(a.getPropertyValue("--freetext-padding"))}static updateDefaultParams(c,a){switch(c){case t.AnnotationEditorParamsType.FREETEXT_SIZE:_._defaultFontSize=a;break;case t.AnnotationEditorParamsType.FREETEXT_COLOR:_._defaultColor=a;break}}updateParams(c,a){switch(c){case t.AnnotationEditorParamsType.FREETEXT_SIZE:this.#r(a);break;case t.AnnotationEditorParamsType.FREETEXT_COLOR:this.#d(a);break}}static get defaultPropertiesToUpdate(){return[[t.AnnotationEditorParamsType.FREETEXT_SIZE,_._defaultFontSize],[t.AnnotationEditorParamsType.FREETEXT_COLOR,_._defaultColor||s.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[t.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[t.AnnotationEditorParamsType.FREETEXT_COLOR,this.#a]]}#r(c){let a=p=>{this.editorDiv.style.fontSize=`calc(${p}px * var(--scale-factor))`,this.translate(0,-(p-this.#l)*this.parentScale),this.#l=p,this.#f()},l=this.#l;this.addCommands({cmd:()=>{a(c)},undo:()=>{a(l)},mustExec:!0,type:t.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#d(c){let a=this.#a;this.addCommands({cmd:()=>{this.#a=this.editorDiv.style.color=c},undo:()=>{this.#a=this.editorDiv.style.color=a},mustExec:!0,type:t.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(c,a){this._uiManager.translateSelectedEditors(c,a,!0)}getInitialTranslation(){let c=this.parentScale;return[-_._internalPadding*c,-(_._internalPadding+this.#l)*c]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(t.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#n),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#i))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#o),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#n),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#i),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(c){this._focusEventsAllowed&&(super.focusin(c),c.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#g();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#h(){let c=this.editorDiv.getElementsByTagName("div");if(c.length===0)return this.editorDiv.innerText;let a=[];for(let l of c)a.push(l.innerText.replace(/\r\n?|\n/,""));return a.join(`
`)}#f(){let[c,a]=this.parentDimensions,l;if(this.isAttachedToDOM)l=this.div.getBoundingClientRect();else{let{currentLayer:p,div:f}=this,h=f.style.display;f.style.display="hidden",p.div.append(this.div),l=f.getBoundingClientRect(),f.remove(),f.style.display=h}this.rotation%180===this.parentRotation%180?(this.width=l.width/c,this.height=l.height/a):(this.width=l.height/c,this.height=l.width/a),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let c=this.#s,a=this.#s=this.#h().trimEnd();if(c===a)return;let l=p=>{if(this.#s=p,!p){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#f()};this.addCommands({cmd:()=>{l(a)},undo:()=>{l(c)},mustExec:!1}),this.#f()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(c){this.enterInEditMode()}keydown(c){c.target===this.div&&c.key==="Enter"&&(this.enterInEditMode(),c.preventDefault())}editorDivKeydown(c){_._keyboardManager.exec(this,c)}editorDivFocus(c){this.isEditing=!0}editorDivBlur(c){this.isEditing=!1}editorDivInput(c){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let c,a;this.width&&(c=this.x,a=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#o),this.enableEditing(),s.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(p=>this.editorDiv?.setAttribute("aria-label",p)),s.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(p=>this.editorDiv?.setAttribute("default-content",p)),this.editorDiv.contentEditable=!0;let{style:l}=this.editorDiv;if(l.fontSize=`calc(${this.#l}px * var(--scale-factor))`,l.color=this.#a,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,i.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){let[p,f]=this.parentDimensions;if(this.annotationElementId){let{position:h}=this.#c,[v,m]=this.getInitialTranslation();[v,m]=this.pageTranslationToScreen(v,m);let[E,g]=this.pageDimensions,[b,w]=this.pageTranslation,S,T;switch(this.rotation){case 0:S=c+(h[0]-b)/E,T=a+this.height-(h[1]-w)/g;break;case 90:S=c+(h[0]-b)/E,T=a-(h[1]-w)/g,[v,m]=[m,-v];break;case 180:S=c-this.width+(h[0]-b)/E,T=a-(h[1]-w)/g,[v,m]=[-v,-m];break;case 270:S=c+(h[0]-b-this.height*g)/E,T=a+(h[1]-w-this.width*E)/g,[v,m]=[-m,v];break}this.setAt(S*p,T*f,v,m)}else this.setAt(c*p,a*f,this.width*p,this.height*f);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),!!this.#s)for(let c of this.#s.split(`
`)){let a=document.createElement("div");a.append(c?document.createTextNode(c):document.createElement("br")),this.editorDiv.append(a)}}get contentDiv(){return this.editorDiv}static deserialize(c,a,l){let p=null;if(c instanceof o.FreeTextAnnotationElement){let{data:{defaultAppearanceData:{fontSize:h,fontColor:v},rect:m,rotation:E,id:g},textContent:b,textPosition:w,parent:{page:{pageNumber:S}}}=c;if(!b||b.length===0)return null;p=c={annotationType:t.AnnotationEditorType.FREETEXT,color:Array.from(v),fontSize:h,value:b.join(`
`),position:w,pageIndex:S-1,rect:m,rotation:E,id:g,deleted:!1}}let f=super.deserialize(c,a,l);return f.#l=c.fontSize,f.#a=t.Util.makeHexColor(...c.color),f.#s=c.value,f.annotationElementId=c.id||null,f.#c=p,f}serialize(c=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};let a=_._internalPadding*this.parentScale,l=this.getRect(a,a),p=s.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#a),f={annotationType:t.AnnotationEditorType.FREETEXT,color:p,fontSize:this.#l,value:this.#s,pageIndex:this.pageIndex,rect:l,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return c?f:this.annotationElementId&&!this.#m(f)?null:(f.id=this.annotationElementId,f)}#m(c){let{value:a,fontSize:l,color:p,rect:f,pageIndex:h}=this.#c;return c.value!==a||c.fontSize!==l||c.rect.some((v,m)=>Math.abs(v-f[m])>=1)||c.color.some((v,m)=>v!==p[m])||c.pageIndex!==h}#g(c=!1){if(!this.annotationElementId)return;if(this.#f(),!c&&(this.width===0||this.height===0)){setTimeout(()=>this.#g(!0),0);return}let a=_._internalPadding*this.parentScale;this.#c.rect=this.getRect(a,a)}}return _})();e.FreeTextEditor=d},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StampAnnotationElement=e.InkAnnotationElement=e.FreeTextAnnotationElement=e.AnnotationLayer=void 0;var t=r(1),i=r(6),s=r(3),o=r(30),d=r(31),_=r(32);let u=1e3,c=9,a=new WeakSet;function l(N){return{width:N[2]-N[0],height:N[3]-N[1]}}class p{static create(x){switch(x.data.annotationType){case t.AnnotationType.LINK:return new h(x);case t.AnnotationType.TEXT:return new v(x);case t.AnnotationType.WIDGET:switch(x.data.fieldType){case"Tx":return new E(x);case"Btn":return x.data.radioButton?new w(x):x.data.checkBox?new b(x):new S(x);case"Ch":return new T(x);case"Sig":return new g(x)}return new m(x);case t.AnnotationType.POPUP:return new R(x);case t.AnnotationType.FREETEXT:return new U(x);case t.AnnotationType.LINE:return new G(x);case t.AnnotationType.SQUARE:return new $(x);case t.AnnotationType.CIRCLE:return new J(x);case t.AnnotationType.POLYLINE:return new Z(x);case t.AnnotationType.CARET:return new z(x);case t.AnnotationType.INK:return new I(x);case t.AnnotationType.POLYGON:return new V(x);case t.AnnotationType.HIGHLIGHT:return new y(x);case t.AnnotationType.UNDERLINE:return new C(x);case t.AnnotationType.SQUIGGLY:return new A(x);case t.AnnotationType.STRIKEOUT:return new P(x);case t.AnnotationType.STAMP:return new L(x);case t.AnnotationType.FILEATTACHMENT:return new O(x);default:return new f(x)}}}class f{#e=!1;constructor(x,{isRenderable:M=!1,ignoreBorder:D=!1,createQuadrilaterals:F=!1}={}){this.isRenderable=M,this.data=x.data,this.layer=x.layer,this.linkService=x.linkService,this.downloadManager=x.downloadManager,this.imageResourcesPath=x.imageResourcesPath,this.renderForms=x.renderForms,this.svgFactory=x.svgFactory,this.annotationStorage=x.annotationStorage,this.enableScripting=x.enableScripting,this.hasJSActions=x.hasJSActions,this._fieldObjects=x.fieldObjects,this.parent=x.parent,M&&(this.container=this._createContainer(D)),F&&this._createQuadrilaterals()}static _hasPopupData({titleObj:x,contentsObj:M,richText:D}){return!!(x?.str||M?.str||D?.str)}get hasPopupData(){return f._hasPopupData(this.data)}_createContainer(x){let{data:M,parent:{page:D,viewport:F}}=this,j=document.createElement("section");j.setAttribute("data-annotation-id",M.id),this instanceof m||(j.tabIndex=u),j.style.zIndex=this.parent.zIndex++,this.data.popupRef&&j.setAttribute("aria-haspopup","dialog"),M.noRotate&&j.classList.add("norotate");let{pageWidth:H,pageHeight:X,pageX:se,pageY:ee}=F.rawDims;if(!M.rect||this instanceof R){let{rotation:ae}=M;return!M.hasOwnCanvas&&ae!==0&&this.setRotation(ae,j),j}let{width:W,height:Q}=l(M.rect),K=t.Util.normalizeRect([M.rect[0],D.view[3]-M.rect[1]+D.view[1],M.rect[2],D.view[3]-M.rect[3]+D.view[1]]);if(!x&&M.borderStyle.width>0){j.style.borderWidth=`${M.borderStyle.width}px`;let ae=M.borderStyle.horizontalCornerRadius,fe=M.borderStyle.verticalCornerRadius;if(ae>0||fe>0){let we=`calc(${ae}px * var(--scale-factor)) / calc(${fe}px * var(--scale-factor))`;j.style.borderRadius=we}else if(this instanceof w){let we=`calc(${W}px * var(--scale-factor)) / calc(${Q}px * var(--scale-factor))`;j.style.borderRadius=we}switch(M.borderStyle.style){case t.AnnotationBorderStyleType.SOLID:j.style.borderStyle="solid";break;case t.AnnotationBorderStyleType.DASHED:j.style.borderStyle="dashed";break;case t.AnnotationBorderStyleType.BEVELED:(0,t.warn)("Unimplemented border style: beveled");break;case t.AnnotationBorderStyleType.INSET:(0,t.warn)("Unimplemented border style: inset");break;case t.AnnotationBorderStyleType.UNDERLINE:j.style.borderBottomStyle="solid";break;default:break}let ge=M.borderColor||null;ge?(this.#e=!0,j.style.borderColor=t.Util.makeHexColor(ge[0]|0,ge[1]|0,ge[2]|0)):j.style.borderWidth=0}j.style.left=`${100*(K[0]-se)/H}%`,j.style.top=`${100*(K[1]-ee)/X}%`;let{rotation:te}=M;return M.hasOwnCanvas||te===0?(j.style.width=`${100*W/H}%`,j.style.height=`${100*Q/X}%`):this.setRotation(te,j),j}setRotation(x,M=this.container){if(!this.data.rect)return;let{pageWidth:D,pageHeight:F}=this.parent.viewport.rawDims,{width:j,height:H}=l(this.data.rect),X,se;x%180===0?(X=100*j/D,se=100*H/F):(X=100*H/D,se=100*j/F),M.style.width=`${X}%`,M.style.height=`${se}%`,M.setAttribute("data-main-rotation",(360-x)%360)}get _commonActions(){let x=(M,D,F)=>{let j=F.detail[M],H=j[0],X=j.slice(1);F.target.style[D]=o.ColorConverters[`${H}_HTML`](X),this.annotationStorage.setValue(this.data.id,{[D]:o.ColorConverters[`${H}_rgb`](X)})};return(0,t.shadow)(this,"_commonActions",{display:M=>{let{display:D}=M.detail,F=D%2===1;this.container.style.visibility=F?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:F,noPrint:D===1||D===2})},print:M=>{this.annotationStorage.setValue(this.data.id,{noPrint:!M.detail.print})},hidden:M=>{let{hidden:D}=M.detail;this.container.style.visibility=D?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:D,noView:D})},focus:M=>{setTimeout(()=>M.target.focus({preventScroll:!1}),0)},userName:M=>{M.target.title=M.detail.userName},readonly:M=>{M.target.disabled=M.detail.readonly},required:M=>{this._setRequired(M.target,M.detail.required)},bgColor:M=>{x("bgColor","backgroundColor",M)},fillColor:M=>{x("fillColor","backgroundColor",M)},fgColor:M=>{x("fgColor","color",M)},textColor:M=>{x("textColor","color",M)},borderColor:M=>{x("borderColor","borderColor",M)},strokeColor:M=>{x("strokeColor","borderColor",M)},rotation:M=>{let D=M.detail.rotation;this.setRotation(D),this.annotationStorage.setValue(this.data.id,{rotation:D})}})}_dispatchEventFromSandbox(x,M){let D=this._commonActions;for(let F of Object.keys(M.detail))(x[F]||D[F])?.(M)}_setDefaultPropertiesFromJS(x){if(!this.enableScripting)return;let M=this.annotationStorage.getRawValue(this.data.id);if(!M)return;let D=this._commonActions;for(let[F,j]of Object.entries(M)){let H=D[F];if(H){let X={detail:{[F]:j},target:x};H(X),delete M[F]}}}_createQuadrilaterals(){if(!this.container)return;let{quadPoints:x}=this.data;if(!x)return;let[M,D,F,j]=this.data.rect;if(x.length===1){let[,{x:fe,y:ge},{x:we,y:Ee}]=x[0];if(F===fe&&j===ge&&M===we&&D===Ee)return}let{style:H}=this.container,X;if(this.#e){let{borderColor:fe,borderWidth:ge}=H;H.borderWidth=0,X=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${fe}" stroke-width="${ge}">`],this.container.classList.add("hasBorder")}let se=F-M,ee=j-D,{svgFactory:W}=this,Q=W.createElement("svg");Q.classList.add("quadrilateralsContainer"),Q.setAttribute("width",0),Q.setAttribute("height",0);let K=W.createElement("defs");Q.append(K);let te=W.createElement("clipPath"),ae=`clippath_${this.data.id}`;te.setAttribute("id",ae),te.setAttribute("clipPathUnits","objectBoundingBox"),K.append(te);for(let[,{x:fe,y:ge},{x:we,y:Ee}]of x){let Te=W.createElement("rect"),Ve=(we-M)/se,Et=(j-ge)/ee,pt=(fe-we)/se,Ut=(ge-Ee)/ee;Te.setAttribute("x",Ve),Te.setAttribute("y",Et),Te.setAttribute("width",pt),Te.setAttribute("height",Ut),te.append(Te),X?.push(`<rect vector-effect="non-scaling-stroke" x="${Ve}" y="${Et}" width="${pt}" height="${Ut}"/>`)}this.#e&&(X.push("</g></svg>')"),H.backgroundImage=X.join("")),this.container.append(Q),this.container.style.clipPath=`url(#${ae})`}_createPopup(){let{container:x,data:M}=this;x.setAttribute("aria-haspopup","dialog");let D=new R({data:{color:M.color,titleObj:M.titleObj,modificationDate:M.modificationDate,contentsObj:M.contentsObj,richText:M.richText,parentRect:M.rect,borderStyle:0,id:`popup_${M.id}`,rotation:M.rotation},parent:this.parent,elements:[this]});this.parent.div.append(D.render())}render(){(0,t.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(x,M=null){let D=[];if(this._fieldObjects){let F=this._fieldObjects[x];if(F)for(let{page:j,id:H,exportValues:X}of F){if(j===-1||H===M)continue;let se=typeof X=="string"?X:null,ee=document.querySelector(`[data-element-id="${H}"]`);if(ee&&!a.has(ee)){(0,t.warn)(`_getElementsByName - element not allowed: ${H}`);continue}D.push({id:H,exportValue:se,domElement:ee})}return D}for(let F of document.getElementsByName(x)){let{exportValue:j}=F,H=F.getAttribute("data-element-id");H!==M&&a.has(F)&&D.push({id:H,exportValue:j,domElement:F})}return D}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){let x=this.getElementsToTriggerPopup();if(Array.isArray(x))for(let M of x)M.classList.add("highlightArea");else x.classList.add("highlightArea")}_editOnDoubleClick(){let{annotationEditorType:x,data:{id:M}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:x,editId:M})})}}class h extends f{constructor(x,M=null){super(x,{isRenderable:!0,ignoreBorder:!!M?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=x.data.isTooltipOnly}render(){let{data:x,linkService:M}=this,D=document.createElement("a");D.setAttribute("data-element-id",x.id);let F=!1;return x.url?(M.addLinkAttributes(D,x.url,x.newWindow),F=!0):x.action?(this._bindNamedAction(D,x.action),F=!0):x.attachment?(this._bindAttachment(D,x.attachment),F=!0):x.setOCGState?(this.#t(D,x.setOCGState),F=!0):x.dest?(this._bindLink(D,x.dest),F=!0):(x.actions&&(x.actions.Action||x.actions["Mouse Up"]||x.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(D,x),F=!0),x.resetForm?(this._bindResetFormAction(D,x.resetForm),F=!0):this.isTooltipOnly&&!F&&(this._bindLink(D,""),F=!0)),this.container.classList.add("linkAnnotation"),F&&this.container.append(D),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(x,M){x.href=this.linkService.getDestinationHash(M),x.onclick=()=>(M&&this.linkService.goToDestination(M),!1),(M||M==="")&&this.#e()}_bindNamedAction(x,M){x.href=this.linkService.getAnchorUrl(""),x.onclick=()=>(this.linkService.executeNamedAction(M),!1),this.#e()}_bindAttachment(x,M){x.href=this.linkService.getAnchorUrl(""),x.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,M.content,M.filename),!1),this.#e()}#t(x,M){x.href=this.linkService.getAnchorUrl(""),x.onclick=()=>(this.linkService.executeSetOCGState(M),!1),this.#e()}_bindJSAction(x,M){x.href=this.linkService.getAnchorUrl("");let D=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let F of Object.keys(M.actions)){let j=D.get(F);j&&(x[j]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M.id,name:F}}),!1))}x.onclick||(x.onclick=()=>!1),this.#e()}_bindResetFormAction(x,M){let D=x.onclick;if(D||(x.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,t.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),D||(x.onclick=()=>!1);return}x.onclick=()=>{D?.();let{fields:F,refs:j,include:H}=M,X=[];if(F.length!==0||j.length!==0){let W=new Set(j);for(let Q of F){let K=this._fieldObjects[Q]||[];for(let{id:te}of K)W.add(te)}for(let Q of Object.values(this._fieldObjects))for(let K of Q)W.has(K.id)===H&&X.push(K)}else for(let W of Object.values(this._fieldObjects))X.push(...W);let se=this.annotationStorage,ee=[];for(let W of X){let{id:Q}=W;switch(ee.push(Q),W.type){case"text":{let te=W.defaultValue||"";se.setValue(Q,{value:te});break}case"checkbox":case"radiobutton":{let te=W.defaultValue===W.exportValues;se.setValue(Q,{value:te});break}case"combobox":case"listbox":{let te=W.defaultValue||"";se.setValue(Q,{value:te});break}default:continue}let K=document.querySelector(`[data-element-id="${Q}"]`);if(K){if(!a.has(K)){(0,t.warn)(`_bindResetFormAction - element not allowed: ${Q}`);continue}}else continue;K.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ee,name:"ResetForm"}}),!1}}}class v extends f{constructor(x){super(x,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");let x=document.createElement("img");return x.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",x.alt="[{{type}} Annotation]",x.dataset.l10nId="text_annotation_type",x.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(x),this.container}}class m extends f{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(x){this.data.hasOwnCanvas&&(x.previousSibling?.nodeName==="CANVAS"&&(x.previousSibling.hidden=!0),x.hidden=!1)}_getKeyModifier(x){let{isWin:M,isMac:D}=t.FeatureTest.platform;return M&&x.ctrlKey||D&&x.metaKey}_setEventListener(x,M,D,F,j){D.includes("mouse")?x.addEventListener(D,H=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:F,value:j(H),shift:H.shiftKey,modifier:this._getKeyModifier(H)}})}):x.addEventListener(D,H=>{if(D==="blur"){if(!M.focused||!H.relatedTarget)return;M.focused=!1}else if(D==="focus"){if(M.focused)return;M.focused=!0}j&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:F,value:j(H)}})})}_setEventListeners(x,M,D,F){for(let[j,H]of D)(H==="Action"||this.data.actions?.[H])&&((H==="Focus"||H==="Blur")&&(M||={focused:!1}),this._setEventListener(x,M,j,H,F),H==="Focus"&&!this.data.actions?.Blur?this._setEventListener(x,M,"blur","Blur",null):H==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(x,M,"focus","Focus",null))}_setBackgroundColor(x){let M=this.data.backgroundColor||null;x.style.backgroundColor=M===null?"transparent":t.Util.makeHexColor(M[0],M[1],M[2])}_setTextStyle(x){let M=["left","center","right"],{fontColor:D}=this.data.defaultAppearanceData,F=this.data.defaultAppearanceData.fontSize||c,j=x.style,H,X=2,se=ee=>Math.round(10*ee)/10;if(this.data.multiLine){let ee=Math.abs(this.data.rect[3]-this.data.rect[1]-X),W=Math.round(ee/(t.LINE_FACTOR*F))||1,Q=ee/W;H=Math.min(F,se(Q/t.LINE_FACTOR))}else{let ee=Math.abs(this.data.rect[3]-this.data.rect[1]-X);H=Math.min(F,se(ee/t.LINE_FACTOR))}j.fontSize=`calc(${H}px * var(--scale-factor))`,j.color=t.Util.makeHexColor(D[0],D[1],D[2]),this.data.textAlignment!==null&&(j.textAlign=M[this.data.textAlignment])}_setRequired(x,M){M?x.setAttribute("required",!0):x.removeAttribute("required"),x.setAttribute("aria-required",M)}}class E extends m{constructor(x){let M=x.renderForms||!x.data.hasAppearance&&!!x.data.fieldValue;super(x,{isRenderable:M})}setPropertyOnSiblings(x,M,D,F){let j=this.annotationStorage;for(let H of this._getElementsByName(x.name,x.id))H.domElement&&(H.domElement[M]=D),j.setValue(H.id,{[F]:D})}render(){let x=this.annotationStorage,M=this.data.id;this.container.classList.add("textWidgetAnnotation");let D=null;if(this.renderForms){let F=x.getValue(M,{value:this.data.fieldValue}),j=F.value||"",H=x.getValue(M,{charLimit:this.data.maxLen}).charLimit;H&&j.length>H&&(j=j.slice(0,H));let X=F.formattedValue||this.data.textContent?.join(`
`)||null;X&&this.data.comb&&(X=X.replaceAll(/\s+/g,""));let se={userValue:j,formattedValue:X,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(D=document.createElement("textarea"),D.textContent=X??j,this.data.doNotScroll&&(D.style.overflowY="hidden")):(D=document.createElement("input"),D.type="text",D.setAttribute("value",X??j),this.data.doNotScroll&&(D.style.overflowX="hidden")),this.data.hasOwnCanvas&&(D.hidden=!0),a.add(D),D.setAttribute("data-element-id",M),D.disabled=this.data.readOnly,D.name=this.data.fieldName,D.tabIndex=u,this._setRequired(D,this.data.required),H&&(D.maxLength=H),D.addEventListener("input",W=>{x.setValue(M,{value:W.target.value}),this.setPropertyOnSiblings(D,"value",W.target.value,"value"),se.formattedValue=null}),D.addEventListener("resetform",W=>{let Q=this.data.defaultFieldValue??"";D.value=se.userValue=Q,se.formattedValue=null});let ee=W=>{let{formattedValue:Q}=se;Q!=null&&(W.target.value=Q),W.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){D.addEventListener("focus",Q=>{if(se.focused)return;let{target:K}=Q;se.userValue&&(K.value=se.userValue),se.lastCommittedValue=K.value,se.commitKey=1,se.focused=!0}),D.addEventListener("updatefromsandbox",Q=>{this.showElementAndHideCanvas(Q.target);let K={value(te){se.userValue=te.detail.value??"",x.setValue(M,{value:se.userValue.toString()}),te.target.value=se.userValue},formattedValue(te){let{formattedValue:ae}=te.detail;se.formattedValue=ae,ae!=null&&te.target!==document.activeElement&&(te.target.value=ae),x.setValue(M,{formattedValue:ae})},selRange(te){te.target.setSelectionRange(...te.detail.selRange)},charLimit:te=>{let{charLimit:ae}=te.detail,{target:fe}=te;if(ae===0){fe.removeAttribute("maxLength");return}fe.setAttribute("maxLength",ae);let ge=se.userValue;!ge||ge.length<=ae||(ge=ge.slice(0,ae),fe.value=se.userValue=ge,x.setValue(M,{value:ge}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:ge,willCommit:!0,commitKey:1,selStart:fe.selectionStart,selEnd:fe.selectionEnd}}))}};this._dispatchEventFromSandbox(K,Q)}),D.addEventListener("keydown",Q=>{se.commitKey=1;let K=-1;if(Q.key==="Escape"?K=0:Q.key==="Enter"&&!this.data.multiLine?K=2:Q.key==="Tab"&&(se.commitKey=3),K===-1)return;let{value:te}=Q.target;se.lastCommittedValue!==te&&(se.lastCommittedValue=te,se.userValue=te,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:te,willCommit:!0,commitKey:K,selStart:Q.target.selectionStart,selEnd:Q.target.selectionEnd}}))});let W=ee;ee=null,D.addEventListener("blur",Q=>{if(!se.focused||!Q.relatedTarget)return;se.focused=!1;let{value:K}=Q.target;se.userValue=K,se.lastCommittedValue!==K&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:K,willCommit:!0,commitKey:se.commitKey,selStart:Q.target.selectionStart,selEnd:Q.target.selectionEnd}}),W(Q)}),this.data.actions?.Keystroke&&D.addEventListener("beforeinput",Q=>{se.lastCommittedValue=null;let{data:K,target:te}=Q,{value:ae,selectionStart:fe,selectionEnd:ge}=te,we=fe,Ee=ge;switch(Q.inputType){case"deleteWordBackward":{let Te=ae.substring(0,fe).match(/\w*[^\w]*$/);Te&&(we-=Te[0].length);break}case"deleteWordForward":{let Te=ae.substring(fe).match(/^[^\w]*\w*/);Te&&(Ee+=Te[0].length);break}case"deleteContentBackward":fe===ge&&(we-=1);break;case"deleteContentForward":fe===ge&&(Ee+=1);break}Q.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:ae,change:K||"",willCommit:!1,selStart:we,selEnd:Ee}})}),this._setEventListeners(D,se,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Q=>Q.target.value)}if(ee&&D.addEventListener("blur",ee),this.data.comb){let Q=(this.data.rect[2]-this.data.rect[0])/H;D.classList.add("comb"),D.style.letterSpacing=`calc(${Q}px * var(--scale-factor) - 1ch)`}}else D=document.createElement("div"),D.textContent=this.data.fieldValue,D.style.verticalAlign="middle",D.style.display="table-cell";return this._setTextStyle(D),this._setBackgroundColor(D),this._setDefaultPropertiesFromJS(D),this.container.append(D),this.container}}class g extends m{constructor(x){super(x,{isRenderable:!!x.data.hasOwnCanvas})}}class b extends m{constructor(x){super(x,{isRenderable:x.renderForms})}render(){let x=this.annotationStorage,M=this.data,D=M.id,F=x.getValue(D,{value:M.exportValue===M.fieldValue}).value;typeof F=="string"&&(F=F!=="Off",x.setValue(D,{value:F})),this.container.classList.add("buttonWidgetAnnotation","checkBox");let j=document.createElement("input");return a.add(j),j.setAttribute("data-element-id",D),j.disabled=M.readOnly,this._setRequired(j,this.data.required),j.type="checkbox",j.name=M.fieldName,F&&j.setAttribute("checked",!0),j.setAttribute("exportValue",M.exportValue),j.tabIndex=u,j.addEventListener("change",H=>{let{name:X,checked:se}=H.target;for(let ee of this._getElementsByName(X,D)){let W=se&&ee.exportValue===M.exportValue;ee.domElement&&(ee.domElement.checked=W),x.setValue(ee.id,{value:W})}x.setValue(D,{value:se})}),j.addEventListener("resetform",H=>{let X=M.defaultFieldValue||"Off";H.target.checked=X===M.exportValue}),this.enableScripting&&this.hasJSActions&&(j.addEventListener("updatefromsandbox",H=>{let X={value(se){se.target.checked=se.detail.value!=="Off",x.setValue(D,{value:se.target.checked})}};this._dispatchEventFromSandbox(X,H)}),this._setEventListeners(j,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],H=>H.target.checked)),this._setBackgroundColor(j),this._setDefaultPropertiesFromJS(j),this.container.append(j),this.container}}class w extends m{constructor(x){super(x,{isRenderable:x.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let x=this.annotationStorage,M=this.data,D=M.id,F=x.getValue(D,{value:M.fieldValue===M.buttonValue}).value;typeof F=="string"&&(F=F!==M.buttonValue,x.setValue(D,{value:F}));let j=document.createElement("input");if(a.add(j),j.setAttribute("data-element-id",D),j.disabled=M.readOnly,this._setRequired(j,this.data.required),j.type="radio",j.name=M.fieldName,F&&j.setAttribute("checked",!0),j.tabIndex=u,j.addEventListener("change",H=>{let{name:X,checked:se}=H.target;for(let ee of this._getElementsByName(X,D))x.setValue(ee.id,{value:!1});x.setValue(D,{value:se})}),j.addEventListener("resetform",H=>{let X=M.defaultFieldValue;H.target.checked=X!=null&&X===M.buttonValue}),this.enableScripting&&this.hasJSActions){let H=M.buttonValue;j.addEventListener("updatefromsandbox",X=>{let se={value:ee=>{let W=H===ee.detail.value;for(let Q of this._getElementsByName(ee.target.name)){let K=W&&Q.id===D;Q.domElement&&(Q.domElement.checked=K),x.setValue(Q.id,{value:K})}}};this._dispatchEventFromSandbox(se,X)}),this._setEventListeners(j,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],X=>X.target.checked)}return this._setBackgroundColor(j),this._setDefaultPropertiesFromJS(j),this.container.append(j),this.container}}class S extends h{constructor(x){super(x,{ignoreBorder:x.data.hasAppearance})}render(){let x=super.render();x.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(x.title=this.data.alternativeText);let M=x.lastChild;return this.enableScripting&&this.hasJSActions&&M&&(this._setDefaultPropertiesFromJS(M),M.addEventListener("updatefromsandbox",D=>{this._dispatchEventFromSandbox({},D)})),x}}class T extends m{constructor(x){super(x,{isRenderable:x.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let x=this.annotationStorage,M=this.data.id,D=x.getValue(M,{value:this.data.fieldValue}),F=document.createElement("select");a.add(F),F.setAttribute("data-element-id",M),F.disabled=this.data.readOnly,this._setRequired(F,this.data.required),F.name=this.data.fieldName,F.tabIndex=u;let j=this.data.combo&&this.data.options.length>0;this.data.combo||(F.size=this.data.options.length,this.data.multiSelect&&(F.multiple=!0)),F.addEventListener("resetform",W=>{let Q=this.data.defaultFieldValue;for(let K of F.options)K.selected=K.value===Q});for(let W of this.data.options){let Q=document.createElement("option");Q.textContent=W.displayValue,Q.value=W.exportValue,D.value.includes(W.exportValue)&&(Q.setAttribute("selected",!0),j=!1),F.append(Q)}let H=null;if(j){let W=document.createElement("option");W.value=" ",W.setAttribute("hidden",!0),W.setAttribute("selected",!0),F.prepend(W),H=()=>{W.remove(),F.removeEventListener("input",H),H=null},F.addEventListener("input",H)}let X=W=>{let Q=W?"value":"textContent",{options:K,multiple:te}=F;return te?Array.prototype.filter.call(K,ae=>ae.selected).map(ae=>ae[Q]):K.selectedIndex===-1?null:K[K.selectedIndex][Q]},se=X(!1),ee=W=>{let Q=W.target.options;return Array.prototype.map.call(Q,K=>({displayValue:K.textContent,exportValue:K.value}))};return this.enableScripting&&this.hasJSActions?(F.addEventListener("updatefromsandbox",W=>{let Q={value(K){H?.();let te=K.detail.value,ae=new Set(Array.isArray(te)?te:[te]);for(let fe of F.options)fe.selected=ae.has(fe.value);x.setValue(M,{value:X(!0)}),se=X(!1)},multipleSelection(K){F.multiple=!0},remove(K){let te=F.options,ae=K.detail.remove;te[ae].selected=!1,F.remove(ae),te.length>0&&Array.prototype.findIndex.call(te,ge=>ge.selected)===-1&&(te[0].selected=!0),x.setValue(M,{value:X(!0),items:ee(K)}),se=X(!1)},clear(K){for(;F.length!==0;)F.remove(0);x.setValue(M,{value:null,items:[]}),se=X(!1)},insert(K){let{index:te,displayValue:ae,exportValue:fe}=K.detail.insert,ge=F.children[te],we=document.createElement("option");we.textContent=ae,we.value=fe,ge?ge.before(we):F.append(we),x.setValue(M,{value:X(!0),items:ee(K)}),se=X(!1)},items(K){let{items:te}=K.detail;for(;F.length!==0;)F.remove(0);for(let ae of te){let{displayValue:fe,exportValue:ge}=ae,we=document.createElement("option");we.textContent=fe,we.value=ge,F.append(we)}F.options.length>0&&(F.options[0].selected=!0),x.setValue(M,{value:X(!0),items:ee(K)}),se=X(!1)},indices(K){let te=new Set(K.detail.indices);for(let ae of K.target.options)ae.selected=te.has(ae.index);x.setValue(M,{value:X(!0)}),se=X(!1)},editable(K){K.target.disabled=!K.detail.editable}};this._dispatchEventFromSandbox(Q,W)}),F.addEventListener("input",W=>{let Q=X(!0);x.setValue(M,{value:Q}),W.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:se,changeEx:Q,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(F,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],W=>W.target.value)):F.addEventListener("input",function(W){x.setValue(M,{value:X(!0)})}),this.data.combo&&this._setTextStyle(F),this._setBackgroundColor(F),this._setDefaultPropertiesFromJS(F),this.container.append(F),this.container}}class R extends f{constructor(x){let{data:M,elements:D}=x;super(x,{isRenderable:f._hasPopupData(M)}),this.elements=D}render(){this.container.classList.add("popupAnnotation");let x=new k({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),M=[];for(let D of this.elements)D.popup=x,M.push(D.data.id),D.addHighlightArea();return this.container.setAttribute("aria-controls",M.map(D=>`${t.AnnotationPrefix}${D}`).join(",")),this.container}}class k{#e=null;#t=this.#u.bind(this);#i=this.#y.bind(this);#n=this.#A.bind(this);#a=this.#v.bind(this);#s=null;#o=null;#l=null;#c=null;#r=null;#d=null;#h=!1;#f=null;#p=null;#m=null;#g=null;#_=!1;constructor({container:x,color:M,elements:D,titleObj:F,modificationDate:j,contentsObj:H,richText:X,parent:se,rect:ee,parentRect:W,open:Q}){this.#o=x,this.#g=F,this.#l=H,this.#m=X,this.#r=se,this.#s=M,this.#p=ee,this.#d=W,this.#c=D;let K=i.PDFDateString.toDateObject(j);K&&(this.#e=se.l10n.get("annotation_date_string",{date:K.toLocaleDateString(),time:K.toLocaleTimeString()})),this.trigger=D.flatMap(te=>te.getElementsToTriggerPopup());for(let te of this.trigger)te.addEventListener("click",this.#a),te.addEventListener("mouseenter",this.#n),te.addEventListener("mouseleave",this.#i),te.classList.add("popupTriggerArea");for(let te of D)te.container?.addEventListener("keydown",this.#t);this.#o.hidden=!0,Q&&this.#v()}render(){if(this.#f)return;let{page:{view:x},viewport:{rawDims:{pageWidth:M,pageHeight:D,pageX:F,pageY:j}}}=this.#r,H=this.#f=document.createElement("div");if(H.className="popup",this.#s){let Te=H.style.outlineColor=t.Util.makeHexColor(...this.#s);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?H.style.backgroundColor=`color-mix(in srgb, ${Te} 30%, white)`:H.style.backgroundColor=t.Util.makeHexColor(...this.#s.map(Et=>Math.floor(.7*(255-Et)+Et)))}let X=document.createElement("span");X.className="header";let se=document.createElement("h1");if(X.append(se),{dir:se.dir,str:se.textContent}=this.#g,H.append(X),this.#e){let Te=document.createElement("span");Te.classList.add("popupDate"),this.#e.then(Ve=>{Te.textContent=Ve}),X.append(Te)}let ee=this.#l,W=this.#m;if(W?.str&&(!ee?.str||ee.str===W.str))_.XfaLayer.render({xfaHtml:W.html,intent:"richText",div:H}),H.lastChild.classList.add("richText","popupContent");else{let Te=this._formatContents(ee);H.append(Te)}let Q=!!this.#d,K=Q?this.#d:this.#p;for(let Te of this.#c)if(!K||t.Util.intersect(Te.data.rect,K)!==null){K=Te.data.rect,Q=!0;break}let te=t.Util.normalizeRect([K[0],x[3]-K[1]+x[1],K[2],x[3]-K[3]+x[1]]),fe=Q?K[2]-K[0]+5:0,ge=te[0]+fe,we=te[1],{style:Ee}=this.#o;Ee.left=`${100*(ge-F)/M}%`,Ee.top=`${100*(we-j)/D}%`,this.#o.append(H)}_formatContents({str:x,dir:M}){let D=document.createElement("p");D.classList.add("popupContent"),D.dir=M;let F=x.split(/(?:\r\n?|\n)/);for(let j=0,H=F.length;j<H;++j){let X=F[j];D.append(document.createTextNode(X)),j<H-1&&D.append(document.createElement("br"))}return D}#u(x){x.altKey||x.shiftKey||x.ctrlKey||x.metaKey||(x.key==="Enter"||x.key==="Escape"&&this.#h)&&this.#v()}#v(){this.#h=!this.#h,this.#h?(this.#A(),this.#o.addEventListener("click",this.#a),this.#o.addEventListener("keydown",this.#t)):(this.#y(),this.#o.removeEventListener("click",this.#a),this.#o.removeEventListener("keydown",this.#t))}#A(){this.#f||this.render(),this.isVisible?this.#h&&this.#o.classList.add("focused"):(this.#o.hidden=!1,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)+1e3)}#y(){this.#o.classList.remove("focused"),!(this.#h||!this.isVisible)&&(this.#o.hidden=!0,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)-1e3)}forceHide(){this.#_=this.isVisible,this.#_&&(this.#o.hidden=!0)}maybeShow(){this.#_&&(this.#_=!1,this.#o.hidden=!1)}get isVisible(){return this.#o.hidden===!1}}class U extends f{constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0}),this.textContent=x.data.textContent,this.textPosition=x.data.textPosition,this.annotationEditorType=t.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){let x=document.createElement("div");x.classList.add("annotationTextContent"),x.setAttribute("role","comment");for(let M of this.textContent){let D=document.createElement("span");D.textContent=M,x.append(D)}this.container.append(x)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}e.FreeTextAnnotationElement=U;class G extends f{#e=null;constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");let x=this.data,{width:M,height:D}=l(x.rect),F=this.svgFactory.create(M,D,!0),j=this.#e=this.svgFactory.createElement("svg:line");return j.setAttribute("x1",x.rect[2]-x.lineCoordinates[0]),j.setAttribute("y1",x.rect[3]-x.lineCoordinates[1]),j.setAttribute("x2",x.rect[2]-x.lineCoordinates[2]),j.setAttribute("y2",x.rect[3]-x.lineCoordinates[3]),j.setAttribute("stroke-width",x.borderStyle.width||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),F.append(j),this.container.append(F),!x.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class $ extends f{#e=null;constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");let x=this.data,{width:M,height:D}=l(x.rect),F=this.svgFactory.create(M,D,!0),j=x.borderStyle.width,H=this.#e=this.svgFactory.createElement("svg:rect");return H.setAttribute("x",j/2),H.setAttribute("y",j/2),H.setAttribute("width",M-j),H.setAttribute("height",D-j),H.setAttribute("stroke-width",j||1),H.setAttribute("stroke","transparent"),H.setAttribute("fill","transparent"),F.append(H),this.container.append(F),!x.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class J extends f{#e=null;constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");let x=this.data,{width:M,height:D}=l(x.rect),F=this.svgFactory.create(M,D,!0),j=x.borderStyle.width,H=this.#e=this.svgFactory.createElement("svg:ellipse");return H.setAttribute("cx",M/2),H.setAttribute("cy",D/2),H.setAttribute("rx",M/2-j/2),H.setAttribute("ry",D/2-j/2),H.setAttribute("stroke-width",j||1),H.setAttribute("stroke","transparent"),H.setAttribute("fill","transparent"),F.append(H),this.container.append(F),!x.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Z extends f{#e=null;constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);let x=this.data,{width:M,height:D}=l(x.rect),F=this.svgFactory.create(M,D,!0),j=[];for(let X of x.vertices){let se=X.x-x.rect[0],ee=x.rect[3]-X.y;j.push(se+","+ee)}j=j.join(" ");let H=this.#e=this.svgFactory.createElement(this.svgElementName);return H.setAttribute("points",j),H.setAttribute("stroke-width",x.borderStyle.width||1),H.setAttribute("stroke","transparent"),H.setAttribute("fill","transparent"),F.append(H),this.container.append(F),!x.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class V extends Z{constructor(x){super(x),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class z extends f{constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class I extends f{#e=[];constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=t.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);let x=this.data,{width:M,height:D}=l(x.rect),F=this.svgFactory.create(M,D,!0);for(let j of x.inkLists){let H=[];for(let se of j){let ee=se.x-x.rect[0],W=x.rect[3]-se.y;H.push(`${ee},${W}`)}H=H.join(" ");let X=this.svgFactory.createElement(this.svgElementName);this.#e.push(X),X.setAttribute("points",H),X.setAttribute("stroke-width",x.borderStyle.width||1),X.setAttribute("stroke","transparent"),X.setAttribute("fill","transparent"),!x.popupRef&&this.hasPopupData&&this._createPopup(),F.append(X)}return this.container.append(F),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}e.InkAnnotationElement=I;class y extends f{constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class C extends f{constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class A extends f{constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class P extends f{constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class L extends f{constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}e.StampAnnotationElement=L;class O extends f{#e=null;constructor(x){super(x,{isRenderable:!0});let{filename:M,content:D}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(M,!0),this.content=D,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:M,content:D})}render(){this.container.classList.add("fileAttachmentAnnotation");let{container:x,data:M}=this,D;M.hasAppearance||M.fillAlpha===0?D=document.createElement("div"):(D=document.createElement("img"),D.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(M.name)?"paperclip":"pushpin"}.svg`,M.fillAlpha&&M.fillAlpha<1&&(D.style=`filter: opacity(${Math.round(M.fillAlpha*100)}%);`)),D.addEventListener("dblclick",this.#t.bind(this)),this.#e=D;let{isMac:F}=t.FeatureTest.platform;return x.addEventListener("keydown",j=>{j.key==="Enter"&&(F?j.metaKey:j.ctrlKey)&&this.#t()}),!M.popupRef&&this.hasPopupData?this._createPopup():D.classList.add("popupTriggerArea"),x.append(D),x}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class B{#e=null;#t=null;#i=new Map;constructor({div:x,accessibilityManager:M,annotationCanvasMap:D,l10n:F,page:j,viewport:H}){this.div=x,this.#e=M,this.#t=D,this.l10n=F,this.page=j,this.viewport=H,this.zIndex=0,this.l10n||=d.NullL10n}#n(x,M){let D=x.firstChild||x;D.id=`${t.AnnotationPrefix}${M}`,this.div.append(x),this.#e?.moveElementInDOM(this.div,x,D,!1)}render(x){return me(this,null,function*(){let{annotations:M}=x,D=this.div;(0,i.setLayerDimensions)(D,this.viewport);let F=new Map,j={data:null,layer:D,linkService:x.linkService,downloadManager:x.downloadManager,imageResourcesPath:x.imageResourcesPath||"",renderForms:x.renderForms!==!1,svgFactory:new i.DOMSVGFactory,annotationStorage:x.annotationStorage||new s.AnnotationStorage,enableScripting:x.enableScripting===!0,hasJSActions:x.hasJSActions,fieldObjects:x.fieldObjects,parent:this,elements:null};for(let H of M){if(H.noHTML)continue;let X=H.annotationType===t.AnnotationType.POPUP;if(X){let W=F.get(H.id);if(!W)continue;j.elements=W}else{let{width:W,height:Q}=l(H.rect);if(W<=0||Q<=0)continue}j.data=H;let se=p.create(j);if(!se.isRenderable)continue;if(!X&&H.popupRef){let W=F.get(H.popupRef);W?W.push(se):F.set(H.popupRef,[se])}se.annotationEditorType>0&&this.#i.set(se.data.id,se);let ee=se.render();H.hidden&&(ee.style.visibility="hidden"),this.#n(ee,H.id)}this.#a(),yield this.l10n.translate(D)})}update({viewport:x}){let M=this.div;this.viewport=x,(0,i.setLayerDimensions)(M,{rotation:x.rotation}),this.#a(),M.hidden=!1}#a(){if(!this.#t)return;let x=this.div;for(let[M,D]of this.#t){let F=x.querySelector(`[data-annotation-id="${M}"]`);if(!F)continue;let{firstChild:j}=F;j?j.nodeName==="CANVAS"?j.replaceWith(D):j.before(D):F.append(D)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#i.values())}getEditableAnnotation(x){return this.#i.get(x)}}e.AnnotationLayer=B},(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function r(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}function t(s){return Math.max(0,Math.min(255,255*s))}class i{static CMYK_G([o,d,_,u]){return["G",1-Math.min(1,.3*o+.59*_+.11*d+u)]}static G_CMYK([o]){return["CMYK",0,0,0,1-o]}static G_RGB([o]){return["RGB",o,o,o]}static G_rgb([o]){return o=t(o),[o,o,o]}static G_HTML([o]){let d=r(o);return`#${d}${d}${d}`}static RGB_G([o,d,_]){return["G",.3*o+.59*d+.11*_]}static RGB_rgb(o){return o.map(t)}static RGB_HTML(o){return`#${o.map(r).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([o,d,_,u]){return["RGB",1-Math.min(1,o+u),1-Math.min(1,_+u),1-Math.min(1,d+u)]}static CMYK_rgb([o,d,_,u]){return[t(1-Math.min(1,o+u)),t(1-Math.min(1,_+u)),t(1-Math.min(1,d+u))]}static CMYK_HTML(o){let d=this.CMYK_RGB(o).slice(1);return this.RGB_HTML(d)}static RGB_CMYK([o,d,_]){let u=1-o,c=1-d,a=1-_,l=Math.min(u,c,a);return["CMYK",u,c,a,l]}}e.ColorConverters=i},(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.getL10nFallback=t;let r={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};r.print_progress_percent="{{progress}}%";function t(d,_){switch(d){case"find_match_count":d=`find_match_count[${_.total===1?"one":"other"}]`;break;case"find_match_count_limit":d=`find_match_count_limit[${_.limit===1?"one":"other"}]`;break}return r[d]||""}function i(d,_){return _?d.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(u,c)=>c in _?_[c]:"{{"+c+"}}"):d}let s={getLanguage(){return me(this,null,function*(){return"en-us"})},getDirection(){return me(this,null,function*(){return"ltr"})},get(c){return me(this,arguments,function*(d,_=null,u=t(d,_)){return i(u,_)})},translate(d){return me(this,null,function*(){})}};e.NullL10n=s},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var t=r(25);class i{static setupStorage(o,d,_,u,c){let a=u.getValue(d,{value:null});switch(_.name){case"textarea":if(a.value!==null&&(o.textContent=a.value),c==="print")break;o.addEventListener("input",l=>{u.setValue(d,{value:l.target.value})});break;case"input":if(_.attributes.type==="radio"||_.attributes.type==="checkbox"){if(a.value===_.attributes.xfaOn?o.setAttribute("checked",!0):a.value===_.attributes.xfaOff&&o.removeAttribute("checked"),c==="print")break;o.addEventListener("change",l=>{u.setValue(d,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&o.setAttribute("value",a.value),c==="print")break;o.addEventListener("input",l=>{u.setValue(d,{value:l.target.value})})}break;case"select":if(a.value!==null){o.setAttribute("value",a.value);for(let l of _.children)l.attributes.value===a.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}o.addEventListener("input",l=>{let p=l.target.options,f=p.selectedIndex===-1?"":p[p.selectedIndex].value;u.setValue(d,{value:f})});break}}static setAttributes({html:o,element:d,storage:_=null,intent:u,linkService:c}){let{attributes:a}=d,l=o instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${u}`);for(let[p,f]of Object.entries(a))if(f!=null)switch(p){case"class":f.length&&o.setAttribute(p,f.join(" "));break;case"dataId":break;case"id":o.setAttribute("data-element-id",f);break;case"style":Object.assign(o.style,f);break;case"textContent":o.textContent=f;break;default:(!l||p!=="href"&&p!=="newWindow")&&o.setAttribute(p,f)}l&&c.addLinkAttributes(o,a.href,a.newWindow),_&&a.dataId&&this.setupStorage(o,a.dataId,d,_)}static render(o){let d=o.annotationStorage,_=o.linkService,u=o.xfaHtml,c=o.intent||"display",a=document.createElement(u.name);u.attributes&&this.setAttributes({html:a,element:u,intent:c,linkService:_});let l=[[u,-1,a]],p=o.div;if(p.append(a),o.viewport){let h=`matrix(${o.viewport.transform.join(",")})`;p.style.transform=h}c!=="richText"&&p.setAttribute("class","xfaLayer xfaFont");let f=[];for(;l.length>0;){let[h,v,m]=l.at(-1);if(v+1===h.children.length){l.pop();continue}let E=h.children[++l.at(-1)[1]];if(E===null)continue;let{name:g}=E;if(g==="#text"){let w=document.createTextNode(E.value);f.push(w),m.append(w);continue}let b=E?.attributes?.xmlns?document.createElementNS(E.attributes.xmlns,g):document.createElement(g);if(m.append(b),E.attributes&&this.setAttributes({html:b,element:E,storage:d,intent:c,linkService:_}),E.children&&E.children.length>0)l.push([E,-1,b]);else if(E.value){let w=document.createTextNode(E.value);t.XfaText.shouldBuildText(g)&&f.push(w),b.append(w)}}for(let h of p.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:f}}static update(o){let d=`matrix(${o.viewport.transform.join(",")})`;o.div.style.transform=d,o.div.hidden=!1}}e.XfaLayer=i},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0;var t=r(1),i=r(4),s=r(29),o=r(6),d=r(5);let _=(()=>{class u extends i.AnnotationEditor{#e=0;#t=0;#i=this.canvasPointermove.bind(this);#n=this.canvasPointerleave.bind(this);#a=this.canvasPointerup.bind(this);#s=this.canvasPointerdown.bind(this);#o=new Path2D;#l=!1;#c=!1;#r=!1;#d=null;#h=0;#f=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(a){super(Be(pe({},a),{name:"inkEditor"})),this.color=a.color||null,this.thickness=a.thickness||null,this.opacity=a.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(a){i.AnnotationEditor.initialize(a,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(a,l){switch(a){case t.AnnotationEditorParamsType.INK_THICKNESS:u._defaultThickness=l;break;case t.AnnotationEditorParamsType.INK_COLOR:u._defaultColor=l;break;case t.AnnotationEditorParamsType.INK_OPACITY:u._defaultOpacity=l/100;break}}updateParams(a,l){switch(a){case t.AnnotationEditorParamsType.INK_THICKNESS:this.#m(l);break;case t.AnnotationEditorParamsType.INK_COLOR:this.#g(l);break;case t.AnnotationEditorParamsType.INK_OPACITY:this.#_(l);break}}static get defaultPropertiesToUpdate(){return[[t.AnnotationEditorParamsType.INK_THICKNESS,u._defaultThickness],[t.AnnotationEditorParamsType.INK_COLOR,u._defaultColor||i.AnnotationEditor._defaultLineColor],[t.AnnotationEditorParamsType.INK_OPACITY,Math.round(u._defaultOpacity*100)]]}get propertiesToUpdate(){return[[t.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||u._defaultThickness],[t.AnnotationEditorParamsType.INK_COLOR,this.color||u._defaultColor||i.AnnotationEditor._defaultLineColor],[t.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??u._defaultOpacity))]]}#m(a){let l=this.thickness;this.addCommands({cmd:()=>{this.thickness=a,this.#I()},undo:()=>{this.thickness=l,this.#I()},mustExec:!0,type:t.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#g(a){let l=this.color;this.addCommands({cmd:()=>{this.color=a,this.#b()},undo:()=>{this.color=l,this.#b()},mustExec:!0,type:t.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#_(a){a/=100;let l=this.opacity;this.addCommands({cmd:()=>{this.opacity=a,this.#b()},undo:()=>{this.opacity=l,this.#b()},mustExec:!0,type:t.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#T(),this.#M()),this.isAttachedToDOM||(this.parent.add(this),this.#C()),this.#I()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#d.disconnect(),this.#d=null,super.remove())}setParent(a){!this.parent&&a?this._uiManager.removeShouldRescale(this):this.parent&&a===null&&this._uiManager.addShouldRescale(this),super.setParent(a)}onScaleChanging(){let[a,l]=this.parentDimensions,p=this.width*a,f=this.height*l;this.setDimensions(p,f)}enableEditMode(){this.#l||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#s))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#s))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#u(){let{parentRotation:a,parentDimensions:[l,p]}=this;switch(a){case 90:return[0,p,p,l];case 180:return[l,p,l,p];case 270:return[l,0,p,l];default:return[0,0,l,p]}}#v(){let{ctx:a,color:l,opacity:p,thickness:f,parentScale:h,scaleFactor:v}=this;a.lineWidth=f*h/v,a.lineCap="round",a.lineJoin="round",a.miterLimit=10,a.strokeStyle=`${l}${(0,d.opacityToHex)(p)}`}#A(a,l){this.canvas.addEventListener("contextmenu",o.noContextMenu),this.canvas.addEventListener("pointerleave",this.#n),this.canvas.addEventListener("pointermove",this.#i),this.canvas.addEventListener("pointerup",this.#a),this.canvas.removeEventListener("pointerdown",this.#s),this.isEditing=!0,this.#r||(this.#r=!0,this.#C(),this.thickness||=u._defaultThickness,this.color||=u._defaultColor||i.AnnotationEditor._defaultLineColor,this.opacity??=u._defaultOpacity),this.currentPath.push([a,l]),this.#c=!1,this.#v(),this.#p=()=>{this.#k(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#y(a,l){let[p,f]=this.currentPath.at(-1);if(this.currentPath.length>1&&a===p&&l===f)return;let h=this.currentPath,v=this.#o;if(h.push([a,l]),this.#c=!0,h.length<=2){v.moveTo(...h[0]),v.lineTo(a,l);return}h.length===3&&(this.#o=v=new Path2D,v.moveTo(...h[0])),this.#R(v,...h.at(-3),...h.at(-2),a,l)}#x(){if(this.currentPath.length===0)return;let a=this.currentPath.at(-1);this.#o.lineTo(...a)}#w(a,l){this.#p=null,a=Math.min(Math.max(a,0),this.canvas.width),l=Math.min(Math.max(l,0),this.canvas.height),this.#y(a,l),this.#x();let p;if(this.currentPath.length!==1)p=this.#O();else{let E=[a,l];p=[[E,E.slice(),E.slice(),E]]}let f=this.#o,h=this.currentPath;this.currentPath=[],this.#o=new Path2D;let v=()=>{this.allRawPaths.push(h),this.paths.push(p),this.bezierPath2D.push(f),this.rebuild()},m=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#T(),this.#M()),this.#I())};this.addCommands({cmd:v,undo:m,mustExec:!0})}#k(){if(!this.#c)return;this.#c=!1;let a=Math.ceil(this.thickness*this.parentScale),l=this.currentPath.slice(-3),p=l.map(b=>b[0]),f=l.map(b=>b[1]),h=Math.min(...p)-a,v=Math.max(...p)+a,m=Math.min(...f)-a,E=Math.max(...f)+a,{ctx:g}=this;g.save(),g.clearRect(0,0,this.canvas.width,this.canvas.height);for(let b of this.bezierPath2D)g.stroke(b);g.stroke(this.#o),g.restore()}#R(a,l,p,f,h,v,m){let E=(l+f)/2,g=(p+h)/2,b=(f+v)/2,w=(h+m)/2;a.bezierCurveTo(E+2*(f-E)/3,g+2*(h-g)/3,b+2*(f-b)/3,w+2*(h-w)/3,b,w)}#O(){let a=this.currentPath;if(a.length<=2)return[[a[0],a[0],a.at(-1),a.at(-1)]];let l=[],p,[f,h]=a[0];for(p=1;p<a.length-2;p++){let[S,T]=a[p],[R,k]=a[p+1],U=(S+R)/2,G=(T+k)/2,$=[f+2*(S-f)/3,h+2*(T-h)/3],J=[U+2*(S-U)/3,G+2*(T-G)/3];l.push([[f,h],$,J,[U,G]]),[f,h]=[U,G]}let[v,m]=a[p],[E,g]=a[p+1],b=[f+2*(v-f)/3,h+2*(m-h)/3],w=[E+2*(v-E)/3,g+2*(m-g)/3];return l.push([[f,h],b,w,[E,g]]),l}#b(){if(this.isEmpty()){this.#D();return}this.#v();let{canvas:a,ctx:l}=this;l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,a.width,a.height),this.#D();for(let p of this.bezierPath2D)l.stroke(p)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#I(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(a){this._focusEventsAllowed&&(super.focusin(a),this.enableEditMode())}canvasPointerdown(a){a.button!==0||!this.isInEditMode()||this.#l||(this.setInForeground(),a.preventDefault(),a.type!=="mouse"&&this.div.focus(),this.#A(a.offsetX,a.offsetY))}canvasPointermove(a){a.preventDefault(),this.#y(a.offsetX,a.offsetY)}canvasPointerup(a){a.preventDefault(),this.#P(a)}canvasPointerleave(a){this.#P(a)}#P(a){this.canvas.removeEventListener("pointerleave",this.#n),this.canvas.removeEventListener("pointermove",this.#i),this.canvas.removeEventListener("pointerup",this.#a),this.canvas.addEventListener("pointerdown",this.#s),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",o.noContextMenu)},10),this.#w(a.offsetX,a.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#T(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",i.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(a=>this.canvas?.setAttribute("aria-label",a)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#M(){this.#d=new ResizeObserver(a=>{let l=a[0].contentRect;l.width&&l.height&&this.setDimensions(l.width,l.height)}),this.#d.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let a,l;this.width&&(a=this.x,l=this.y),super.render(),i.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(m=>this.div?.setAttribute("aria-label",m));let[p,f,h,v]=this.#u();if(this.setAt(p,f,0,0),this.setDims(h,v),this.#T(),this.width){let[m,E]=this.parentDimensions;this.setAspectRatio(this.width*m,this.height*E),this.setAt(a*m,l*E,this.width*m,this.height*E),this.#r=!0,this.#C(),this.setDims(this.width*m,this.height*E),this.#b(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#M(),this.div}#C(){if(!this.#r)return;let[a,l]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*a),this.canvas.height=Math.ceil(this.height*l),this.#D()}setDimensions(a,l){let p=Math.round(a),f=Math.round(l);if(this.#h===p&&this.#f===f)return;this.#h=p,this.#f=f,this.canvas.style.visibility="hidden";let[h,v]=this.parentDimensions;this.width=a/h,this.height=l/v,this.fixAndSetPosition(),this.#l&&this.#S(a,l),this.#C(),this.#b(),this.canvas.style.visibility="visible",this.fixDims()}#S(a,l){let p=this.#L(),f=(a-p)/this.#t,h=(l-p)/this.#e;this.scaleFactor=Math.min(f,h)}#D(){let a=this.#L()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+a,this.translationY*this.scaleFactor+a)}static#N(a){let l=new Path2D;for(let p=0,f=a.length;p<f;p++){let[h,v,m,E]=a[p];p===0&&l.moveTo(...h),l.bezierCurveTo(v[0],v[1],m[0],m[1],E[0],E[1])}return l}static#V(a,l,p){let[f,h,v,m]=l;switch(p){case 0:for(let E=0,g=a.length;E<g;E+=2)a[E]+=f,a[E+1]=m-a[E+1];break;case 90:for(let E=0,g=a.length;E<g;E+=2){let b=a[E];a[E]=a[E+1]+f,a[E+1]=b+h}break;case 180:for(let E=0,g=a.length;E<g;E+=2)a[E]=v-a[E],a[E+1]+=h;break;case 270:for(let E=0,g=a.length;E<g;E+=2){let b=a[E];a[E]=v-a[E+1],a[E+1]=m-b}break;default:throw new Error("Invalid rotation")}return a}static#j(a,l,p){let[f,h,v,m]=l;switch(p){case 0:for(let E=0,g=a.length;E<g;E+=2)a[E]-=f,a[E+1]=m-a[E+1];break;case 90:for(let E=0,g=a.length;E<g;E+=2){let b=a[E];a[E]=a[E+1]-h,a[E+1]=b-f}break;case 180:for(let E=0,g=a.length;E<g;E+=2)a[E]=v-a[E],a[E+1]-=h;break;case 270:for(let E=0,g=a.length;E<g;E+=2){let b=a[E];a[E]=m-a[E+1],a[E+1]=v-b}break;default:throw new Error("Invalid rotation")}return a}#B(a,l,p,f){let h=[],v=this.thickness/2,m=a*l+v,E=a*p+v;for(let g of this.paths){let b=[],w=[];for(let S=0,T=g.length;S<T;S++){let[R,k,U,G]=g[S],$=a*R[0]+m,J=a*R[1]+E,Z=a*k[0]+m,V=a*k[1]+E,z=a*U[0]+m,I=a*U[1]+E,y=a*G[0]+m,C=a*G[1]+E;S===0&&(b.push($,J),w.push($,J)),b.push(Z,V,z,I,y,C),w.push(Z,V),S===T-1&&w.push(y,C)}h.push({bezier:u.#V(b,f,this.rotation),points:u.#V(w,f,this.rotation)})}return h}#F(){let a=1/0,l=-1/0,p=1/0,f=-1/0;for(let h of this.paths)for(let[v,m,E,g]of h){let b=t.Util.bezierBoundingBox(...v,...m,...E,...g);a=Math.min(a,b[0]),p=Math.min(p,b[1]),l=Math.max(l,b[2]),f=Math.max(f,b[3])}return[a,p,l,f]}#L(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#I(a=!1){if(this.isEmpty())return;if(!this.#l){this.#b();return}let l=this.#F(),p=this.#L();this.#t=Math.max(i.AnnotationEditor.MIN_SIZE,l[2]-l[0]),this.#e=Math.max(i.AnnotationEditor.MIN_SIZE,l[3]-l[1]);let f=Math.ceil(p+this.#t*this.scaleFactor),h=Math.ceil(p+this.#e*this.scaleFactor),[v,m]=this.parentDimensions;this.width=f/v,this.height=h/m,this.setAspectRatio(f,h);let E=this.translationX,g=this.translationY;this.translationX=-l[0],this.translationY=-l[1],this.#C(),this.#b(),this.#h=f,this.#f=h,this.setDims(f,h);let b=a?p/this.scaleFactor/2:0;this.translate(E-this.translationX-b,g-this.translationY-b)}static deserialize(a,l,p){if(a instanceof s.InkAnnotationElement)return null;let f=super.deserialize(a,l,p);f.thickness=a.thickness,f.color=t.Util.makeHexColor(...a.color),f.opacity=a.opacity;let[h,v]=f.pageDimensions,m=f.width*h,E=f.height*v,g=f.parentScale,b=a.thickness/2;f.#l=!0,f.#h=Math.round(m),f.#f=Math.round(E);let{paths:w,rect:S,rotation:T}=a;for(let{bezier:k}of w){k=u.#j(k,S,T);let U=[];f.paths.push(U);let G=g*(k[0]-b),$=g*(k[1]-b);for(let Z=2,V=k.length;Z<V;Z+=6){let z=g*(k[Z]-b),I=g*(k[Z+1]-b),y=g*(k[Z+2]-b),C=g*(k[Z+3]-b),A=g*(k[Z+4]-b),P=g*(k[Z+5]-b);U.push([[G,$],[z,I],[y,C],[A,P]]),G=A,$=P}let J=this.#N(U);f.bezierPath2D.push(J)}let R=f.#F();return f.#t=Math.max(i.AnnotationEditor.MIN_SIZE,R[2]-R[0]),f.#e=Math.max(i.AnnotationEditor.MIN_SIZE,R[3]-R[1]),f.#S(m,E),f}serialize(){if(this.isEmpty())return null;let a=this.getRect(0,0),l=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:t.AnnotationEditorType.INK,color:l,thickness:this.thickness,opacity:this.opacity,paths:this.#B(this.scaleFactor/this.parentScale,this.translationX,this.translationY,a),pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}return u})();e.InkEditor=_},(n,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StampEditor=void 0;var t=r(1),i=r(4),s=r(6),o=r(29);let d=(()=>{class _ extends i.AnnotationEditor{#e=null;#t=null;#i=null;#n=null;#a=null;#s=null;#o=null;#l=null;#c=!1;#r=!1;static _type="stamp";constructor(c){super(Be(pe({},c),{name:"stampEditor"})),this.#n=c.bitmapUrl,this.#a=c.bitmapFile}static initialize(c){i.AnnotationEditor.initialize(c)}static get supportedTypes(){let c=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,t.shadow)(this,"supportedTypes",c.map(a=>`image/${a}`))}static get supportedTypesStr(){return(0,t.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(c){return this.supportedTypes.includes(c)}static paste(c,a){a.pasteEditor(t.AnnotationEditorType.STAMP,{bitmapFile:c.getAsFile()})}#d(c,a=!1){if(!c){this.remove();return}this.#e=c.bitmap,a||(this.#t=c.id,this.#c=c.isSvg),this.#p()}#h(){this.#i=null,this._uiManager.enableWaiting(!1),this.#s&&this.div.focus()}#f(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(a=>this.#d(a,!0)).finally(()=>this.#h());return}if(this.#n){let a=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(a).then(l=>this.#d(l)).finally(()=>this.#h());return}if(this.#a){let a=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(a).then(l=>this.#d(l)).finally(()=>this.#h());return}let c=document.createElement("input");c.type="file",c.accept=_.supportedTypesStr,this.#i=new Promise(a=>{c.addEventListener("change",()=>me(this,null,function*(){if(!c.files||c.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);let l=yield this._uiManager.imageManager.getFromFile(c.files[0]);this.#d(l)}a()})),c.addEventListener("cancel",()=>{this.remove(),a()})}).finally(()=>this.#h()),c.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#s?.remove(),this.#s=null,this.#o?.disconnect(),this.#o=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#f();return}super.rebuild(),this.div!==null&&(this.#t&&this.#f(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#i||this.#e||this.#n||this.#a)}get isResizable(){return!0}render(){if(this.div)return this.div;let c,a;if(this.width&&(c=this.x,a=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#f(),this.width){let[l,p]=this.parentDimensions;this.setAt(c*l,a*p,this.width*l,this.height*p)}return this.div}#p(){let{div:c}=this,{width:a,height:l}=this.#e,[p,f]=this.pageDimensions,h=.75;if(this.width)a=this.width*p,l=this.height*f;else if(a>h*p||l>h*f){let g=Math.min(h*p/a,h*f/l);a*=g,l*=g}let[v,m]=this.parentDimensions;this.setDims(a*v/p,l*m/f),this._uiManager.enableWaiting(!1);let E=this.#s=document.createElement("canvas");c.append(E),c.hidden=!1,this.#_(a,l),this.#v(),this.#r||(this.parent.addUndoableEditor(this),this.#r=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#m(c,a){let[l,p]=this.parentDimensions;this.width=c/l,this.height=a/p,this.setDims(c,a),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#l!==null&&clearTimeout(this.#l);let f=200;this.#l=setTimeout(()=>{this.#l=null,this.#_(c,a)},f)}#g(c,a){let{width:l,height:p}=this.#e,f=l,h=p,v=this.#e;for(;f>2*c||h>2*a;){let m=f,E=h;f>2*c&&(f=f>=16384?Math.floor(f/2)-1:Math.ceil(f/2)),h>2*a&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2));let g=new OffscreenCanvas(f,h);g.getContext("2d").drawImage(v,0,0,m,E,0,0,f,h),v=g.transferToImageBitmap()}return v}#_(c,a){c=Math.ceil(c),a=Math.ceil(a);let l=this.#s;if(!l||l.width===c&&l.height===a)return;l.width=c,l.height=a;let p=this.#c?this.#e:this.#g(c,a),f=l.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(p,0,0,p.width,p.height,0,0,c,a)}#u(c){if(c){if(this.#c){let p=this._uiManager.imageManager.getSvgUrl(this.#t);if(p)return p}let a=document.createElement("canvas");return{width:a.width,height:a.height}=this.#e,a.getContext("2d").drawImage(this.#e,0,0),a.toDataURL()}if(this.#c){let[a,l]=this.pageDimensions,p=Math.round(this.width*a*s.PixelsPerInch.PDF_TO_CSS_UNITS),f=Math.round(this.height*l*s.PixelsPerInch.PDF_TO_CSS_UNITS),h=new OffscreenCanvas(p,f);return h.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,p,f),h.transferToImageBitmap()}return structuredClone(this.#e)}#v(){this.#o=new ResizeObserver(c=>{let a=c[0].contentRect;a.width&&a.height&&this.#m(a.width,a.height)}),this.#o.observe(this.div)}static deserialize(c,a,l){if(c instanceof o.StampAnnotationElement)return null;let p=super.deserialize(c,a,l),{rect:f,bitmapUrl:h,bitmapId:v,isSvg:m,accessibilityData:E}=c;v&&l.imageManager.isValidId(v)?p.#t=v:p.#n=h,p.#c=m;let[g,b]=p.pageDimensions;return p.width=(f[2]-f[0])/g,p.height=(f[3]-f[1])/b,E&&(p.altTextData=E),p}serialize(c=!1,a=null){if(this.isEmpty())return null;let l={annotationType:t.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(c)return l.bitmapUrl=this.#u(!0),l.accessibilityData=this.altTextData,l;let{decorative:p,altText:f}=this.altTextData;if(!p&&f&&(l.accessibilityData={type:"Figure",alt:f}),a===null)return l;a.stamps||=new Map;let h=this.#c?(l.rect[2]-l.rect[0])*(l.rect[3]-l.rect[1]):null;if(!a.stamps.has(this.#t))a.stamps.set(this.#t,{area:h,serialized:l}),l.bitmap=this.#u(!1);else if(this.#c){let v=a.stamps.get(this.#t);h>v.area&&(v.area=h,v.serialized.bitmap.close(),v.serialized.bitmap=this.#u(!1))}return l}}return _})();e.StampEditor=d}],__webpack_module_cache__={};function __w_pdfjs_require__(n){var e=__webpack_module_cache__[n];if(e!==void 0)return e.exports;var r=__webpack_module_cache__[n]={exports:{}};return __webpack_modules__[n](r,r.exports,__w_pdfjs_require__),r.exports}var __webpack_exports__={};return(()=>{var n=__webpack_exports__;Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(n,"AnnotationEditorLayer",{enumerable:!0,get:function(){return s.AnnotationEditorLayer}}),Object.defineProperty(n,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(n,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(n,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return o.AnnotationEditorUIManager}}),Object.defineProperty(n,"AnnotationLayer",{enumerable:!0,get:function(){return d.AnnotationLayer}}),Object.defineProperty(n,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(n,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(n,"DOMSVGFactory",{enumerable:!0,get:function(){return t.DOMSVGFactory}}),Object.defineProperty(n,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(n,"GlobalWorkerOptions",{enumerable:!0,get:function(){return _.GlobalWorkerOptions}}),Object.defineProperty(n,"ImageKind",{enumerable:!0,get:function(){return e.ImageKind}}),Object.defineProperty(n,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(n,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(n,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(n,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(n,"PDFDateString",{enumerable:!0,get:function(){return t.PDFDateString}}),Object.defineProperty(n,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(n,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(n,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(n,"PixelsPerInch",{enumerable:!0,get:function(){return t.PixelsPerInch}}),Object.defineProperty(n,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(n,"RenderingCancelledException",{enumerable:!0,get:function(){return t.RenderingCancelledException}}),Object.defineProperty(n,"SVGGraphics",{enumerable:!0,get:function(){return r.SVGGraphics}}),Object.defineProperty(n,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(n,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(n,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(n,"XfaLayer",{enumerable:!0,get:function(){return u.XfaLayer}}),Object.defineProperty(n,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(n,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(n,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(n,"getFilenameFromUrl",{enumerable:!0,get:function(){return t.getFilenameFromUrl}}),Object.defineProperty(n,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return t.getPdfFilenameFromUrl}}),Object.defineProperty(n,"getXfaPageViewport",{enumerable:!0,get:function(){return t.getXfaPageViewport}}),Object.defineProperty(n,"isDataScheme",{enumerable:!0,get:function(){return t.isDataScheme}}),Object.defineProperty(n,"isPdfFile",{enumerable:!0,get:function(){return t.isPdfFile}}),Object.defineProperty(n,"loadScript",{enumerable:!0,get:function(){return t.loadScript}}),Object.defineProperty(n,"noContextMenu",{enumerable:!0,get:function(){return t.noContextMenu}}),Object.defineProperty(n,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(n,"renderTextLayer",{enumerable:!0,get:function(){return i.renderTextLayer}}),Object.defineProperty(n,"setLayerDimensions",{enumerable:!0,get:function(){return t.setLayerDimensions}}),Object.defineProperty(n,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(n,"updateTextLayer",{enumerable:!0,get:function(){return i.updateTextLayer}}),Object.defineProperty(n,"version",{enumerable:!0,get:function(){return r.version}});var e=__w_pdfjs_require__(1),r=__w_pdfjs_require__(2),t=__w_pdfjs_require__(6),i=__w_pdfjs_require__(26),s=__w_pdfjs_require__(27),o=__w_pdfjs_require__(5),d=__w_pdfjs_require__(29),_=__w_pdfjs_require__(14),u=__w_pdfjs_require__(32);let c="3.11.174",a="ce8716743"})(),__webpack_exports__})())});var zh=hi((Zs,wl)=>{"use strict";(function(e,r){typeof Zs=="object"&&typeof wl=="object"?wl.exports=e.pdfjsViewer=r():typeof define=="function"&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],()=>e.pdfjsViewer=r()):typeof Zs=="object"?Zs["pdfjs-dist/web/pdf_viewer"]=e.pdfjsViewer=r():e["pdfjs-dist/web/pdf_viewer"]=e.pdfjsViewer=r()})(globalThis,()=>(()=>{"use strict";var n=[,(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFindController=s.FindState=void 0;var d=o(2),_=o(3),u=o(4);let c={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};s.FindState=c;let a=250,l=-50,p=-400,f={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},h=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),v,m=new RegExp("\\p{M}+","gu"),E=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),g=new RegExp("([^\\p{M}])\\p{M}*$","u"),b=new RegExp("^\\p{M}*([^\\p{M}])","u"),w=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,S=new Map,T="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",R=new Map,k=null,U=null;function G(Z){let V=[],z;for(;(z=w.exec(Z))!==null;){let{index:M}=z;for(let D of z[0]){let F=S.get(D);F||(F=D.normalize("NFD").length,S.set(D,F)),V.push([F,M++])}}let I;if(V.length===0&&k)I=k;else if(V.length>0&&U)I=U;else{let M=Object.keys(f).join(""),D=(0,_.getNormalizeWithNFKC)(),H=`([${M}])|([${D}])|((?:\u3099|\u309A)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30FF])\\n)|(\\n)`;V.length===0?I=k=new RegExp(H+"|(\\u0000)","gum"):I=U=new RegExp(H+`|(${T})`,"gum")}let y=[];for(;(z=m.exec(Z))!==null;)y.push([z[0].length,z.index]);let C=Z.normalize("NFD"),A=[[0,0]],P=0,L=0,O=0,B=0,N=0,x=!1;return C=C.replace(I,(M,D,F,j,H,X,se,ee,W,Q)=>{if(Q-=B,D){let K=f[D],te=K.length;for(let ae=1;ae<te;ae++)A.push([Q-O+ae,O-ae]);return O-=te-1,K}if(F){let K=R.get(F);K||(K=F.normalize("NFKC"),R.set(F,K));let te=K.length;for(let ae=1;ae<te;ae++)A.push([Q-O+ae,O-ae]);return O-=te-1,K}if(j)return x=!0,Q+N===y[P]?.[1]?++P:(A.push([Q-1-O+1,O-1]),O-=1,B+=1),A.push([Q-O+1,O]),B+=1,N+=1,j.charAt(0);if(H){let K=H.endsWith(`
`),te=K?H.length-2:H.length;x=!0;let ae=te;Q+N===y[P]?.[1]&&(ae-=y[P][0],++P);for(let fe=1;fe<=ae;fe++)A.push([Q-1-O+fe,O-fe]);return O-=ae,B+=ae,K?(Q+=te-1,A.push([Q-O+1,1+O]),O+=1,B+=1,N+=1,H.slice(0,te)):H}if(X){let K=X.length-2;return A.push([Q-O+K,1+O]),O+=1,B+=1,N+=1,X.slice(0,-2)}if(se){let K=se.length-1;return A.push([Q-O+K,O]),B+=1,N+=1,se.slice(0,-1)}if(ee)return A.push([Q-O+1,O-1]),O-=1,B+=1,N+=1," ";if(Q+N===V[L]?.[1]){let K=V[L][0]-1;++L;for(let te=1;te<=K;te++)A.push([Q-(O-te),O-te]);O-=K,B+=K}return W}),A.push([C.length,O]),[C,A,x]}function $(Z,V,z){if(!Z)return[V,z];let I=V,y=V+z-1,C=(0,d.binarySearchFirstItem)(Z,B=>B[0]>=I);Z[C][0]>I&&--C;let A=(0,d.binarySearchFirstItem)(Z,B=>B[0]>=y,C);Z[A][0]>y&&--A;let P=I+Z[C][1],O=y+Z[A][1]+1-P;return[P,O]}class J{#e=null;#t=!0;#i=0;constructor({linkService:V,eventBus:z,updateMatchesCountOnProgress:I=!0}){this._linkService=V,this._eventBus=z,this.#t=I,this.onIsPageVisible=null,this.#a(),z._on("find",this.#n.bind(this)),z._on("findbarclose",this.#A.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this.#e}setDocument(V){this._pdfDocument&&this.#a(),V&&(this._pdfDocument=V,this._firstPageCapability.resolve())}#n(V){if(!V)return;V.phraseSearch===!1&&(console.error("The `phraseSearch`-parameter was removed, please provide an Array of strings in the `query`-parameter instead."),typeof V.query=="string"&&(V.query=V.query.match(/\S+/g)));let z=this._pdfDocument,{type:I}=V;(this.#e===null||this.#o(V))&&(this._dirtyMatch=!0),this.#e=V,I!=="highlightallchange"&&this.#w(c.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||z&&this._pdfDocument!==z)return;this.#h();let y=!this._highlightMatches,C=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),I?this._dirtyMatch?this.#m():I==="again"?(this.#m(),y&&this.#e.highlightAll&&this.#p()):I==="highlightallchange"?(C?this.#m():this._highlightMatches=!0,this.#p()):this.#m():this._findTimeout=setTimeout(()=>{this.#m(),this._findTimeout=null},a)})}scrollMatchIntoView({element:V=null,selectedLeft:z=0,pageIndex:I=-1,matchIndex:y=-1}){if(!this._scrollMatches||!V)return;if(y===-1||y!==this._selected.matchIdx)return;if(I===-1||I!==this._selected.pageIdx)return;this._scrollMatches=!1;let C={top:l,left:z+p};(0,d.scrollIntoView)(V,C,!0)}#a(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this.#i=0,this.#e=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=new u.PromiseCapability}get#s(){let{query:V}=this.#e;return typeof V=="string"?(V!==this._rawQuery&&(this._rawQuery=V,[this._normalizedQuery]=G(V)),this._normalizedQuery):(V||[]).filter(z=>!!z).map(z=>G(z)[0])}#o(V){let z=V.query,I=this.#e.query,y=typeof z;if(y!==typeof I)return!0;if(y==="string"){if(z!==I)return!0}else if(JSON.stringify(z)!==JSON.stringify(I))return!0;switch(V.type){case"again":let A=this._selected.pageIdx+1,P=this._linkService;return A>=1&&A<=P.pagesCount&&A!==P.page&&!(this.onIsPageVisible?.(A)??!0);case"highlightallchange":return!1}return!0}#l(V,z,I){let y=V.slice(0,z).match(g);if(y){let C=V.charCodeAt(z),A=y[1].charCodeAt(0);if((0,_.getCharacterType)(C)===(0,_.getCharacterType)(A))return!1}if(y=V.slice(z+I).match(b),y){let C=V.charCodeAt(z+I-1),A=y[1].charCodeAt(0);if((0,_.getCharacterType)(C)===(0,_.getCharacterType)(A))return!1}return!0}#c(V,z,I,y){let C=this._pageMatches[I]=[],A=this._pageMatchesLength[I]=[];if(!V)return;let P=this._pageDiffs[I],L;for(;(L=V.exec(y))!==null;){if(z&&!this.#l(y,L.index,L[0].length))continue;let[O,B]=$(P,L.index,L[0].length);B&&(C.push(O),A.push(B))}}#r(V,z){let{matchDiacritics:I}=this.#e,y=!1;V=V.replaceAll(E,(A,P,L,O,B,N)=>P?`[ ]*\\${P}[ ]*`:L?`[ ]*${L}[ ]*`:O?"[ ]+":I?B||N:B?h.has(B.charCodeAt(0))?B:"":z?(y=!0,`${N}\\p{M}*`):N);let C="[ ]*";return V.endsWith(C)&&(V=V.slice(0,V.length-C.length)),I&&z&&(v||=String.fromCharCode(...h),y=!0,V=`${V}(?=[${v}]|[^\\p{M}]|$)`),[y,V]}#d(V){let z=this.#s;if(z.length===0)return;let{caseSensitive:I,entireWord:y}=this.#e,C=this._pageContents[V],A=this._hasDiacritics[V],P=!1;typeof z=="string"?[P,z]=this.#r(z,A):z=z.sort().reverse().map(B=>{let[N,x]=this.#r(B,A);return P||=N,`(${x})`}).join("|");let L=`g${P?"u":""}${I?"":"i"}`;z=z?new RegExp(z,L):null,this.#c(z,y,V,C),this.#e.highlightAll&&this.#f(V),this._resumePageIdx===V&&(this._resumePageIdx=null,this.#_());let O=this._pageMatches[V].length;this._matchesCountTotal+=O,this.#t?O>0&&this.#x():++this.#i===this._linkService.pagesCount&&this.#x()}#h(){if(this._extractTextPromises.length>0)return;let V=Promise.resolve(),z={disableNormalization:!0};for(let I=0,y=this._linkService.pagesCount;I<y;I++){let C=new u.PromiseCapability;this._extractTextPromises[I]=C.promise,V=V.then(()=>this._pdfDocument.getPage(I+1).then(A=>A.getTextContent(z)).then(A=>{let P=[];for(let L of A.items)P.push(L.str),L.hasEOL&&P.push(`
`);[this._pageContents[I],this._pageDiffs[I],this._hasDiacritics[I]]=G(P.join("")),C.resolve()},A=>{console.error(`Unable to get text content for page ${I+1}`,A),this._pageContents[I]="",this._pageDiffs[I]=null,this._hasDiacritics[I]=!1,C.resolve()}))}}#f(V){this._scrollMatches&&this._selected.pageIdx===V&&(this._linkService.page=V+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:V})}#p(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#m(){let V=this.#e.findPrevious,z=this._linkService.page-1,I=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=z,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this.#i=0,this._matchesCountTotal=0,this.#p();for(let A=0;A<I;A++)this._pendingFindMatches.has(A)||(this._pendingFindMatches.add(A),this._extractTextPromises[A].then(()=>{this._pendingFindMatches.delete(A),this.#d(A)}))}if(this.#s.length===0){this.#w(c.FOUND);return}if(this._resumePageIdx)return;let C=this._offset;if(this._pagesToSearch=I,C.matchIdx!==null){let A=this._pageMatches[C.pageIdx].length;if(!V&&C.matchIdx+1<A||V&&C.matchIdx>0){C.matchIdx=V?C.matchIdx-1:C.matchIdx+1,this.#v(!0);return}this.#u(V)}this.#_()}#g(V){let z=this._offset,I=V.length,y=this.#e.findPrevious;return I?(z.matchIdx=y?I-1:0,this.#v(!0),!0):(this.#u(y),z.wrapped&&(z.matchIdx=null,this._pagesToSearch<0)?(this.#v(!1),!0):!1)}#_(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let V=null;do{let z=this._offset.pageIdx;if(V=this._pageMatches[z],!V){this._resumePageIdx=z;break}}while(!this.#g(V))}#u(V){let z=this._offset,I=this._linkService.pagesCount;z.pageIdx=V?z.pageIdx-1:z.pageIdx+1,z.matchIdx=null,this._pagesToSearch--,(z.pageIdx>=I||z.pageIdx<0)&&(z.pageIdx=V?I-1:0,z.wrapped=!0)}#v(V=!1){let z=c.NOT_FOUND,I=this._offset.wrapped;if(this._offset.wrapped=!1,V){let y=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,z=I?c.WRAPPED:c.FOUND,y!==-1&&y!==this._selected.pageIdx&&this.#f(y)}this.#w(z,this.#e.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,this.#f(this._selected.pageIdx))}#A(V){let z=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||z&&this._pdfDocument!==z||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#w(c.FOUND),this._highlightMatches=!1,this.#p())})}#y(){let{pageIdx:V,matchIdx:z}=this._selected,I=0,y=this._matchesCountTotal;if(z!==-1){for(let C=0;C<V;C++)I+=this._pageMatches[C]?.length||0;I+=z+1}return(I<1||I>y)&&(I=y=0),{current:I,total:y}}#x(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#y()})}#w(V,z=!1){!this.#t&&(this.#i!==this._linkService.pagesCount||V===c.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:V,previous:z,matchesCount:this.#y(),rawQuery:this.#e?.query??null})}}s.PDFFindController=J},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.animationStarted=s.VERTICAL_PADDING=s.UNKNOWN_SCALE=s.TextLayerMode=s.SpreadMode=s.SidebarView=s.ScrollMode=s.SCROLLBAR_PADDING=s.RenderingStates=s.ProgressBar=s.PresentationModeState=s.OutputScale=s.MIN_SCALE=s.MAX_SCALE=s.MAX_AUTO_SCALE=s.DEFAULT_SCALE_VALUE=s.DEFAULT_SCALE_DELTA=s.DEFAULT_SCALE=s.CursorTool=s.AutoPrintRegExp=void 0,s.apiPageLayoutToViewerModes=j,s.apiPageModeToSidebarView=H,s.approximateFraction=Z,s.backtrackBeforeAllVisibleElements=I,s.binarySearchFirstItem=J,s.docStyle=void 0,s.getActiveOrFocusedElement=F,s.getPageSizeInches=z,s.getVisibleElements=y,s.isPortraitOrientation=B,s.isValidRotation=P,s.isValidScrollMode=L,s.isValidSpreadMode=O,s.normalizeWheelEventDelta=A,s.normalizeWheelEventDirection=C,s.parseQueryString=U,s.removeNullCharacters=$,s.roundToDivide=V,s.scrollIntoView=R,s.toggleCheckedBtn=X,s.toggleExpandedBtn=se,s.watchScroll=k;let o="auto";s.DEFAULT_SCALE_VALUE=o;let d=1;s.DEFAULT_SCALE=d;let _=1.1;s.DEFAULT_SCALE_DELTA=_;let u=.1;s.MIN_SCALE=u;let c=10;s.MAX_SCALE=c;let a=0;s.UNKNOWN_SCALE=a;let l=1.25;s.MAX_AUTO_SCALE=l;let p=40;s.SCROLLBAR_PADDING=p;let f=5;s.VERTICAL_PADDING=f;let h={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};s.RenderingStates=h;let v={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};s.PresentationModeState=v;let m={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};s.SidebarView=m;let E={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2};s.TextLayerMode=E;let g={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};s.ScrollMode=g;let b={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};s.SpreadMode=b;let w={SELECT:0,HAND:1,ZOOM:2};s.CursorTool=w;let S=/\bprint\s*\(/;s.AutoPrintRegExp=S;class T{constructor(){let W=window.devicePixelRatio||1;this.sx=W,this.sy=W}get scaled(){return this.sx!==1||this.sy!==1}}s.OutputScale=T;function R(ee,W,Q=!1){let K=ee.offsetParent;if(!K){console.error("offsetParent is not set -- cannot scroll");return}let te=ee.offsetTop+ee.clientTop,ae=ee.offsetLeft+ee.clientLeft;for(;K.clientHeight===K.scrollHeight&&K.clientWidth===K.scrollWidth||Q&&(K.classList.contains("markedContent")||getComputedStyle(K).overflow==="hidden");)if(te+=K.offsetTop,ae+=K.offsetLeft,K=K.offsetParent,!K)return;W&&(W.top!==void 0&&(te+=W.top),W.left!==void 0&&(ae+=W.left,K.scrollLeft=ae)),K.scrollTop=te}function k(ee,W){let Q=function(ae){te||(te=window.requestAnimationFrame(function(){te=null;let ge=ee.scrollLeft,we=K.lastX;ge!==we&&(K.right=ge>we),K.lastX=ge;let Ee=ee.scrollTop,Te=K.lastY;Ee!==Te&&(K.down=Ee>Te),K.lastY=Ee,W(K)}))},K={right:!0,down:!0,lastX:ee.scrollLeft,lastY:ee.scrollTop,_eventHandler:Q},te=null;return ee.addEventListener("scroll",Q,!0),K}function U(ee){let W=new Map;for(let[Q,K]of new URLSearchParams(ee))W.set(Q.toLowerCase(),K);return W}let G=/[\x01-\x1F]/g;function $(ee,W=!1){return typeof ee!="string"?(console.error("The argument must be a string."),ee):(W&&(ee=ee.replaceAll(G," ")),ee.replaceAll("\0",""))}function J(ee,W,Q=0){let K=Q,te=ee.length-1;if(te<0||!W(ee[te]))return ee.length;if(W(ee[K]))return K;for(;K<te;){let ae=K+te>>1,fe=ee[ae];W(fe)?te=ae:K=ae+1}return K}function Z(ee){if(Math.floor(ee)===ee)return[ee,1];let W=1/ee,Q=8;if(W>Q)return[1,Q];if(Math.floor(W)===W)return[1,W];let K=ee>1?W:ee,te=0,ae=1,fe=1,ge=1;for(;;){let Ee=te+fe,Te=ae+ge;if(Te>Q)break;K<=Ee/Te?(fe=Ee,ge=Te):(te=Ee,ae=Te)}let we;return K-te/ae<fe/ge-K?we=K===ee?[te,ae]:[ae,te]:we=K===ee?[fe,ge]:[ge,fe],we}function V(ee,W){let Q=ee%W;return Q===0?ee:Math.round(ee-Q+W)}function z({view:ee,userUnit:W,rotate:Q}){let[K,te,ae,fe]=ee,ge=Q%180!==0,we=(ae-K)/72*W,Ee=(fe-te)/72*W;return{width:ge?Ee:we,height:ge?we:Ee}}function I(ee,W,Q){if(ee<2)return ee;let K=W[ee].div,te=K.offsetTop+K.clientTop;te>=Q&&(K=W[ee-1].div,te=K.offsetTop+K.clientTop);for(let ae=ee-2;ae>=0&&(K=W[ae].div,!(K.offsetTop+K.clientTop+K.clientHeight<=te));--ae)ee=ae;return ee}function y({scrollEl:ee,views:W,sortByVisibility:Q=!1,horizontal:K=!1,rtl:te=!1}){let ae=ee.scrollTop,fe=ae+ee.clientHeight,ge=ee.scrollLeft,we=ge+ee.clientWidth;function Ee(zt){let vt=zt.div;return vt.offsetTop+vt.clientTop+vt.clientHeight>ae}function Te(zt){let vt=zt.div,de=vt.offsetLeft+vt.clientLeft,ne=de+vt.clientWidth;return te?de<we:ne>ge}let Ve=[],Et=new Set,pt=W.length,Ut=J(W,K?Te:Ee);Ut>0&&Ut<pt&&!K&&(Ut=I(Ut,W,ae));let dt=K?we:-1;for(let zt=Ut;zt<pt;zt++){let vt=W[zt],de=vt.div,ne=de.offsetLeft+de.clientLeft,ie=de.offsetTop+de.clientTop,_e=de.clientWidth,je=de.clientHeight,ct=ne+_e,ot=ie+je;if(dt===-1)ot>=fe&&(dt=ot);else if((K?ne:ie)>dt)break;if(ot<=ae||ie>=fe||ct<=ge||ne>=we)continue;let bi=Math.max(0,ae-ie)+Math.max(0,ot-fe),yi=Math.max(0,ge-ne)+Math.max(0,ct-we),di=(je-bi)/je,bt=(_e-yi)/_e,xi=di*bt*100|0;Ve.push({id:vt.id,x:ne,y:ie,view:vt,percent:xi,widthPercent:bt*100|0}),Et.add(vt.id)}let Xt=Ve[0],Fn=Ve.at(-1);return Q&&Ve.sort(function(zt,vt){let de=zt.percent-vt.percent;return Math.abs(de)>.001?-de:zt.id-vt.id}),{first:Xt,last:Fn,views:Ve,ids:Et}}function C(ee){let W=Math.hypot(ee.deltaX,ee.deltaY),Q=Math.atan2(ee.deltaY,ee.deltaX);return-.25*Math.PI<Q&&Q<.75*Math.PI&&(W=-W),W}function A(ee){let W=ee.deltaMode,Q=C(ee),K=30,te=30;return W===WheelEvent.DOM_DELTA_PIXEL?Q/=K*te:W===WheelEvent.DOM_DELTA_LINE&&(Q/=te),Q}function P(ee){return Number.isInteger(ee)&&ee%90===0}function L(ee){return Number.isInteger(ee)&&Object.values(g).includes(ee)&&ee!==g.UNKNOWN}function O(ee){return Number.isInteger(ee)&&Object.values(b).includes(ee)&&ee!==b.UNKNOWN}function B(ee){return ee.width<=ee.height}let N=new Promise(function(ee){window.requestAnimationFrame(ee)});s.animationStarted=N;let x=document.documentElement.style;s.docStyle=x;function M(ee,W,Q){return Math.min(Math.max(ee,W),Q)}class D{#e=null;#t=null;#i=0;#n=null;#a=!0;constructor(W){this.#e=W.classList,this.#n=W.style}get percent(){return this.#i}set percent(W){if(this.#i=M(W,0,100),isNaN(W)){this.#e.add("indeterminate");return}this.#e.remove("indeterminate"),this.#n.setProperty("--progressBar-percent",`${this.#i}%`)}setWidth(W){if(!W)return;let K=W.parentNode.offsetWidth-W.offsetWidth;K>0&&this.#n.setProperty("--progressBar-end-offset",`${K}px`)}setDisableAutoFetch(W=5e3){isNaN(this.#i)||(this.#t&&clearTimeout(this.#t),this.show(),this.#t=setTimeout(()=>{this.#t=null,this.hide()},W))}hide(){this.#a&&(this.#a=!1,this.#e.add("hidden"))}show(){this.#a||(this.#a=!0,this.#e.remove("hidden"))}}s.ProgressBar=D;function F(){let ee=document,W=ee.activeElement||ee.querySelector(":focus");for(;W?.shadowRoot;)ee=W.shadowRoot,W=ee.activeElement||ee.querySelector(":focus");return W}function j(ee){let W=g.VERTICAL,Q=b.NONE;switch(ee){case"SinglePage":W=g.PAGE;break;case"OneColumn":break;case"TwoPageLeft":W=g.PAGE;case"TwoColumnLeft":Q=b.ODD;break;case"TwoPageRight":W=g.PAGE;case"TwoColumnRight":Q=b.EVEN;break}return{scrollMode:W,spreadMode:Q}}function H(ee){switch(ee){case"UseNone":return m.NONE;case"UseThumbs":return m.THUMBS;case"UseOutlines":return m.OUTLINE;case"UseAttachments":return m.ATTACHMENTS;case"UseOC":return m.LAYERS}return m.NONE}function X(ee,W,Q=null){ee.classList.toggle("toggled",W),ee.setAttribute("aria-checked",W),Q?.classList.toggle("hidden",!W)}function se(ee,W,Q=null){ee.classList.toggle("toggled",W),ee.setAttribute("aria-expanded",W),Q?.classList.toggle("hidden",!W)}},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CharacterType=void 0,s.getCharacterType=m,s.getNormalizeWithNFKC=g;let o={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};s.CharacterType=o;function d(b){return b<11904}function _(b){return(b&65408)===0}function u(b){return b>=97&&b<=122||b>=65&&b<=90}function c(b){return b>=48&&b<=57}function a(b){return b===32||b===9||b===13||b===10}function l(b){return b>=13312&&b<=40959||b>=63744&&b<=64255}function p(b){return b>=12448&&b<=12543}function f(b){return b>=12352&&b<=12447}function h(b){return b>=65376&&b<=65439}function v(b){return(b&65408)===3584}function m(b){return d(b)?_(b)?a(b)?o.SPACE:u(b)||c(b)||b===95?o.ALPHA_LETTER:o.PUNCT:v(b)?o.THAI_LETTER:b===160?o.SPACE:o.ALPHA_LETTER:l(b)?o.HAN_LETTER:p(b)?o.KATAKANA_LETTER:f(b)?o.HIRAGANA_LETTER:h(b)?o.HALFWIDTH_KATAKANA_LETTER:o.ALPHA_LETTER}let E;function g(){return E||="\xA0\xA8\xAA\xAF\xB2-\xB5\xB8-\xBA\xBC-\xBE\u0132-\u0133\u013F-\u0140\u0149\u017F\u01C4-\u01CC\u01F1-\u01F3\u02B0-\u02B8\u02D8-\u02DD\u02E0-\u02E4\u0374\u037A\u037E\u0384-\u0385\u0387\u03D0-\u03D6\u03F0-\u03F2\u03F4-\u03F5\u03F9\u0587\u0675-\u0678\u0958-\u095F\u09DC-\u09DD\u09DF\u0A33\u0A36\u0A59-\u0A5B\u0A5E\u0B5C-\u0B5D\u0E33\u0EB3\u0EDC-\u0EDD\u0F0C\u0F43\u0F4D\u0F52\u0F57\u0F5C\u0F69\u10FC\u1D2C-\u1D2E\u1D30-\u1D3A\u1D3C-\u1D4D\u1D4F-\u1D6A\u1D78\u1D9B-\u1DBF\u1E9A-\u1E9B\u1F71\u1F73\u1F75\u1F77\u1F79\u1F7B\u1F7D\u1FBB\u1FBD-\u1FC1\u1FC9\u1FCB\u1FCD-\u1FCF\u1FD3\u1FDB\u1FDD-\u1FDF\u1FE3\u1FEB\u1FED-\u1FEF\u1FF9\u1FFB\u1FFD-\u1FFE\u2000-\u200A\u2011\u2017\u2024-\u2026\u202F\u2033-\u2034\u2036-\u2037\u203C\u203E\u2047-\u2049\u2057\u205F\u2070-\u2071\u2074-\u208E\u2090-\u209C\u20A8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211D\u2120-\u2122\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213B-\u2140\u2145-\u2149\u2150-\u217F\u2189\u222C-\u222D\u222F-\u2230\u2329-\u232A\u2460-\u24EA\u2A0C\u2A74-\u2A76\u2ADC\u2C7C-\u2C7D\u2D6F\u2E9F\u2EF3\u2F00-\u2FD5\u3000\u3036\u3038-\u303A\u309B-\u309C\u309F\u30FF\u3131-\u318E\u3192-\u319F\u3200-\u321E\u3220-\u3247\u3250-\u327E\u3280-\u33FF\uA69C-\uA69D\uA770\uA7F2-\uA7F4\uA7F8-\uA7F9\uAB5C-\uAB5F\uAB69\uF900-\uFA0D\uFA10\uFA12\uFA15-\uFA1E\uFA20\uFA22\uFA25-\uFA26\uFA2A-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE10-\uFE19\uFE30-\uFE44\uFE47-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE72\uFE74\uFE76-\uFEFC\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6",E}},i=>{i.exports=globalThis.pdfjsLib},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SimpleLinkService=s.PDFLinkService=s.LinkTarget=void 0;var d=o(2);let _="noopener noreferrer nofollow",u={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};s.LinkTarget=u;function c(p,{url:f,target:h,rel:v,enabled:m=!0}={}){if(!f||typeof f!="string")throw new Error('A valid "url" parameter must provided.');m?p.href=p.title=f:(p.href="",p.title=`Disabled: ${f}`,p.onclick=()=>!1);let E="";switch(h){case u.NONE:break;case u.SELF:E="_self";break;case u.BLANK:E="_blank";break;case u.PARENT:E="_parent";break;case u.TOP:E="_top";break}p.target=E,p.rel=typeof v=="string"?v:_}class a{#e=new Map;constructor({eventBus:f,externalLinkTarget:h=null,externalLinkRel:v=null,ignoreDestinationZoom:m=!1}={}){this.eventBus=f,this.externalLinkTarget=h,this.externalLinkRel=v,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=m,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(f,h=null){this.baseUrl=h,this.pdfDocument=f,this.#e.clear()}setViewer(f){this.pdfViewer=f}setHistory(f){this.pdfHistory=f}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(f){this.pdfViewer.currentPageNumber=f}get rotation(){return this.pdfViewer.pagesRotation}set rotation(f){this.pdfViewer.pagesRotation=f}get isInPresentationMode(){return this.pdfViewer.isInPresentationMode}#t(f,h=null,v){let m=v[0],E;if(typeof m=="object"&&m!==null){if(E=this._cachedPageNumber(m),!E){this.pdfDocument.getPageIndex(m).then(g=>{this.cachePageRef(g+1,m),this.#t(f,h,v)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${m}" is not a valid page reference, for dest="${f}".`)});return}}else if(Number.isInteger(m))E=m+1;else{console.error(`PDFLinkService.#goToDestinationHelper: "${m}" is not a valid destination reference, for dest="${f}".`);return}if(!E||E<1||E>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${E}" is not a valid page number, for dest="${f}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:h,explicitDest:v,pageNumber:E})),this.pdfViewer.scrollPageIntoView({pageNumber:E,destArray:v,ignoreDestinationZoom:this._ignoreDestinationZoom})}goToDestination(f){return me(this,null,function*(){if(!this.pdfDocument)return;let h,v;if(typeof f=="string"?(h=f,v=yield this.pdfDocument.getDestination(f)):(h=null,v=yield f),!Array.isArray(v)){console.error(`PDFLinkService.goToDestination: "${v}" is not a valid destination array, for dest="${f}".`);return}this.#t(f,h,v)})}goToPage(f){if(!this.pdfDocument)return;let h=typeof f=="string"&&this.pdfViewer.pageLabelToPageNumber(f)||f|0;if(!(Number.isInteger(h)&&h>0&&h<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${f}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(h)),this.pdfViewer.scrollPageIntoView({pageNumber:h})}addLinkAttributes(f,h,v=!1){c(f,{url:h,target:v?u.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(f){if(typeof f=="string"){if(f.length>0)return this.getAnchorUrl("#"+escape(f))}else if(Array.isArray(f)){let h=JSON.stringify(f);if(h.length>0)return this.getAnchorUrl("#"+escape(h))}return this.getAnchorUrl("")}getAnchorUrl(f){return this.baseUrl?this.baseUrl+f:f}setHash(f){if(!this.pdfDocument)return;let h,v;if(f.includes("=")){let m=(0,d.parseQueryString)(f);if(m.has("search")){let E=m.get("search").replaceAll('"',""),g=m.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:g?E:E.match(/\S+/g)})}if(m.has("page")&&(h=m.get("page")|0||1),m.has("zoom")){let E=m.get("zoom").split(","),g=E[0],b=parseFloat(g);g.includes("Fit")?g==="Fit"||g==="FitB"?v=[null,{name:g}]:g==="FitH"||g==="FitBH"||g==="FitV"||g==="FitBV"?v=[null,{name:g},E.length>1?E[1]|0:null]:g==="FitR"?E.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):v=[null,{name:g},E[1]|0,E[2]|0,E[3]|0,E[4]|0]:console.error(`PDFLinkService.setHash: "${g}" is not a valid zoom value.`):v=[null,{name:"XYZ"},E.length>1?E[1]|0:null,E.length>2?E[2]|0:null,b?b/100:g]}v?this.pdfViewer.scrollPageIntoView({pageNumber:h||this.page,destArray:v,allowNegativeOffset:!0}):h&&(this.page=h),m.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:m.get("pagemode")}),m.has("nameddest")&&this.goToDestination(m.get("nameddest"))}else{v=unescape(f);try{v=JSON.parse(v),Array.isArray(v)||(v=v.toString())}catch{}if(typeof v=="string"||a.#i(v)){this.goToDestination(v);return}console.error(`PDFLinkService.setHash: "${unescape(f)}" is not a valid destination.`)}}executeNamedAction(f){switch(f){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}this.eventBus.dispatch("namedaction",{source:this,action:f})}executeSetOCGState(f){return me(this,null,function*(){let h=this.pdfDocument,v=yield this.pdfViewer.optionalContentConfigPromise;if(h!==this.pdfDocument)return;let m;for(let E of f.state){switch(E){case"ON":case"OFF":case"Toggle":m=E;continue}switch(m){case"ON":v.setVisibility(E,!0);break;case"OFF":v.setVisibility(E,!1);break;case"Toggle":let g=v.getGroup(E);g&&v.setVisibility(E,!g.visible);break}}this.pdfViewer.optionalContentConfigPromise=Promise.resolve(v)})}cachePageRef(f,h){if(!h)return;let v=h.gen===0?`${h.num}R`:`${h.num}R${h.gen}`;this.#e.set(v,f)}_cachedPageNumber(f){if(!f)return null;let h=f.gen===0?`${f.num}R`:`${f.num}R${f.gen}`;return this.#e.get(h)||null}static#i(f){if(!Array.isArray(f))return!1;let h=f.length;if(h<2)return!1;let v=f[0];if(!(typeof v=="object"&&Number.isInteger(v.num)&&Number.isInteger(v.gen))&&!(Number.isInteger(v)&&v>=0))return!1;let m=f[1];if(!(typeof m=="object"&&typeof m.name=="string"))return!1;let E=!0;switch(m.name){case"XYZ":if(h!==5)return!1;break;case"Fit":case"FitB":return h===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(h!==3)return!1;break;case"FitR":if(h!==6)return!1;E=!1;break;default:return!1}for(let g=2;g<h;g++){let b=f[g];if(!(typeof b=="number"||E&&b===null))return!1}return!0}}s.PDFLinkService=a;class l{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(f){}get rotation(){return 0}set rotation(f){}get isInPresentationMode(){return!1}goToDestination(f){return me(this,null,function*(){})}goToPage(f){}addLinkAttributes(f,h,v=!1){c(f,{url:h,enabled:this.externalLinkEnabled})}getDestinationHash(f){return"#"}getAnchorUrl(f){return"#"}setHash(f){}executeNamedAction(f){}executeSetOCGState(f){}cachePageRef(f,h){}}s.SimpleLinkService=l},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationLayerBuilder=void 0;var d=o(4),_=o(7),u=o(2);class c{#e=null;constructor({pageDiv:l,pdfPage:p,linkService:f,downloadManager:h,annotationStorage:v=null,imageResourcesPath:m="",renderForms:E=!0,l10n:g=_.NullL10n,enableScripting:b=!1,hasJSActionsPromise:w=null,fieldObjectsPromise:S=null,annotationCanvasMap:T=null,accessibilityManager:R=null}){this.pageDiv=l,this.pdfPage=p,this.linkService=f,this.downloadManager=h,this.imageResourcesPath=m,this.renderForms=E,this.l10n=g,this.annotationStorage=v,this.enableScripting=b,this._hasJSActionsPromise=w||Promise.resolve(!1),this._fieldObjectsPromise=S||Promise.resolve(null),this._annotationCanvasMap=T,this._accessibilityManager=R,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=f.eventBus}render(l,p="display"){return me(this,null,function*(){if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:l.clone({dontFlip:!0})});return}let[f,h,v]=yield Promise.all([this.pdfPage.getAnnotations({intent:p}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;let m=this.div=document.createElement("div");if(m.className="annotationLayer",this.pageDiv.append(m),f.length===0){this.hide();return}this.annotationLayer=new d.AnnotationLayer({div:m,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,l10n:this.l10n,page:this.pdfPage,viewport:l.clone({dontFlip:!0})}),yield this.annotationLayer.render({annotations:f,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:h,fieldObjects:v}),this.linkService.isInPresentationMode&&this.#t(u.PresentationModeState.FULLSCREEN),this.#e||(this.#e=E=>{this.#t(E.state)},this._eventBus?._on("presentationmodechanged",this.#e))})}cancel(){this._cancelled=!0,this.#e&&(this._eventBus?._off("presentationmodechanged",this.#e),this.#e=null)}hide(){this.div&&(this.div.hidden=!0)}#t(l){if(!this.div)return;let p=!1;switch(l){case u.PresentationModeState.FULLSCREEN:p=!0;break;case u.PresentationModeState.NORMAL:break;default:return}for(let f of this.div.childNodes)f.hasAttribute("data-internal-link")||(f.inert=p)}}s.AnnotationLayerBuilder=c},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.getL10nFallback=d;let o={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};o.print_progress_percent="{{progress}}%";function d(a,l){switch(a){case"find_match_count":a=`find_match_count[${l.total===1?"one":"other"}]`;break;case"find_match_count_limit":a=`find_match_count_limit[${l.limit===1?"one":"other"}]`;break}return o[a]||""}function _(a,l){return l?a.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(p,f)=>f in l?l[f]:"{{"+f+"}}"):a}let u={getLanguage(){return me(this,null,function*(){return"en-us"})},getDirection(){return me(this,null,function*(){return"ltr"})},get(f){return me(this,arguments,function*(a,l=null,p=d(a,l)){return _(p,l)})},translate(a){return me(this,null,function*(){})}};s.NullL10n=u},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DownloadManager=void 0;var d=o(4);function _(c,a){let l=document.createElement("a");if(!l.click)throw new Error('DownloadManager: "a.click()" is not supported.');l.href=c,l.target="_parent","download"in l&&(l.download=a),(document.body||document.documentElement).append(l),l.click(),l.remove()}class u{#e=new WeakMap;downloadUrl(a,l,p){if(!(0,d.createValidAbsoluteUrl)(a,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${a}`);return}_(a+"#pdfjs.action=download",l)}downloadData(a,l,p){let f=URL.createObjectURL(new Blob([a],{type:p}));_(f,l)}openOrDownloadData(a,l,p){let h=(0,d.isPdfFile)(p)?"application/pdf":"";return this.downloadData(l,p,h),!1}download(a,l,p,f){let h=URL.createObjectURL(a);_(h,p)}}s.DownloadManager=u},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WaitOnType=s.EventBus=s.AutomationEventBus=void 0,s.waitOnEventOrTimeout=d;let o={EVENT:"event",TIMEOUT:"timeout"};s.WaitOnType=o;function d({target:c,name:a,delay:l=0}){return new Promise(function(p,f){if(typeof c!="object"||!(a&&typeof a=="string")||!(Number.isInteger(l)&&l>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function h(g){c instanceof _?c._off(a,v):c.removeEventListener(a,v),E&&clearTimeout(E),p(g)}let v=h.bind(null,o.EVENT);c instanceof _?c._on(a,v):c.addEventListener(a,v);let m=h.bind(null,o.TIMEOUT),E=setTimeout(m,l)})}class _{#e=Object.create(null);on(a,l,p=null){this._on(a,l,{external:!0,once:p?.once})}off(a,l,p=null){this._off(a,l,{external:!0,once:p?.once})}dispatch(a,l){let p=this.#e[a];if(!p||p.length===0)return;let f;for(let{listener:h,external:v,once:m}of p.slice(0)){if(m&&this._off(a,h),v){(f||=[]).push(h);continue}h(l)}if(f){for(let h of f)h(l);f=null}}_on(a,l,p=null){(this.#e[a]||=[]).push({listener:l,external:p?.external===!0,once:p?.once===!0})}_off(a,l,p=null){let f=this.#e[a];if(f){for(let h=0,v=f.length;h<v;h++)if(f[h].listener===l){f.splice(h,1);return}}}}s.EventBus=_;class u extends _{dispatch(a,l){throw new Error("Not implemented: AutomationEventBus.dispatch")}}s.AutomationEventBus=u},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GenericL10n=void 0,o(11);var d=o(7);let _={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function u(a){return _[a?.toLowerCase()]||a}class c{constructor(l){let{webL10n:p}=document;this._lang=l,this._ready=new Promise((f,h)=>{p.setLanguage(u(l),()=>{f(p)})})}getLanguage(){return me(this,null,function*(){return(yield this._ready).getLanguage()})}getDirection(){return me(this,null,function*(){return(yield this._ready).getDirection()})}get(h){return me(this,arguments,function*(l,p=null,f=(0,d.getL10nFallback)(l,p)){return(yield this._ready).get(l,p,f)})}translate(l){return me(this,null,function*(){return(yield this._ready).translate(l)})}}s.GenericL10n=c},()=>{document.webL10n=function(i,s){var o={},d="",_="textContent",u="",c={},a="loading",l=!0;function p(){return s.querySelectorAll('link[type="application/l10n"]')}function f(){var $=s.querySelector('script[type="application/l10n"]');return $?JSON.parse($.innerHTML):null}function h($){return $?$.querySelectorAll("*[data-l10n-id]"):[]}function v($){if(!$)return{};var J=$.getAttribute("data-l10n-id"),Z=$.getAttribute("data-l10n-args"),V={};if(Z)try{V=JSON.parse(Z)}catch{console.warn("could not parse arguments for #"+J)}return{id:J,args:V}}function m($,J,Z){J=J||function(I){},Z=Z||function(){};var V=new XMLHttpRequest;V.open("GET",$,l),V.overrideMimeType&&V.overrideMimeType("text/plain; charset=utf-8"),V.onreadystatechange=function(){V.readyState==4&&(V.status==200||V.status===0?J(V.responseText):Z())},V.onerror=Z,V.ontimeout=Z;try{V.send(null)}catch{Z()}}function E($,J,Z,V){var z=$.replace(/[^\/]*$/,"")||"./";function I(C){return C.lastIndexOf("\\")<0?C:C.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function y(C,A){var P={},L=/^\s*|\s*$/,O=/^\s*#|^\s*$/,B=/^\s*\[(.*)\]\s*$/,N=/^\s*@import\s+url\((.*)\)\s*$/i,x=/^([^=\s]*)\s*=\s*(.+)$/;function M(F,j,H){var X=F.replace(L,"").split(/[\r\n]+/),se="*",ee=J.split("-",1)[0],W=!1,Q="";function K(){for(;;){if(!X.length){H();return}var te=X.shift();if(!O.test(te)){if(j){if(Q=B.exec(te),Q){se=Q[1].toLowerCase(),W=se!=="*"&&se!==J&&se!==ee;continue}else if(W)continue;if(Q=N.exec(te),Q){D(z+Q[1],K);return}}var ae=te.match(x);ae&&ae.length==3&&(P[ae[1]]=I(ae[2]))}}}K()}function D(F,j){m(F,function(H){M(H,!1,j)},function(){console.warn(F+" not found."),j()})}M(C,!0,function(){A(P)})}m($,function(C){d+=C,y(C,function(A){for(var P in A){var L,O,B=P.lastIndexOf(".");B>0?(L=P.substring(0,B),O=P.substring(B+1)):(L=P,O=_),o[L]||(o[L]={}),o[L][O]=A[P]}Z&&Z()})},V)}function g($,J){$&&($=$.toLowerCase()),J=J||function(){},b(),u=$;var Z=p(),V=Z.length;if(V===0){var z=f();if(z&&z.locales&&z.default_locale){if(console.log("using the embedded JSON directory, early way out"),o=z.locales[$],!o){var I=z.default_locale.toLowerCase();for(var y in z.locales)if(y=y.toLowerCase(),y===$){o=z.locales[$];break}else y===I&&(o=z.locales[I])}J()}else console.log("no resource to load, early way out");a="complete";return}var C=null,A=0;C=function(){A++,A>=V&&(J(),a="complete")};function P(B){var N=B.href;this.load=function(x,M){E(N,x,M,function(){console.warn(N+" not found."),console.warn('"'+x+'" resource not found'),u="",M()})}}for(var L=0;L<V;L++){var O=new P(Z[L]);O.load($,C)}}function b(){o={},d="",u=""}function w($){var J={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function Z(y,C){return C.indexOf(y)!==-1}function V(y,C,A){return C<=y&&y<=A}var z={0:function(y){return"other"},1:function(y){return V(y%100,3,10)?"few":y===0?"zero":V(y%100,11,99)?"many":y==2?"two":y==1?"one":"other"},2:function(y){return y!==0&&y%10===0?"many":y==2?"two":y==1?"one":"other"},3:function(y){return y==1?"one":"other"},4:function(y){return V(y,0,1)?"one":"other"},5:function(y){return V(y,0,2)&&y!=2?"one":"other"},6:function(y){return y===0?"zero":y%10==1&&y%100!=11?"one":"other"},7:function(y){return y==2?"two":y==1?"one":"other"},8:function(y){return V(y,3,6)?"few":V(y,7,10)?"many":y==2?"two":y==1?"one":"other"},9:function(y){return y===0||y!=1&&V(y%100,1,19)?"few":y==1?"one":"other"},10:function(y){return V(y%10,2,9)&&!V(y%100,11,19)?"few":y%10==1&&!V(y%100,11,19)?"one":"other"},11:function(y){return V(y%10,2,4)&&!V(y%100,12,14)?"few":y%10===0||V(y%10,5,9)||V(y%100,11,14)?"many":y%10==1&&y%100!=11?"one":"other"},12:function(y){return V(y,2,4)?"few":y==1?"one":"other"},13:function(y){return V(y%10,2,4)&&!V(y%100,12,14)?"few":y!=1&&V(y%10,0,1)||V(y%10,5,9)||V(y%100,12,14)?"many":y==1?"one":"other"},14:function(y){return V(y%100,3,4)?"few":y%100==2?"two":y%100==1?"one":"other"},15:function(y){return y===0||V(y%100,2,10)?"few":V(y%100,11,19)?"many":y==1?"one":"other"},16:function(y){return y%10==1&&y!=11?"one":"other"},17:function(y){return y==3?"few":y===0?"zero":y==6?"many":y==2?"two":y==1?"one":"other"},18:function(y){return y===0?"zero":V(y,0,2)&&y!==0&&y!=2?"one":"other"},19:function(y){return V(y,2,10)?"few":V(y,0,1)?"one":"other"},20:function(y){return(V(y%10,3,4)||y%10==9)&&!(V(y%100,10,19)||V(y%100,70,79)||V(y%100,90,99))?"few":y%1e6===0&&y!==0?"many":y%10==2&&!Z(y%100,[12,72,92])?"two":y%10==1&&!Z(y%100,[11,71,91])?"one":"other"},21:function(y){return y===0?"zero":y==1?"one":"other"},22:function(y){return V(y,0,1)||V(y,11,99)?"one":"other"},23:function(y){return V(y%10,1,2)||y%20===0?"one":"other"},24:function(y){return V(y,3,10)||V(y,13,19)?"few":Z(y,[2,12])?"two":Z(y,[1,11])?"one":"other"}},I=J[$.replace(/-.*$/,"")];return I in z?z[I]:(console.warn("plural form unknown for ["+$+"]"),function(){return"other"})}c.plural=function($,J,Z,V){var z=parseFloat(J);if(isNaN(z)||V!=_)return $;c._pluralRules||(c._pluralRules=w(u));var I="["+c._pluralRules(z)+"]";return z===0&&Z+"[zero]"in o?$=o[Z+"[zero]"][V]:z==1&&Z+"[one]"in o?$=o[Z+"[one]"][V]:z==2&&Z+"[two]"in o?$=o[Z+"[two]"][V]:Z+I in o?$=o[Z+I][V]:Z+"[other]"in o&&($=o[Z+"[other]"][V]),$};function S($,J,Z){var V=o[$];if(!V){if(console.warn("#"+$+" is undefined."),!Z)return null;V=Z}var z={};for(var I in V){var y=V[I];y=T(y,J,$,I),y=R(y,J,$),z[I]=y}return z}function T($,J,Z,V){var z=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,I=z.exec($);if(!I||!I.length)return $;var y=I[1],C=I[2],A;if(J&&C in J?A=J[C]:C in o&&(A=o[C]),y in c){var P=c[y];$=P($,A,Z,V)}return $}function R($,J,Z){var V=/\{\{\s*(.+?)\s*\}\}/g;return $.replace(V,function(z,I){return J&&I in J?J[I]:I in o?o[I]:(console.log("argument {{"+I+"}} for #"+Z+" is undefined."),z)})}function k($){var J=v($);if(J.id){var Z=S(J.id,J.args);if(!Z){console.warn("#"+J.id+" is undefined.");return}if(Z[_]){if(U($)===0)$[_]=Z[_];else{for(var V=$.childNodes,z=!1,I=0,y=V.length;I<y;I++)V[I].nodeType===3&&/\S/.test(V[I].nodeValue)&&(z?V[I].nodeValue="":(V[I].nodeValue=Z[_],z=!0));if(!z){var C=s.createTextNode(Z[_]);$.prepend(C)}}delete Z[_]}for(var A in Z)$[A]=Z[A]}}function U($){if($.children)return $.children.length;if(typeof $.childElementCount<"u")return $.childElementCount;for(var J=0,Z=0;Z<$.childNodes.length;Z++)J+=$.nodeType===1?1:0;return J}function G($){$=$||s.documentElement;for(var J=h($),Z=J.length,V=0;V<Z;V++)k(J[V]);k($)}return{get:function($,J,Z){var V=$.lastIndexOf("."),z=_;V>0&&(z=$.substring(V+1),$=$.substring(0,V));var I;Z&&(I={},I[z]=Z);var y=S($,J,I);return y&&z in y?y[z]:"{{"+$+"}}"},getData:function(){return o},getText:function(){return d},getLanguage:function(){return u},setLanguage:function($,J){g($,function(){J&&J()})},getDirection:function(){var $=["ar","he","fa","ps","ur"],J=u.split("-",1)[0];return $.indexOf(J)>=0?"rtl":"ltr"},translate:G,getReadyState:function(){return a},ready:function($){if($)a=="complete"||a=="interactive"?i.setTimeout(function(){$()}):s.addEventListener&&s.addEventListener("localized",function J(){s.removeEventListener("localized",J),$()});else return}}}(window,document)},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFHistory=void 0,s.isDestArraysEqual=h,s.isDestHashesEqual=f;var d=o(2),_=o(9);let u=1e3,c=50,a=1e3;function l(){return document.location.hash}class p{constructor({linkService:m,eventBus:E}){this.linkService=m,this.eventBus=E,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",g=>{this._isPagesLoaded=!!g.pagesCount},{once:!0})})}initialize({fingerprint:m,resetHistory:E=!1,updateUrl:g=!1}){if(!m||typeof m!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();let b=this._fingerprint!==""&&this._fingerprint!==m;this._fingerprint=m,this._updateUrl=g===!0,this._initialized=!0,this._bindEvents();let w=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=l(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(w,!0)||E){let{hash:T,page:R,rotation:k}=this._parseCurrentHash(!0);if(!T||b||E){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:T,page:R,rotation:k},!0);return}let S=w.destination;this._updateInternalState(S,w.uid,!0),S.rotation!==void 0&&(this._initialRotation=S.rotation),S.dest?(this._initialBookmark=JSON.stringify(S.dest),this._destination.page=null):S.hash?this._initialBookmark=S.hash:S.page&&(this._initialBookmark=`page=${S.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:m=null,explicitDest:E,pageNumber:g}){if(!this._initialized)return;if(m&&typeof m!="string"){console.error(`PDFHistory.push: "${m}" is not a valid namedDest parameter.`);return}else if(Array.isArray(E)){if(!this._isValidPage(g)&&(g!==null||this._destination)){console.error(`PDFHistory.push: "${g}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${E}" is not a valid explicitDest parameter.`);return}let b=m||JSON.stringify(E);if(!b)return;let w=!1;if(this._destination&&(f(this._destination.hash,b)||h(this._destination.dest,E))){if(this._destination.page)return;w=!0}this._popStateInProgress&&!w||(this._pushOrReplaceState({dest:E,hash:b,page:g,rotation:this.linkService.rotation},w),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(m){if(this._initialized){if(!this._isValidPage(m)){console.error(`PDFHistory.pushPage: "${m}" is not a valid page number.`);return}this._destination?.page!==m&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${m}`,page:m,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;let m=window.history.state;this._isValidState(m)&&m.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;let m=window.history.state;this._isValidState(m)&&m.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(m,E=!1){let g=E||!this._destination,b={fingerprint:this._fingerprint,uid:g?this._uid:this._uid+1,destination:m};this._updateInternalState(m,b.uid);let w;if(this._updateUrl&&m?.hash){let S=document.location.href.split("#")[0];S.startsWith("file://")||(w=`${S}#${m.hash}`)}g?window.history.replaceState(b,"",w):window.history.pushState(b,"",w)}_tryPushCurrentPosition(m=!1){if(!this._position)return;let E=this._position;if(m&&(E=Object.assign(Object.create(null),this._position),E.temporary=!0),!this._destination){this._pushOrReplaceState(E);return}if(this._destination.temporary){this._pushOrReplaceState(E,!0);return}if(this._destination.hash===E.hash||!this._destination.page&&(c<=0||this._numPositionUpdates<=c))return;let g=!1;if(this._destination.page>=E.first&&this._destination.page<=E.page){if(this._destination.dest!==void 0||!this._destination.first)return;g=!0}this._pushOrReplaceState(E,g)}_isValidPage(m){return Number.isInteger(m)&&m>0&&m<=this.linkService.pagesCount}_isValidState(m,E=!1){if(!m)return!1;if(m.fingerprint!==this._fingerprint)if(E){if(typeof m.fingerprint!="string"||m.fingerprint.length!==this._fingerprint.length)return!1;let[g]=performance.getEntriesByType("navigation");if(g?.type!=="reload")return!1}else return!1;return!(!Number.isInteger(m.uid)||m.uid<0||m.destination===null||typeof m.destination!="object")}_updateInternalState(m,E,g=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),g&&m?.temporary&&delete m.temporary,this._destination=m,this._uid=E,this._maxUid=Math.max(this._maxUid,E),this._numPositionUpdates=0}_parseCurrentHash(m=!1){let E=unescape(l()).substring(1),g=(0,d.parseQueryString)(E),b=g.get("nameddest")||"",w=g.get("page")|0;return(!this._isValidPage(w)||m&&b.length>0)&&(w=null),{hash:E,page:w,rotation:this.linkService.rotation}}_updateViewarea({location:m}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:m.pdfOpenParams.substring(1),page:this.linkService.page,first:m.pageNumber,rotation:m.rotation},!this._popStateInProgress&&(c>0&&this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,a>0&&(this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},a)))}_popState({state:m}){let E=l(),g=this._currentHash!==E;if(this._currentHash=E,!m){this._uid++;let{hash:w,page:S,rotation:T}=this._parseCurrentHash();this._pushOrReplaceState({hash:w,page:S,rotation:T},!0);return}if(!this._isValidState(m))return;this._popStateInProgress=!0,g&&(this._blockHashChange++,(0,_.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:u}).then(()=>{this._blockHashChange--}));let b=m.destination;this._updateInternalState(b,m.uid,!0),(0,d.isValidRotation)(b.rotation)&&(this.linkService.rotation=b.rotation),b.dest?this.linkService.goToDestination(b.dest):b.hash?this.linkService.setHash(b.hash):b.page&&(this.linkService.page=b.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}s.PDFHistory=p;function f(v,m){return typeof v!="string"||typeof m!="string"?!1:v===m||(0,d.parseQueryString)(v).get("nameddest")===m}function h(v,m){function E(g,b){if(typeof g!=typeof b||Array.isArray(g)||Array.isArray(b))return!1;if(g!==null&&typeof g=="object"&&b!==null){if(Object.keys(g).length!==Object.keys(b).length)return!1;for(let w in g)if(!E(g[w],b[w]))return!1;return!0}return g===b||Number.isNaN(g)&&Number.isNaN(b)}if(!(Array.isArray(v)&&Array.isArray(m))||v.length!==m.length)return!1;for(let g=0,b=v.length;g<b;g++)if(!E(v[g],m[g]))return!1;return!0}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFPageView=void 0;var d=o(4),_=o(2),u=o(14),c=o(6),a=o(15),l=o(7),p=o(5),f=o(16),h=o(17),v=o(18),m=o(19),E=o(20);let g=a.compatibilityParams.maxCanvasPixels||16777216,b=()=>({annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new p.SimpleLinkService}});class w{#e=d.AnnotationMode.ENABLE_FORMS;#t=!1;#i=null;#n=null;#a=null;#s=null;#o=_.RenderingStates.INITIAL;#l=_.TextLayerMode.ENABLE;#c={directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0};#r=new WeakMap;constructor(T){let R=T.container,k=T.defaultViewport;this.id=T.id,this.renderingId="page"+this.id,this.#i=T.layerProperties||b,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=T.scale||_.DEFAULT_SCALE,this.viewport=k,this.pdfPageRotate=k.rotation,this._optionalContentConfigPromise=T.optionalContentConfigPromise||null,this.#l=T.textLayerMode??_.TextLayerMode.ENABLE,this.#e=T.annotationMode??d.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=T.imageResourcesPath||"",this.isOffscreenCanvasSupported=T.isOffscreenCanvasSupported??!0,this.maxCanvasPixels=T.maxCanvasPixels??g,this.pageColors=T.pageColors||null,this.eventBus=T.eventBus,this.renderingQueue=T.renderingQueue,this.l10n=T.l10n||l.NullL10n,this.renderTask=null,this.resume=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._container=R,T.useOnlyCssZoom&&(console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."),this.maxCanvasPixels=0),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;let U=document.createElement("div");if(U.className="page",U.setAttribute("data-page-number",this.id),U.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(G=>{U.setAttribute("aria-label",G)}),this.div=U,this.#d(),R?.append(U),this._isStandalone){R?.style.setProperty("--scale-factor",this.scale*d.PixelsPerInch.PDF_TO_CSS_UNITS);let{optionalContentConfigPromise:G}=T;G&&G.then($=>{G===this._optionalContentConfigPromise&&(this.#c.initialOptionalContent=$.hasInitialVisibility)})}}get renderingState(){return this.#o}set renderingState(T){if(T!==this.#o)switch(this.#o=T,this.#n&&(clearTimeout(this.#n),this.#n=null),T){case _.RenderingStates.PAUSED:this.div.classList.remove("loading");break;case _.RenderingStates.RUNNING:this.div.classList.add("loadingIcon"),this.#n=setTimeout(()=>{this.div.classList.add("loading"),this.#n=null},0);break;case _.RenderingStates.INITIAL:case _.RenderingStates.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}#d(){let{viewport:T}=this;if(this.pdfPage){if(this.#a===T.rotation)return;this.#a=T.rotation}(0,d.setLayerDimensions)(this.div,T,!0,!1)}setPdfPage(T){this._isStandalone&&(this.pageColors?.foreground==="CanvasText"||this.pageColors?.background==="Canvas")&&this._container?.style.setProperty("--hcm-highligh-filter",T.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight")),this.pdfPage=T,this.pdfPageRotate=T.rotate;let R=(this.rotation+this.pdfPageRotate)%360;this.viewport=T.getViewport({scale:this.scale*d.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:R}),this.#d(),this.reset()}destroy(){this.reset(),this.pdfPage?.cleanup()}get _textHighlighter(){return(0,d.shadow)(this,"_textHighlighter",new v.TextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus,findController:this.#i().findController}))}#h(){return me(this,null,function*(){let T=null;try{yield this.annotationLayer.render(this.viewport,"display")}catch(R){console.error(`#renderAnnotationLayer: "${R}".`),T=R}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:T})}})}#f(){return me(this,null,function*(){let T=null;try{yield this.annotationEditorLayer.render(this.viewport,"display")}catch(R){console.error(`#renderAnnotationEditorLayer: "${R}".`),T=R}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:T})}})}#p(){return me(this,null,function*(){let T=null;try{let R=yield this.xfaLayer.render(this.viewport,"display");R?.textDivs&&this._textHighlighter&&this.#_(R.textDivs)}catch(R){console.error(`#renderXfaLayer: "${R}".`),T=R}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:T})}})}#m(){return me(this,null,function*(){let{pdfPage:T,textLayer:R,viewport:k}=this;if(!R)return;let U=null;try{if(!R.renderingDone){let G=T.streamTextContent({includeMarkedContent:!0,disableNormalization:!0});R.setTextContentSource(G)}yield R.render(k)}catch(G){if(G instanceof d.AbortException)return;console.error(`#renderTextLayer: "${G}".`),U=G}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.id,numTextDivs:R.numTextDivs,error:U}),this.#g()})}#g(){return me(this,null,function*(){if(!this.textLayer)return;this.structTreeLayer||=new f.StructTreeLayerBuilder;let T=yield this.structTreeLayer.renderingDone?null:this.pdfPage.getStructTree(),R=this.structTreeLayer?.render(T);R&&this.canvas?.append(R),this.structTreeLayer?.show()})}#_(T){return me(this,null,function*(){let R=yield this.pdfPage.getTextContent(),k=[];for(let U of R.items)k.push(U.str);this._textHighlighter.setTextMapping(T,k),this._textHighlighter.enable()})}_resetZoomLayer(T=!1){if(!this.zoomLayer)return;let R=this.zoomLayer.firstChild;this.#r.delete(R),R.width=0,R.height=0,T&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:T=!1,keepAnnotationLayer:R=!1,keepAnnotationEditorLayer:k=!1,keepXfaLayer:U=!1,keepTextLayer:G=!1}={}){this.cancelRendering({keepAnnotationLayer:R,keepAnnotationEditorLayer:k,keepXfaLayer:U,keepTextLayer:G}),this.renderingState=_.RenderingStates.INITIAL;let $=this.div,J=$.childNodes,Z=T&&this.zoomLayer||null,V=R&&this.annotationLayer?.div||null,z=k&&this.annotationEditorLayer?.div||null,I=U&&this.xfaLayer?.div||null,y=G&&this.textLayer?.div||null;for(let C=J.length-1;C>=0;C--){let A=J[C];switch(A){case Z:case V:case z:case I:case y:continue}A.remove()}$.removeAttribute("data-loaded"),V&&this.annotationLayer.hide(),z&&this.annotationEditorLayer.hide(),I&&this.xfaLayer.hide(),y&&this.textLayer.hide(),this.structTreeLayer?.hide(),Z||(this.canvas&&(this.#r.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}update({scale:T=0,rotation:R=null,optionalContentConfigPromise:k=null,drawingDelay:U=-1}){this.scale=T||this.scale,typeof R=="number"&&(this.rotation=R),k instanceof Promise&&(this._optionalContentConfigPromise=k,k.then($=>{k===this._optionalContentConfigPromise&&(this.#c.initialOptionalContent=$.hasInitialVisibility)})),this.#c.directDrawing=!0;let G=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*d.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:G}),this.#d(),this._isStandalone&&this._container?.style.setProperty("--scale-factor",this.viewport.scale),this.canvas){let $=!1;if(this.#t){if(this.maxCanvasPixels===0)$=!0;else if(this.maxCanvasPixels>0){let{width:Z,height:V}=this.viewport,{sx:z,sy:I}=this.outputScale;$=(Math.floor(Z)*z|0)*(Math.floor(V)*I|0)>this.maxCanvasPixels}}let J=!$&&U>=0&&U<1e3;if(J||$){if(J&&this.renderingState!==_.RenderingStates.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:U}),this.renderingState=_.RenderingStates.FINISHED,this.#c.directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!J,hideTextLayer:J}),J)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this.#s});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:T=!1,keepAnnotationEditorLayer:R=!1,keepXfaLayer:k=!1,keepTextLayer:U=!1,cancelExtraDelay:G=0}={}){this.renderTask&&(this.renderTask.cancel(G),this.renderTask=null),this.resume=null,this.textLayer&&(!U||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationLayer&&(!T||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!R||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!k||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this._textHighlighter?.disable())}cssTransform({target:T,redrawAnnotationLayer:R=!1,redrawAnnotationEditorLayer:k=!1,redrawXfaLayer:U=!1,redrawTextLayer:G=!1,hideTextLayer:$=!1}){if(!T.hasAttribute("zooming")){T.setAttribute("zooming",!0);let{style:Z}=T;Z.width=Z.height=""}let J=this.#r.get(T);if(this.viewport!==J){let Z=this.viewport.rotation-J.rotation,V=Math.abs(Z),z=1,I=1;if(V===90||V===270){let{width:y,height:C}=this.viewport;z=C/y,I=y/C}T.style.transform=`rotate(${Z}deg) scale(${z}, ${I})`}R&&this.annotationLayer&&this.#h(),k&&this.annotationEditorLayer&&this.#f(),U&&this.xfaLayer&&this.#p(),this.textLayer&&($?(this.textLayer.hide(),this.structTreeLayer?.hide()):G&&this.#m())}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(T,R){return this.viewport.convertToPdfPoint(T,R)}#u(T,R=null){return me(this,null,function*(){if(T===this.renderTask&&(this.renderTask=null),R instanceof d.RenderingCancelledException){this.#s=null;return}if(this.#s=R,this.renderingState=_.RenderingStates.FINISHED,this._resetZoomLayer(!0),this.#c.regularAnnotations=!T.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:this.#s}),R)throw R})}draw(){return me(this,null,function*(){this.renderingState!==_.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());let{div:T,l10n:R,pageColors:k,pdfPage:U,viewport:G}=this;if(!U)throw this.renderingState=_.RenderingStates.FINISHED,new Error("pdfPage is not loaded");this.renderingState=_.RenderingStates.RUNNING;let $=document.createElement("div");if($.classList.add("canvasWrapper"),T.append($),!this.textLayer&&this.#l!==_.TextLayerMode.DISABLE&&!U.isPureXfa&&(this._accessibilityManager||=new h.TextAccessibilityManager,this.textLayer=new m.TextLayerBuilder({highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,enablePermissions:this.#l===_.TextLayerMode.ENABLE_PERMISSIONS}),T.append(this.textLayer.div)),!this.annotationLayer&&this.#e!==d.AnnotationMode.DISABLE){let{annotationStorage:D,downloadManager:F,enableScripting:j,fieldObjectsPromise:H,hasJSActionsPromise:X,linkService:se}=this.#i();this._annotationCanvasMap||=new Map,this.annotationLayer=new c.AnnotationLayerBuilder({pageDiv:T,pdfPage:U,annotationStorage:D,imageResourcesPath:this.imageResourcesPath,renderForms:this.#e===d.AnnotationMode.ENABLE_FORMS,linkService:se,downloadManager:F,l10n:R,enableScripting:j,hasJSActionsPromise:X,fieldObjectsPromise:H,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager})}let J=D=>{if(y?.(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=_.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=_.RenderingStates.RUNNING,D()};return}D()},{width:Z,height:V}=G,z=document.createElement("canvas");z.setAttribute("role","presentation"),z.hidden=!0;let I=!!(k?.background&&k?.foreground),y=D=>{(!I||D)&&(z.hidden=!1,y=null)};$.append(z),this.canvas=z;let C=z.getContext("2d",{alpha:!1}),A=this.outputScale=new _.OutputScale;if(this.maxCanvasPixels===0){let D=1/this.scale;A.sx*=D,A.sy*=D,this.#t=!0}else if(this.maxCanvasPixels>0){let D=Z*V,F=Math.sqrt(this.maxCanvasPixels/D);A.sx>F||A.sy>F?(A.sx=F,A.sy=F,this.#t=!0):this.#t=!1}let P=(0,_.approximateFraction)(A.sx),L=(0,_.approximateFraction)(A.sy);z.width=(0,_.roundToDivide)(Z*A.sx,P[0]),z.height=(0,_.roundToDivide)(V*A.sy,L[0]);let{style:O}=z;O.width=(0,_.roundToDivide)(Z,P[1])+"px",O.height=(0,_.roundToDivide)(V,L[1])+"px",this.#r.set(z,G);let B=A.scaled?[A.sx,0,0,A.sy,0,0]:null,N={canvasContext:C,transform:B,viewport:G,annotationMode:this.#e,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:k},x=this.renderTask=this.pdfPage.render(N);x.onContinue=J;let M=x.promise.then(()=>me(this,null,function*(){if(y?.(!0),yield this.#u(x),this.#m(),this.annotationLayer&&(yield this.#h()),!this.annotationEditorLayer){let{annotationEditorUIManager:D}=this.#i();if(!D)return;this.annotationEditorLayer=new u.AnnotationEditorLayerBuilder({uiManager:D,pageDiv:T,pdfPage:U,l10n:R,accessibilityManager:this._accessibilityManager,annotationLayer:this.annotationLayer?.annotationLayer})}this.#f()}),D=>(D instanceof d.RenderingCancelledException||y?.(!0),this.#u(x,D)));if(U.isPureXfa){if(this.xfaLayer)this.xfaLayer.div&&T.append(this.xfaLayer.div);else{let{annotationStorage:D,linkService:F}=this.#i();this.xfaLayer=new E.XfaLayerBuilder({pageDiv:T,pdfPage:U,annotationStorage:D,linkService:F})}this.#p()}return T.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),M})}setPageLabel(T){this.pageLabel=typeof T=="string"?T:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){let{directDrawing:T,initialOptionalContent:R,regularAnnotations:k}=this.#c;return T&&R&&k?this.canvas:null}}s.PDFPageView=w},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayerBuilder=void 0;var d=o(4),_=o(7);class u{#e=null;#t;constructor(a){this.pageDiv=a.pageDiv,this.pdfPage=a.pdfPage,this.accessibilityManager=a.accessibilityManager,this.l10n=a.l10n||_.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#t=a.uiManager,this.#e=a.annotationLayer||null}render(a,l="display"){return me(this,null,function*(){if(l!=="display"||this._cancelled)return;let p=a.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:p}),this.show();return}let f=this.div=document.createElement("div");f.className="annotationEditorLayer",f.tabIndex=0,f.hidden=!0,f.dir=this.#t.direction,this.pageDiv.append(f),this.annotationEditorLayer=new d.AnnotationEditorLayer({uiManager:this.#t,div:f,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:p,annotationLayer:this.#e});let h={viewport:p,div:f,annotations:null,intent:l};this.annotationEditorLayer.render(h),this.show()})}cancel(){this._cancelled=!0,this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isEmpty||(this.div.hidden=!1)}}s.AnnotationEditorLayerBuilder=u},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.compatibilityParams=s.OptionKind=s.AppOptions=void 0;let o=Object.create(null);s.compatibilityParams=o;{let a=navigator.userAgent||"",l=navigator.platform||"",p=navigator.maxTouchPoints||1,f=/Android/.test(a),h=/\b(iPad|iPhone|iPod)(?=;)/.test(a)||l==="MacIntel"&&p>1;(function(){(h||f)&&(o.maxCanvasPixels=5242880)})()}let d={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};s.OptionKind=d;let _={annotationEditorMode:{value:0,kind:d.VIEWER+d.PREFERENCE},annotationMode:{value:2,kind:d.VIEWER+d.PREFERENCE},cursorToolOnLoad:{value:0,kind:d.VIEWER+d.PREFERENCE},defaultZoomDelay:{value:400,kind:d.VIEWER+d.PREFERENCE},defaultZoomValue:{value:"",kind:d.VIEWER+d.PREFERENCE},disableHistory:{value:!1,kind:d.VIEWER},disablePageLabels:{value:!1,kind:d.VIEWER+d.PREFERENCE},enablePermissions:{value:!1,kind:d.VIEWER+d.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:d.VIEWER+d.PREFERENCE},enableScripting:{value:!0,kind:d.VIEWER+d.PREFERENCE},enableStampEditor:{value:!0,kind:d.VIEWER+d.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:d.VIEWER},externalLinkTarget:{value:0,kind:d.VIEWER+d.PREFERENCE},historyUpdateUrl:{value:!1,kind:d.VIEWER+d.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:d.VIEWER+d.PREFERENCE},imageResourcesPath:{value:"./images/",kind:d.VIEWER},maxCanvasPixels:{value:16777216,kind:d.VIEWER},forcePageColors:{value:!1,kind:d.VIEWER+d.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:d.VIEWER+d.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:d.VIEWER+d.PREFERENCE},pdfBugEnabled:{value:!1,kind:d.VIEWER+d.PREFERENCE},printResolution:{value:150,kind:d.VIEWER},sidebarViewOnLoad:{value:-1,kind:d.VIEWER+d.PREFERENCE},scrollModeOnLoad:{value:-1,kind:d.VIEWER+d.PREFERENCE},spreadModeOnLoad:{value:-1,kind:d.VIEWER+d.PREFERENCE},textLayerMode:{value:1,kind:d.VIEWER+d.PREFERENCE},viewerCssTheme:{value:0,kind:d.VIEWER+d.PREFERENCE},viewOnLoad:{value:0,kind:d.VIEWER+d.PREFERENCE},cMapPacked:{value:!0,kind:d.API},cMapUrl:{value:"../web/cmaps/",kind:d.API},disableAutoFetch:{value:!1,kind:d.API+d.PREFERENCE},disableFontFace:{value:!1,kind:d.API+d.PREFERENCE},disableRange:{value:!1,kind:d.API+d.PREFERENCE},disableStream:{value:!1,kind:d.API+d.PREFERENCE},docBaseUrl:{value:"",kind:d.API},enableXfa:{value:!0,kind:d.API+d.PREFERENCE},fontExtraProperties:{value:!1,kind:d.API},isEvalSupported:{value:!0,kind:d.API},isOffscreenCanvasSupported:{value:!0,kind:d.API},maxImageSize:{value:-1,kind:d.API},pdfBug:{value:!1,kind:d.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:d.API},verbosity:{value:1,kind:d.API},workerPort:{value:null,kind:d.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:d.WORKER}};_.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:d.VIEWER},_.disablePreferences={value:!1,kind:d.VIEWER},_.locale={value:navigator.language||"en-US",kind:d.VIEWER},_.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:d.VIEWER};let u=Object.create(null);class c{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(l){let p=u[l];if(p!==void 0)return p;let f=_[l];if(f!==void 0)return o[l]??f.value}static getAll(l=null){let p=Object.create(null);for(let f in _){let h=_[f];if(l){if(!(l&h.kind))continue;if(l===d.PREFERENCE){let m=h.value,E=typeof m;if(E==="boolean"||E==="string"||E==="number"&&Number.isInteger(m)){p[f]=m;continue}throw new Error(`Invalid type for preference: ${f}`)}}let v=u[f];p[f]=v!==void 0?v:o[f]??h.value}return p}static set(l,p){u[l]=p}static setAll(l){for(let p in l)u[p]=l[p]}static remove(l){delete u[l]}}s.AppOptions=c,c._hasUserOptions=function(){return Object.keys(u).length>0}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StructTreeLayerBuilder=void 0;var d=o(2);let _={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},u=/^H(\d+)$/;class c{#e=void 0;get renderingDone(){return this.#e!==void 0}render(l){if(this.#e!==void 0)return this.#e;let p=this.#i(l);return p?.classList.add("structTree"),this.#e=p}hide(){this.#e&&!this.#e.hidden&&(this.#e.hidden=!0)}show(){this.#e?.hidden&&(this.#e.hidden=!1)}#t(l,p){let{alt:f,id:h,lang:v}=l;f!==void 0&&p.setAttribute("aria-label",(0,d.removeNullCharacters)(f)),h!==void 0&&p.setAttribute("aria-owns",h),v!==void 0&&p.setAttribute("lang",(0,d.removeNullCharacters)(v,!0))}#i(l){if(!l)return null;let p=document.createElement("span");if("role"in l){let{role:f}=l,h=f.match(u);h?(p.setAttribute("role","heading"),p.setAttribute("aria-level",h[1])):_[f]&&p.setAttribute("role",_[f])}if(this.#t(l,p),l.children)if(l.children.length===1&&"id"in l.children[0])this.#t(l.children[0],p);else for(let f of l.children)p.append(this.#i(f));return p}}s.StructTreeLayerBuilder=c},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextAccessibilityManager=void 0;var d=o(2);class _{#e=!1;#t=null;#i=new Map;#n=new Map;setTextMapping(c){this.#t=c}static#a(c,a){let l=c.getBoundingClientRect(),p=a.getBoundingClientRect();if(l.width===0&&l.height===0)return 1;if(p.width===0&&p.height===0)return-1;let f=l.y,h=l.y+l.height,v=l.y+l.height/2,m=p.y,E=p.y+p.height,g=p.y+p.height/2;if(v<=m&&g>=h)return-1;if(g<=f&&v>=E)return 1;let b=l.x+l.width/2,w=p.x+p.width/2;return b-w}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(_.#a),this.#i.size>0){let c=this.#t;for(let[a,l]of this.#i){if(!document.getElementById(a)){this.#i.delete(a);continue}this.#s(a,c[l])}}for(let[c,a]of this.#n)this.addPointerInTextLayer(c,a);this.#n.clear()}disable(){this.#e&&(this.#n.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(c){if(!this.#e){this.#n.delete(c);return}let a=this.#t;if(!a||a.length===0)return;let{id:l}=c,p=this.#i.get(l);if(p===void 0)return;let f=a[p];this.#i.delete(l);let h=f.getAttribute("aria-owns");h?.includes(l)&&(h=h.split(" ").filter(v=>v!==l).join(" "),h?f.setAttribute("aria-owns",h):(f.removeAttribute("aria-owns"),f.setAttribute("role","presentation")))}#s(c,a){let l=a.getAttribute("aria-owns");l?.includes(c)||a.setAttribute("aria-owns",l?`${l} ${c}`:c),a.removeAttribute("role")}addPointerInTextLayer(c,a){let{id:l}=c;if(!l)return null;if(!this.#e)return this.#n.set(c,a),null;a&&this.removePointerInTextLayer(c);let p=this.#t;if(!p||p.length===0)return null;let f=(0,d.binarySearchFirstItem)(p,E=>_.#a(c,E)<0),h=Math.max(0,f-1),v=p[h];this.#s(l,v),this.#i.set(l,h);let m=v.parentNode;return m?.classList.contains("markedContent")?m.id:null}moveElementInDOM(c,a,l,p){let f=this.addPointerInTextLayer(l,p);if(!c.hasChildNodes())return c.append(a),f;let h=Array.from(c.childNodes).filter(E=>E!==a);if(h.length===0)return f;let v=l||a,m=(0,d.binarySearchFirstItem)(h,E=>_.#a(v,E)<0);return m===0?h[0].before(a):h[m-1].after(a),f}}s.TextAccessibilityManager=_},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextHighlighter=void 0;class o{constructor({findController:_,eventBus:u,pageIndex:c}){this.findController=_,this.matches=[],this.eventBus=u,this.pageIdx=c,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(_,u){this.textDivs=_,this.textContentItemsStr=u}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=_=>{(_.pageIndex===this.pageIdx||_.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null),this._updateMatches(!0))}_convertMatches(_,u){if(!_)return[];let{textContentItemsStr:c}=this,a=0,l=0,p=c.length-1,f=[];for(let h=0,v=_.length;h<v;h++){let m=_[h];for(;a!==p&&m>=l+c[a].length;)l+=c[a].length,a++;a===c.length&&console.error("Could not find a matching mapping");let E={begin:{divIdx:a,offset:m-l}};for(m+=u[h];a!==p&&m>l+c[a].length;)l+=c[a].length,a++;E.end={divIdx:a,offset:m-l},f.push(E)}return f}_renderMatches(_){if(_.length===0)return;let{findController:u,pageIdx:c}=this,{textContentItemsStr:a,textDivs:l}=this,p=c===u.selected.pageIdx,f=u.selected.matchIdx,h=u.state.highlightAll,v=null,m={divIdx:-1,offset:void 0};function E(R,k){let U=R.divIdx;return l[U].textContent="",g(U,0,R.offset,k)}function g(R,k,U,G){let $=l[R];if($.nodeType===Node.TEXT_NODE){let V=document.createElement("span");$.before(V),V.append($),l[R]=V,$=V}let J=a[R].substring(k,U),Z=document.createTextNode(J);if(G){let V=document.createElement("span");return V.className=`${G} appended`,V.append(Z),$.append(V),G.includes("selected")?V.offsetLeft:0}return $.append(Z),0}let b=f,w=b+1;if(h)b=0,w=_.length;else if(!p)return;let S=-1,T=-1;for(let R=b;R<w;R++){let k=_[R],U=k.begin;if(U.divIdx===S&&U.offset===T)continue;S=U.divIdx,T=U.offset;let G=k.end,$=p&&R===f,J=$?" selected":"",Z=0;if(!v||U.divIdx!==v.divIdx?(v!==null&&g(v.divIdx,v.offset,m.offset),E(U)):g(v.divIdx,v.offset,U.offset),U.divIdx===G.divIdx)Z=g(U.divIdx,U.offset,G.offset,"highlight"+J);else{Z=g(U.divIdx,U.offset,m.offset,"highlight begin"+J);for(let V=U.divIdx+1,z=G.divIdx;V<z;V++)l[V].className="highlight middle"+J;E(G,"highlight end"+J)}v=G,$&&u.scrollMatchIntoView({element:l[U.divIdx],selectedLeft:Z,pageIndex:c,matchIndex:f})}v&&g(v.divIdx,v.offset,m.offset)}_updateMatches(_=!1){if(!this.enabled&&!_)return;let{findController:u,matches:c,pageIdx:a}=this,{textContentItemsStr:l,textDivs:p}=this,f=-1;for(let m of c){let E=Math.max(f,m.begin.divIdx);for(let g=E,b=m.end.divIdx;g<=b;g++){let w=p[g];w.textContent=l[g],w.className=""}f=m.end.divIdx+1}if(!u?.highlightMatches||_)return;let h=u.pageMatches[a]||null,v=u.pageMatchesLength[a]||null;this.matches=this._convertMatches(h,v),this._renderMatches(this.matches)}}s.TextHighlighter=o},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerBuilder=void 0;var d=o(4),_=o(2);class u{#e=!1;#t=0;#i=0;#n=null;constructor({highlighter:a=null,accessibilityManager:l=null,isOffscreenCanvasSupported:p=!0,enablePermissions:f=!1}){this.textContentItemsStr=[],this.renderingDone=!1,this.textDivs=[],this.textDivProperties=new WeakMap,this.textLayerRenderTask=null,this.highlighter=a,this.accessibilityManager=l,this.isOffscreenCanvasSupported=p,this.#e=f===!0,this.div=document.createElement("div"),this.div.className="textLayer",this.hide()}#a(){this.renderingDone=!0;let a=document.createElement("div");a.className="endOfContent",this.div.append(a),this.#s()}get numTextDivs(){return this.textDivs.length}render(a){return me(this,null,function*(){if(!this.#n)throw new Error('No "textContentSource" parameter specified.');let l=a.scale*(globalThis.devicePixelRatio||1),{rotation:p}=a;if(this.renderingDone){let f=p!==this.#t,h=l!==this.#i;(f||h)&&(this.hide(),(0,d.updateTextLayer)({container:this.div,viewport:a,textDivs:this.textDivs,textDivProperties:this.textDivProperties,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,mustRescale:h,mustRotate:f}),this.#i=l,this.#t=p),this.show();return}this.cancel(),this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr),this.accessibilityManager?.setTextMapping(this.textDivs),this.textLayerRenderTask=(0,d.renderTextLayer)({textContentSource:this.#n,container:this.div,viewport:a,textDivs:this.textDivs,textDivProperties:this.textDivProperties,textContentItemsStr:this.textContentItemsStr,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported}),yield this.textLayerRenderTask.promise,this.#a(),this.#i=l,this.#t=p,this.show(),this.accessibilityManager?.enable()})}hide(){this.div.hidden||(this.highlighter?.disable(),this.div.hidden=!0)}show(){this.div.hidden&&this.renderingDone&&(this.div.hidden=!1,this.highlighter?.enable())}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable(),this.accessibilityManager?.disable(),this.textContentItemsStr.length=0,this.textDivs.length=0,this.textDivProperties=new WeakMap}setTextContentSource(a){this.cancel(),this.#n=a}#s(){let{div:a}=this;a.addEventListener("mousedown",l=>{let p=a.querySelector(".endOfContent");if(!p)return;let f=l.target!==a;if(f&&=getComputedStyle(p).getPropertyValue("-moz-user-select")!=="none",f){let h=a.getBoundingClientRect(),v=Math.max(0,(l.pageY-h.top)/h.height);p.style.top=(v*100).toFixed(2)+"%"}p.classList.add("active")}),a.addEventListener("mouseup",()=>{let l=a.querySelector(".endOfContent");l&&(l.style.top="",l.classList.remove("active"))}),a.addEventListener("copy",l=>{if(!this.#e){let p=document.getSelection();l.clipboardData.setData("text/plain",(0,_.removeNullCharacters)((0,d.normalizeUnicode)(p.toString())))}l.preventDefault(),l.stopPropagation()})}}s.TextLayerBuilder=u},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayerBuilder=void 0;var d=o(4);class _{constructor({pageDiv:c,pdfPage:a,annotationStorage:l=null,linkService:p,xfaHtml:f=null}){this.pageDiv=c,this.pdfPage=a,this.annotationStorage=l,this.linkService=p,this.xfaHtml=f,this.div=null,this._cancelled=!1}render(c,a="display"){return me(this,null,function*(){if(a==="print"){let f={viewport:c.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:a},h=document.createElement("div");return this.pageDiv.append(h),f.div=h,d.XfaLayer.render(f)}let l=yield this.pdfPage.getXfa();if(this._cancelled||!l)return{textDivs:[]};let p={viewport:c.clone({dontFlip:!0}),div:this.div,xfaHtml:l,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:a};return this.div?d.XfaLayer.update(p):(this.div=document.createElement("div"),this.pageDiv.append(this.div),p.div=this.div,d.XfaLayer.render(p))})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}s.XfaLayerBuilder=_},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFScriptingManager=void 0;var d=o(22),_=o(23);class u extends _.PDFScriptingManager{constructor(a){a.externalServices||window.addEventListener("updatefromsandbox",l=>{a.eventBus.dispatch("updatefromsandbox",{source:window,detail:l.detail})}),a.externalServices||={createScripting:({sandboxBundleSrc:l})=>new d.GenericScripting(l)},a.docProperties||=l=>(0,d.docProperties)(l),super(a)}}s.PDFScriptingManager=u},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GenericScripting=void 0,s.docProperties=_;var d=o(4);function _(c){return me(this,null,function*(){let a="",l=a.split("#")[0],{info:p,metadata:f,contentDispositionFilename:h,contentLength:v}=yield c.getMetadata();if(!v){let{length:m}=yield c.getDownloadInfo();v=m}return Be(pe({},p),{baseURL:l,filesize:v,filename:h||(0,d.getPdfFilenameFromUrl)(a),metadata:f?.getRaw(),authors:f?.get("dc:creator"),numPages:c.numPages,URL:a})})}class u{constructor(a){this._ready=(0,d.loadScript)(a,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(a){return me(this,null,function*(){(yield this._ready).create(a)})}dispatchEventInSandbox(a){return me(this,null,function*(){let l=yield this._ready;setTimeout(()=>l.dispatchEvent(a),0)})}destroySandbox(){return me(this,null,function*(){(yield this._ready).nukeSandbox()})}}s.GenericScripting=u},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFScriptingManager=void 0;var d=o(2),_=o(4);class u{#e=null;#t=null;#i=null;#n=null;#a=null;#s=null;#o=null;#l=!1;#c=null;#r=null;#d=null;constructor({eventBus:a,sandboxBundleSrc:l=null,externalServices:p=null,docProperties:f=null}){this.#n=a,this.#c=l,this.#a=p,this.#i=f}setViewer(a){this.#o=a}setDocument(a){return me(this,null,function*(){if(this.#s&&(yield this.#g()),this.#s=a,!a)return;let[l,p,f]=yield Promise.all([a.getFieldObjects(),a.getCalculationOrderIds(),a.getJSActions()]);if(!l&&!f){yield this.#g();return}if(a===this.#s){try{this.#r=this.#m()}catch(h){console.error(`setDocument: "${h.message}".`),yield this.#g();return}this._internalEvents.set("updatefromsandbox",h=>{h?.source===window&&this.#h(h.detail)}),this._internalEvents.set("dispatcheventinsandbox",h=>{this.#r?.dispatchEventInSandbox(h.detail)}),this._internalEvents.set("pagechanging",({pageNumber:h,previous:v})=>{h!==v&&(this.#p(v),this.#f(h))}),this._internalEvents.set("pagerendered",({pageNumber:h})=>{this._pageOpenPending.has(h)&&h===this.#o.currentPageNumber&&this.#f(h)}),this._internalEvents.set("pagesdestroy",()=>me(this,null,function*(){yield this.#p(this.#o.currentPageNumber),yield this.#r?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),this.#e?.resolve()}));for(let[h,v]of this._internalEvents)this.#n._on(h,v);try{let h=yield this.#i(a);if(a!==this.#s)return;yield this.#r.createSandbox({objects:l,calculationOrder:p,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:Be(pe({},h),{actions:f})}),this.#n.dispatch("sandboxcreated",{source:this})}catch(h){console.error(`setDocument: "${h.message}".`),yield this.#g();return}yield this.#r?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield this.#f(this.#o.currentPageNumber,!0),Promise.resolve().then(()=>{a===this.#s&&(this.#l=!0)})}})}dispatchWillSave(){return me(this,null,function*(){return this.#r?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})}dispatchDidSave(){return me(this,null,function*(){return this.#r?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})}dispatchWillPrint(){return me(this,null,function*(){if(this.#r){yield this.#d?.promise,this.#d=new _.PromiseCapability;try{yield this.#r.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(a){throw this.#d.resolve(),this.#d=null,a}yield this.#d.promise}})}dispatchDidPrint(){return me(this,null,function*(){return this.#r?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})}get destroyPromise(){return this.#t?.promise||null}get ready(){return this.#l}get _internalEvents(){return(0,_.shadow)(this,"_internalEvents",new Map)}get _pageOpenPending(){return(0,_.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,_.shadow)(this,"_visitedPages",new Map)}#h(a){return me(this,null,function*(){let l=this.#o,p=l.isInPresentationMode||l.isChangingPresentationMode,{id:f,siblings:h,command:v,value:m}=a;if(!f){switch(v){case"clear":console.clear();break;case"error":console.error(m);break;case"layout":if(!p){let g=(0,d.apiPageLayoutToViewerModes)(m);l.spreadMode=g.spreadMode}break;case"page-num":l.currentPageNumber=m+1;break;case"print":yield l.pagesPromise,this.#n.dispatch("print",{source:this});break;case"println":console.log(m);break;case"zoom":p||(l.currentScaleValue=m);break;case"SaveAs":this.#n.dispatch("download",{source:this});break;case"FirstPage":l.currentPageNumber=1;break;case"LastPage":l.currentPageNumber=l.pagesCount;break;case"NextPage":l.nextPage();break;case"PrevPage":l.previousPage();break;case"ZoomViewIn":p||l.increaseScale();break;case"ZoomViewOut":p||l.decreaseScale();break;case"WillPrintFinished":this.#d?.resolve(),this.#d=null;break}return}if(p&&a.focus)return;delete a.id,delete a.siblings;let E=h?[f,...h]:[f];for(let g of E){let b=document.querySelector(`[data-element-id="${g}"]`);b?b.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:a})):this.#s?.annotationStorage.setValue(g,a)}})}#f(a,l=!1){return me(this,null,function*(){let p=this.#s,f=this._visitedPages;if(l&&(this.#e=new _.PromiseCapability),!this.#e)return;let h=this.#o.getPageView(a-1);if(h?.renderingState!==d.RenderingStates.FINISHED){this._pageOpenPending.add(a);return}this._pageOpenPending.delete(a);let v=me(this,null,function*(){let m=yield f.has(a)?null:h.pdfPage?.getJSActions();p===this.#s&&(yield this.#r?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:a,actions:m}))});f.set(a,v)})}#p(a){return me(this,null,function*(){let l=this.#s,p=this._visitedPages;if(!this.#e||this._pageOpenPending.has(a))return;let f=p.get(a);f&&(p.set(a,null),yield f,l===this.#s&&(yield this.#r?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:a})))})}#m(){if(this.#t=new _.PromiseCapability,this.#r)throw new Error("#initScripting: Scripting already exists.");return this.#a.createScripting({sandboxBundleSrc:this.#c})}#g(){return me(this,null,function*(){if(!this.#r){this.#s=null,this.#t?.resolve();return}this.#e&&(yield Promise.race([this.#e.promise,new Promise(a=>{setTimeout(a,1e3)})]).catch(()=>{}),this.#e=null),this.#s=null;try{yield this.#r.destroySandbox()}catch{}this.#d?.reject(new Error("Scripting destroyed.")),this.#d=null;for(let[a,l]of this._internalEvents)this.#n._off(a,l);this._internalEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this.#r=null,this.#l=!1,this.#t?.resolve()})}}s.PDFScriptingManager=u},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFSinglePageViewer=void 0;var d=o(2),_=o(25);class u extends _.PDFViewer{_resetView(){super._resetView(),this._scrollMode=d.ScrollMode.PAGE,this._spreadMode=d.SpreadMode.NONE}set scrollMode(a){}_updateScrollMode(){}set spreadMode(a){}_updateSpreadMode(){}}s.PDFSinglePageViewer=u},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PagesCountLimit=s.PDFViewer=s.PDFPageViewBuffer=void 0;var d=o(4),_=o(2),u=o(7),c=o(13),a=o(26),l=o(5);let p=10,f={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};s.PagesCountLimit=f;function h(E){return Object.values(d.AnnotationEditorType).includes(E)&&E!==d.AnnotationEditorType.DISABLE}class v{#e=new Set;#t=0;constructor(g){this.#t=g}push(g){let b=this.#e;b.has(g)&&b.delete(g),b.add(g),b.size>this.#t&&this.#i()}resize(g,b=null){this.#t=g;let w=this.#e;if(b){let S=w.size,T=1;for(let R of w)if(b.has(R.id)&&(w.delete(R),w.add(R)),++T>S)break}for(;w.size>this.#t;)this.#i()}has(g){return this.#e.has(g)}[Symbol.iterator](){return this.#e.keys()}#i(){let g=this.#e.keys().next().value;g?.destroy(),this.#e.delete(g)}}s.PDFPageViewBuffer=v;class m{#e=null;#t=null;#i=d.AnnotationEditorType.NONE;#n=null;#a=d.AnnotationMode.ENABLE_FORMS;#s=null;#o=null;#l=!1;#c=!1;#r=null;#d=!1;#h=0;#f=new ResizeObserver(this.#S.bind(this));#p=null;#m=null;#g=null;#_=_.TextLayerMode.ENABLE;constructor(g){let b="3.11.174";if(d.version!==b)throw new Error(`The API version "${d.version}" does not match the Viewer version "${b}".`);if(this.container=g.container,this.viewer=g.viewer||g.container.firstElementChild,this.container?.tagName!=="DIV"||this.viewer?.tagName!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.#f.observe(this.container),this.eventBus=g.eventBus,this.linkService=g.linkService||new l.SimpleLinkService,this.downloadManager=g.downloadManager||null,this.findController=g.findController||null,this.#t=g.altTextManager||null,this.findController&&(this.findController.onIsPageVisible=w=>this._getVisiblePages().ids.has(w)),this._scriptingManager=g.scriptingManager||null,this.#_=g.textLayerMode??_.TextLayerMode.ENABLE,this.#a=g.annotationMode??d.AnnotationMode.ENABLE_FORMS,this.#i=g.annotationEditorMode??d.AnnotationEditorType.NONE,this.imageResourcesPath=g.imageResourcesPath||"",this.enablePrintAutoRotate=g.enablePrintAutoRotate||!1,this.removePageBorders=g.removePageBorders||!1,g.useOnlyCssZoom&&(console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."),g.maxCanvasPixels=0),this.isOffscreenCanvasSupported=g.isOffscreenCanvasSupported??!0,this.maxCanvasPixels=g.maxCanvasPixels,this.l10n=g.l10n||u.NullL10n,this.#l=g.enablePermissions||!1,this.pageColors=g.pageColors||null,this.defaultRenderingQueue=!g.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new a.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=g.renderingQueue,this.scroll=(0,_.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=_.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.#C(),this.eventBus._on("thumbnailrendered",({pageNumber:w,pdfPage:S})=>{let T=this._pages[w-1];this.#e.has(T)||S?.cleanup()})}get pagesCount(){return this._pages.length}getPageView(g){return this._pages[g]}getCachedPageViews(){return new Set(this.#e)}get pageViewsReady(){return this._pagesCapability.settled&&this._pages.every(g=>g?.pdfPage)}get renderForms(){return this.#a===d.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(g){if(!Number.isInteger(g))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(g,!0)||console.error(`currentPageNumber: "${g}" is not a valid page.`))}_setCurrentPageNumber(g,b=!1){if(this._currentPageNumber===g)return b&&this.#P(),!0;if(!(0<g&&g<=this.pagesCount))return!1;let w=this._currentPageNumber;return this._currentPageNumber=g,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:g,pageLabel:this._pageLabels?.[g-1]??null,previous:w}),b&&this.#P(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(g){if(!this.pdfDocument)return;let b=g|0;if(this._pageLabels){let w=this._pageLabels.indexOf(g);w>=0&&(b=w+1)}this._setCurrentPageNumber(b,!0)||console.error(`currentPageLabel: "${g}" is not a valid page.`)}get currentScale(){return this._currentScale!==_.UNKNOWN_SCALE?this._currentScale:_.DEFAULT_SCALE}set currentScale(g){if(isNaN(g))throw new Error("Invalid numeric scale.");this.pdfDocument&&this.#b(g,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(g){this.pdfDocument&&this.#b(g,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(g){if(!(0,_.isValidRotation)(g))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(g%=360,g<0&&(g+=360),this._pagesRotation===g))return;this._pagesRotation=g;let b=this._currentPageNumber;this.refresh(!0,{rotation:g}),this._currentScaleValue&&this.#b(this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:g,pageNumber:b}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}#u(){let g=this;return{get annotationEditorUIManager(){return g.#n},get annotationStorage(){return g.pdfDocument?.annotationStorage},get downloadManager(){return g.downloadManager},get enableScripting(){return!!g._scriptingManager},get fieldObjectsPromise(){return g.pdfDocument?.getFieldObjects()},get findController(){return g.findController},get hasJSActionsPromise(){return g.pdfDocument?.hasJSActions()},get linkService(){return g.linkService}}}#v(g){let b={annotationEditorMode:this.#i,annotationMode:this.#a,textLayerMode:this.#_};return g&&(!g.includes(d.PermissionFlag.COPY)&&this.#_===_.TextLayerMode.ENABLE&&(b.textLayerMode=_.TextLayerMode.ENABLE_PERMISSIONS),g.includes(d.PermissionFlag.MODIFY_CONTENTS)||(b.annotationEditorMode=d.AnnotationEditorType.DISABLE),!g.includes(d.PermissionFlag.MODIFY_ANNOTATIONS)&&!g.includes(d.PermissionFlag.FILL_INTERACTIVE_FORMS)&&this.#a===d.AnnotationMode.ENABLE_FORMS&&(b.annotationMode=d.AnnotationMode.ENABLE)),b}#A(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();let g=new Promise(b=>{this.#m=()=>{document.visibilityState==="hidden"&&(b(),document.removeEventListener("visibilitychange",this.#m),this.#m=null)},document.addEventListener("visibilitychange",this.#m)});return Promise.race([this._onePageRenderedCapability.promise,g])}getAllText(){return me(this,null,function*(){let g=[],b=[];for(let w=1,S=this.pdfDocument.numPages;w<=S;++w){if(this.#d)return null;b.length=0;let T=yield this.pdfDocument.getPage(w),{items:R}=yield T.getTextContent();for(let k of R)k.str&&b.push(k.str),k.hasEOL&&b.push(`
`);g.push((0,_.removeNullCharacters)(b.join("")))}return g.join(`
`)})}#y(g,b){let w=document.getSelection(),{focusNode:S,anchorNode:T}=w;if(T&&S&&w.containsNode(this.#r)){if(this.#c||g===_.TextLayerMode.ENABLE_PERMISSIONS){b.preventDefault(),b.stopPropagation();return}this.#c=!0;let R=this.container.style.cursor;this.container.style.cursor="wait";let k=U=>this.#d=U.key==="Escape";window.addEventListener("keydown",k),this.getAllText().then(U=>me(this,null,function*(){U!==null&&(yield navigator.clipboard.writeText(U))})).catch(U=>{console.warn(`Something goes wrong when extracting the text: ${U.message}`)}).finally(()=>{this.#c=!1,this.#d=!1,window.removeEventListener("keydown",k),this.container.style.cursor=R}),b.preventDefault(),b.stopPropagation()}}setDocument(g){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController?.setDocument(null),this._scriptingManager?.setDocument(null),this.#n&&(this.#n.destroy(),this.#n=null)),this.pdfDocument=g,!g)return;let b=g.numPages,w=g.getPage(1),S=g.getOptionalContentConfig(),T=this.#l?g.getPermissions():Promise.resolve();if(b>f.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");let R=this._scrollMode=_.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:R})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:b})},()=>{}),this._onBeforeDraw=R=>{let k=this._pages[R.pageNumber-1];k&&this.#e.push(k)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=R=>{R.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:R.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,this.#m&&(document.removeEventListener("visibilitychange",this.#m),this.#m=null))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([w,T]).then(([R,k])=>{if(g!==this.pdfDocument)return;this._firstPageCapability.resolve(R),this._optionalContentConfigPromise=S;let{annotationEditorMode:U,annotationMode:G,textLayerMode:$}=this.#v(k);if($!==_.TextLayerMode.DISABLE){let y=this.#r=document.createElement("div");y.id="hiddenCopyElement",this.viewer.before(y)}if(U!==d.AnnotationEditorType.DISABLE){let y=U;g.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):h(y)?(this.#n=new d.AnnotationEditorUIManager(this.container,this.viewer,this.#t,this.eventBus,g,this.pageColors),y!==d.AnnotationEditorType.NONE&&this.#n.updateMode(y)):console.error(`Invalid AnnotationEditor mode: ${y}`)}let J=this.#u.bind(this),Z=this._scrollMode===_.ScrollMode.PAGE?null:this.viewer,V=this.currentScale,z=R.getViewport({scale:V*d.PixelsPerInch.PDF_TO_CSS_UNITS});this.viewer.style.setProperty("--scale-factor",z.scale),(this.pageColors?.foreground==="CanvasText"||this.pageColors?.background==="Canvas")&&this.viewer.style.setProperty("--hcm-highligh-filter",g.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight"));for(let y=1;y<=b;++y){let C=new c.PDFPageView({container:Z,eventBus:this.eventBus,id:y,scale:V,defaultViewport:z.clone(),optionalContentConfigPromise:S,renderingQueue:this.renderingQueue,textLayerMode:$,annotationMode:G,imageResourcesPath:this.imageResourcesPath,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n,layerProperties:J});this._pages.push(C)}let I=this._pages[0];I&&(I.setPdfPage(R),this.linkService.cachePageRef(1,R.ref)),this._scrollMode===_.ScrollMode.PAGE?this.#x():this._spreadMode!==_.SpreadMode.NONE&&this._updateSpreadMode(),this.#A().then(()=>me(this,null,function*(){if(this.findController?.setDocument(g),this._scriptingManager?.setDocument(g),this.#r&&(this.#o=this.#y.bind(this,$),document.addEventListener("copy",this.#o)),this.#n&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:this.#i}),g.loadingParams.disableAutoFetch||b>f.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let y=b-1;if(y<=0){this._pagesCapability.resolve();return}for(let C=2;C<=b;++C){let A=g.getPage(C).then(P=>{let L=this._pages[C-1];L.pdfPage||L.setPdfPage(P),this.linkService.cachePageRef(C,P.ref),--y===0&&this._pagesCapability.resolve()},P=>{console.error(`Unable to get page ${C} to initialize viewer`,P),--y===0&&this._pagesCapability.resolve()});C%f.PAUSE_EAGER_PAGE_INIT===0&&(yield A)}})),this.eventBus.dispatch("pagesinit",{source:this}),g.getMetadata().then(({info:y})=>{g===this.pdfDocument&&y.Language&&(this.viewer.lang=y.Language)}),this.defaultRenderingQueue&&this.update()}).catch(R=>{console.error("Unable to initialize viewer",R),this._pagesCapability.reject(R)})}setPageLabels(g){if(this.pdfDocument){g?Array.isArray(g)&&this.pdfDocument.numPages===g.length?this._pageLabels=g:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let b=0,w=this._pages.length;b<w;b++)this._pages[b].setPageLabel(this._pageLabels?.[b]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=_.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this.#e=new v(p),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=new d.PromiseCapability,this._onePageRenderedCapability=new d.PromiseCapability,this._pagesCapability=new d.PromiseCapability,this._scrollMode=_.ScrollMode.VERTICAL,this._previousScrollMode=_.ScrollMode.UNKNOWN,this._spreadMode=_.SpreadMode.NONE,this.#p={previousPageNumber:1,scrollDown:!0,pages:[]},this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.#m&&(document.removeEventListener("visibilitychange",this.#m),this.#m=null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.#r&&(document.removeEventListener("copy",this.#o),this.#o=null,this.#r.remove(),this.#r=null)}#x(){if(this._scrollMode!==_.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");let g=this._currentPageNumber,b=this.#p,w=this.viewer;if(w.textContent="",b.pages.length=0,this._spreadMode===_.SpreadMode.NONE&&!this.isInPresentationMode){let S=this._pages[g-1];w.append(S.div),b.pages.push(S)}else{let S=new Set,T=this._spreadMode-1;T===-1?S.add(g-1):g%2!==T?(S.add(g-1),S.add(g)):(S.add(g-2),S.add(g-1));let R=document.createElement("div");if(R.className="spread",this.isInPresentationMode){let k=document.createElement("div");k.className="dummyPage",R.append(k)}for(let k of S){let U=this._pages[k];U&&(R.append(U.div),b.pages.push(U))}w.append(R)}b.scrollDown=g>=b.previousPageNumber,b.previousPageNumber=g}_scrollUpdate(){this.pagesCount!==0&&this.update()}#w(g,b=null){let{div:w,id:S}=g;if(this._currentPageNumber!==S&&this._setCurrentPageNumber(S),this._scrollMode===_.ScrollMode.PAGE&&(this.#x(),this.update()),!b&&!this.isInPresentationMode){let T=w.offsetLeft+w.clientLeft,R=T+w.clientWidth,{scrollLeft:k,clientWidth:U}=this.container;(this._scrollMode===_.ScrollMode.HORIZONTAL||T<k||R>k+U)&&(b={left:0,top:0})}(0,_.scrollIntoView)(w,b),!this._currentScaleValue&&this._location&&(this._location=null)}#k(g){return g===this._currentScale||Math.abs(g-this._currentScale)<1e-15}#R(g,b,{noScroll:w=!1,preset:S=!1,drawingDelay:T=-1}){if(this._currentScaleValue=b.toString(),this.#k(g)){S&&this.eventBus.dispatch("scalechanging",{source:this,scale:g,presetValue:b});return}this.viewer.style.setProperty("--scale-factor",g*d.PixelsPerInch.PDF_TO_CSS_UNITS);let R=T>=0&&T<1e3;if(this.refresh(!0,{scale:g,drawingDelay:R?T:-1}),R&&(this.#g=setTimeout(()=>{this.#g=null,this.refresh()},T)),this._currentScale=g,!w){let k=this._currentPageNumber,U;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(k=this._location.pageNumber,U=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:k,destArray:U,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:g,presetValue:S?b:void 0}),this.defaultRenderingQueue&&this.update()}get#O(){return this._spreadMode!==_.SpreadMode.NONE&&this._scrollMode!==_.ScrollMode.HORIZONTAL?2:1}#b(g,b){let w=parseFloat(g);if(w>0)b.preset=!1,this.#R(w,g,b);else{let S=this._pages[this._currentPageNumber-1];if(!S)return;let T=_.SCROLLBAR_PADDING,R=_.VERTICAL_PADDING;this.isInPresentationMode?(T=R=4,this._spreadMode!==_.SpreadMode.NONE&&(T*=2)):this.removePageBorders?T=R=0:this._scrollMode===_.ScrollMode.HORIZONTAL&&([T,R]=[R,T]);let k=(this.container.clientWidth-T)/S.width*S.scale/this.#O,U=(this.container.clientHeight-R)/S.height*S.scale;switch(g){case"page-actual":w=1;break;case"page-width":w=k;break;case"page-height":w=U;break;case"page-fit":w=Math.min(k,U);break;case"auto":let G=(0,_.isPortraitOrientation)(S)?k:Math.min(U,k);w=Math.min(_.MAX_AUTO_SCALE,G);break;default:console.error(`#setScale: "${g}" is an unknown zoom value.`);return}b.preset=!0,this.#R(w,g,b)}}#P(){let g=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this.#b(this._currentScaleValue,{noScroll:!0}),this.#w(g)}pageLabelToPageNumber(g){if(!this._pageLabels)return null;let b=this._pageLabels.indexOf(g);return b<0?null:b+1}scrollPageIntoView({pageNumber:g,destArray:b=null,allowNegativeOffset:w=!1,ignoreDestinationZoom:S=!1}){if(!this.pdfDocument)return;let T=Number.isInteger(g)&&this._pages[g-1];if(!T){console.error(`scrollPageIntoView: "${g}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!b){this._setCurrentPageNumber(g,!0);return}let R=0,k=0,U=0,G=0,$,J,Z=T.rotation%180!==0,V=(Z?T.height:T.width)/T.scale/d.PixelsPerInch.PDF_TO_CSS_UNITS,z=(Z?T.width:T.height)/T.scale/d.PixelsPerInch.PDF_TO_CSS_UNITS,I=0;switch(b[1].name){case"XYZ":R=b[2],k=b[3],I=b[4],R=R!==null?R:0,k=k!==null?k:z;break;case"Fit":case"FitB":I="page-fit";break;case"FitH":case"FitBH":k=b[2],I="page-width",k===null&&this._location?(R=this._location.left,k=this._location.top):(typeof k!="number"||k<0)&&(k=z);break;case"FitV":case"FitBV":R=b[2],U=V,G=z,I="page-height";break;case"FitR":R=b[2],k=b[3],U=b[4]-R,G=b[5]-k;let P=_.SCROLLBAR_PADDING,L=_.VERTICAL_PADDING;this.removePageBorders&&(P=L=0),$=(this.container.clientWidth-P)/U/d.PixelsPerInch.PDF_TO_CSS_UNITS,J=(this.container.clientHeight-L)/G/d.PixelsPerInch.PDF_TO_CSS_UNITS,I=Math.min(Math.abs($),Math.abs(J));break;default:console.error(`scrollPageIntoView: "${b[1].name}" is not a valid destination type.`);return}if(S||(I&&I!==this._currentScale?this.currentScaleValue=I:this._currentScale===_.UNKNOWN_SCALE&&(this.currentScaleValue=_.DEFAULT_SCALE_VALUE)),I==="page-fit"&&!b[4]){this.#w(T);return}let y=[T.viewport.convertToViewportPoint(R,k),T.viewport.convertToViewportPoint(R+U,k+G)],C=Math.min(y[0][0],y[1][0]),A=Math.min(y[0][1],y[1][1]);w||(C=Math.max(C,0),A=Math.max(A,0)),this.#w(T,{left:C,top:A})}_updateLocation(g){let b=this._currentScale,w=this._currentScaleValue,S=parseFloat(w)===b?Math.round(b*1e4)/100:w,T=g.id,R=this._pages[T-1],k=this.container,U=R.getPagePoint(k.scrollLeft-g.x,k.scrollTop-g.y),G=Math.round(U[0]),$=Math.round(U[1]),J=`#page=${T}`;this.isInPresentationMode||(J+=`&zoom=${S},${G},${$}`),this._location={pageNumber:T,scale:S,top:$,left:G,rotation:this._pagesRotation,pdfOpenParams:J}}update(){let g=this._getVisiblePages(),b=g.views,w=b.length;if(w===0)return;let S=Math.max(p,2*w+1);this.#e.resize(S,g.ids),this.renderingQueue.renderHighestPriority(g);let T=this._spreadMode===_.SpreadMode.NONE&&(this._scrollMode===_.ScrollMode.PAGE||this._scrollMode===_.ScrollMode.VERTICAL),R=this._currentPageNumber,k=!1;for(let U of b){if(U.percent<100)break;if(U.id===R&&T){k=!0;break}}this._setCurrentPageNumber(k?R:b[0].id),this._updateLocation(g.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(g){return this.container.contains(g)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===_.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===_.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){let g=this._scrollMode===_.ScrollMode.PAGE?this.#p.pages:this._pages,b=this._scrollMode===_.ScrollMode.HORIZONTAL,w=b&&this._isContainerRtl;return(0,_.getVisibleElements)({scrollEl:this.container,views:g,sortByVisibility:!0,horizontal:b,rtl:w})}cleanup(){for(let g of this._pages)g.renderingState!==_.RenderingStates.FINISHED&&g.reset()}_cancelRendering(){for(let g of this._pages)g.cancelRendering()}#T(g){return me(this,null,function*(){if(g.pdfPage)return g.pdfPage;try{let b=yield this.pdfDocument.getPage(g.id);return g.pdfPage||g.setPdfPage(b),this.linkService._cachedPageNumber?.(b.ref)||this.linkService.cachePageRef(g.id,b.ref),b}catch(b){return console.error("Unable to get page for page view",b),null}})}#M(g){if(g.first?.id===1)return!0;if(g.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case _.ScrollMode.PAGE:return this.#p.scrollDown;case _.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}forceRendering(g){let b=g||this._getVisiblePages(),w=this.#M(b),S=this._spreadMode!==_.SpreadMode.NONE&&this._scrollMode!==_.ScrollMode.HORIZONTAL,T=this.renderingQueue.getHighestPriority(b,this._pages,w,S);return T?(this.#T(T).then(()=>{this.renderingQueue.renderView(T)}),!0):!1}get hasEqualPageSizes(){let g=this._pages[0];for(let b=1,w=this._pages.length;b<w;++b){let S=this._pages[b];if(S.width!==g.width||S.height!==g.height)return!1}return!0}getPagesOverview(){let g;return this._pages.map(b=>{let w=b.pdfPage.getViewport({scale:1}),S=(0,_.isPortraitOrientation)(w);if(g===void 0)g=S;else if(this.enablePrintAutoRotate&&S!==g)return{width:w.height,height:w.width,rotation:(w.rotation-90)%360};return{width:w.width,height:w.height,rotation:w.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(g){if(!(g instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${g}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=g,this.refresh(!1,{optionalContentConfigPromise:g}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:g}))}get scrollMode(){return this._scrollMode}set scrollMode(g){if(this._scrollMode!==g){if(!(0,_.isValidScrollMode)(g))throw new Error(`Invalid scroll mode: ${g}`);this.pagesCount>f.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=g,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:g}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(g=null){let b=this._scrollMode,w=this.viewer;w.classList.toggle("scrollHorizontal",b===_.ScrollMode.HORIZONTAL),w.classList.toggle("scrollWrapped",b===_.ScrollMode.WRAPPED),!(!this.pdfDocument||!g)&&(b===_.ScrollMode.PAGE?this.#x():this._previousScrollMode===_.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#b(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(g,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(g){if(this._spreadMode!==g){if(!(0,_.isValidSpreadMode)(g))throw new Error(`Invalid spread mode: ${g}`);this._spreadMode=g,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:g}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(g=null){if(!this.pdfDocument)return;let b=this.viewer,w=this._pages;if(this._scrollMode===_.ScrollMode.PAGE)this.#x();else if(b.textContent="",this._spreadMode===_.SpreadMode.NONE)for(let S of this._pages)b.append(S.div);else{let S=this._spreadMode-1,T=null;for(let R=0,k=w.length;R<k;++R)T===null?(T=document.createElement("div"),T.className="spread",b.append(T)):R%2===S&&(T=T.cloneNode(!1),b.append(T)),T.append(w[R].div)}g&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#b(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(g,!0),this.update())}_getPageAdvance(g,b=!1){switch(this._scrollMode){case _.ScrollMode.WRAPPED:{let{views:w}=this._getVisiblePages(),S=new Map;for(let{id:T,y:R,percent:k,widthPercent:U}of w){if(k===0||U<100)continue;let G=S.get(R);G||S.set(R,G||=[]),G.push(T)}for(let T of S.values()){let R=T.indexOf(g);if(R===-1)continue;let k=T.length;if(k===1)break;if(b)for(let U=R-1,G=0;U>=G;U--){let $=T[U],J=T[U+1]-1;if($<J)return g-J}else for(let U=R+1,G=k;U<G;U++){let $=T[U],J=T[U-1]+1;if($>J)return J-g}if(b){let U=T[0];if(U<g)return g-U+1}else{let U=T[k-1];if(U>g)return U-g+1}break}break}case _.ScrollMode.HORIZONTAL:break;case _.ScrollMode.PAGE:case _.ScrollMode.VERTICAL:{if(this._spreadMode===_.SpreadMode.NONE)break;let w=this._spreadMode-1;if(b&&g%2!==w)break;if(!b&&g%2===w)break;let{views:S}=this._getVisiblePages(),T=b?g-1:g+1;for(let{id:R,percent:k,widthPercent:U}of S)if(R===T){if(k>0&&U===100)return 2;break}break}}return 1}nextPage(){let g=this._currentPageNumber,b=this.pagesCount;if(g>=b)return!1;let w=this._getPageAdvance(g,!1)||1;return this.currentPageNumber=Math.min(g+w,b),!0}previousPage(){let g=this._currentPageNumber;if(g<=1)return!1;let b=this._getPageAdvance(g,!0)||1;return this.currentPageNumber=Math.max(g-b,1),!0}increaseScale({drawingDelay:g,scaleFactor:b,steps:w}={}){if(!this.pdfDocument)return;let S=this._currentScale;if(b>1)S=Math.round(S*b*100)/100;else{w??=1;do S=Math.ceil((S*_.DEFAULT_SCALE_DELTA).toFixed(2)*10)/10;while(--w>0&&S<_.MAX_SCALE)}this.#b(Math.min(_.MAX_SCALE,S),{noScroll:!1,drawingDelay:g})}decreaseScale({drawingDelay:g,scaleFactor:b,steps:w}={}){if(!this.pdfDocument)return;let S=this._currentScale;if(b>0&&b<1)S=Math.round(S*b*100)/100;else{w??=1;do S=Math.floor((S/_.DEFAULT_SCALE_DELTA).toFixed(2)*10)/10;while(--w>0&&S>_.MIN_SCALE)}this.#b(Math.max(_.MIN_SCALE,S),{noScroll:!1,drawingDelay:g})}#C(g=this.container.clientHeight){g!==this.#h&&(this.#h=g,_.docStyle.setProperty("--viewer-container-height",`${g}px`))}#S(g){for(let b of g)if(b.target===this.container){this.#C(Math.floor(b.borderBoxSize[0].blockSize)),this.#s=null;break}}get containerTopLeft(){return this.#s||=[this.container.offsetTop,this.container.offsetLeft]}get annotationEditorMode(){return this.#n?this.#i:d.AnnotationEditorType.DISABLE}set annotationEditorMode({mode:g,editId:b=null}){if(!this.#n)throw new Error("The AnnotationEditor is not enabled.");if(this.#i!==g){if(!h(g))throw new Error(`Invalid AnnotationEditor mode: ${g}`);this.pdfDocument&&(this.#i=g,this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:g}),this.#n.updateMode(g,b))}}set annotationEditorParams({type:g,value:b}){if(!this.#n)throw new Error("The AnnotationEditor is not enabled.");this.#n.updateParams(g,b)}refresh(g=!1,b=Object.create(null)){if(this.pdfDocument){for(let w of this._pages)w.update(b);this.#g!==null&&(clearTimeout(this.#g),this.#g=null),g||this.update()}}}s.PDFViewer=m},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFRenderingQueue=void 0;var d=o(4),_=o(2);let u=3e4;class c{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(l){this.pdfViewer=l}setThumbnailViewer(l){this.pdfThumbnailViewer=l}isHighestPriority(l){return this.highestPriorityPage===l.renderingId}renderHighestPriority(l){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(l)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),u)))}getHighestPriority(l,p,f,h=!1){let v=l.views,m=v.length;if(m===0)return null;for(let S=0;S<m;S++){let T=v[S].view;if(!this.isViewFinished(T))return T}let E=l.first.id,g=l.last.id;if(g-E+1>m){let S=l.ids;for(let T=1,R=g-E;T<R;T++){let k=f?E+T:g-T;if(S.has(k))continue;let U=p[k-1];if(!this.isViewFinished(U))return U}}let b=f?g:E-2,w=p[b];return w&&!this.isViewFinished(w)||h&&(b+=f?1:-1,w=p[b],w&&!this.isViewFinished(w))?w:null}isViewFinished(l){return l.renderingState===_.RenderingStates.FINISHED}renderView(l){switch(l.renderingState){case _.RenderingStates.FINISHED:return!1;case _.RenderingStates.PAUSED:this.highestPriorityPage=l.renderingId,l.resume();break;case _.RenderingStates.RUNNING:this.highestPriorityPage=l.renderingId;break;case _.RenderingStates.INITIAL:this.highestPriorityPage=l.renderingId,l.draw().finally(()=>{this.renderHighestPriority()}).catch(p=>{p instanceof d.RenderingCancelledException||console.error(`renderView: "${p}"`)});break}return!0}}s.PDFRenderingQueue=c}],e={};function r(i){var s=e[i];if(s!==void 0)return s.exports;var o=e[i]={exports:{}};return n[i](o,o.exports,r),o.exports}var t={};return(()=>{var i=t;Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return _.AnnotationLayerBuilder}}),Object.defineProperty(i,"DownloadManager",{enumerable:!0,get:function(){return u.DownloadManager}}),Object.defineProperty(i,"EventBus",{enumerable:!0,get:function(){return c.EventBus}}),Object.defineProperty(i,"FindState",{enumerable:!0,get:function(){return s.FindState}}),Object.defineProperty(i,"GenericL10n",{enumerable:!0,get:function(){return a.GenericL10n}}),Object.defineProperty(i,"LinkTarget",{enumerable:!0,get:function(){return o.LinkTarget}}),Object.defineProperty(i,"NullL10n",{enumerable:!0,get:function(){return l.NullL10n}}),Object.defineProperty(i,"PDFFindController",{enumerable:!0,get:function(){return s.PDFFindController}}),Object.defineProperty(i,"PDFHistory",{enumerable:!0,get:function(){return p.PDFHistory}}),Object.defineProperty(i,"PDFLinkService",{enumerable:!0,get:function(){return o.PDFLinkService}}),Object.defineProperty(i,"PDFPageView",{enumerable:!0,get:function(){return f.PDFPageView}}),Object.defineProperty(i,"PDFScriptingManager",{enumerable:!0,get:function(){return h.PDFScriptingManager}}),Object.defineProperty(i,"PDFSinglePageViewer",{enumerable:!0,get:function(){return v.PDFSinglePageViewer}}),Object.defineProperty(i,"PDFViewer",{enumerable:!0,get:function(){return m.PDFViewer}}),Object.defineProperty(i,"ProgressBar",{enumerable:!0,get:function(){return d.ProgressBar}}),Object.defineProperty(i,"RenderingStates",{enumerable:!0,get:function(){return d.RenderingStates}}),Object.defineProperty(i,"ScrollMode",{enumerable:!0,get:function(){return d.ScrollMode}}),Object.defineProperty(i,"SimpleLinkService",{enumerable:!0,get:function(){return o.SimpleLinkService}}),Object.defineProperty(i,"SpreadMode",{enumerable:!0,get:function(){return d.SpreadMode}}),Object.defineProperty(i,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return E.StructTreeLayerBuilder}}),Object.defineProperty(i,"TextLayerBuilder",{enumerable:!0,get:function(){return g.TextLayerBuilder}}),Object.defineProperty(i,"XfaLayerBuilder",{enumerable:!0,get:function(){return b.XfaLayerBuilder}}),Object.defineProperty(i,"parseQueryString",{enumerable:!0,get:function(){return d.parseQueryString}});var s=r(1),o=r(5),d=r(2),_=r(6),u=r(8),c=r(9),a=r(10),l=r(7),p=r(12),f=r(13),h=r(21),v=r(24),m=r(25),E=r(16),g=r(19),b=r(20);let w="3.11.174",S="ce8716743"})(),t})())});var Kn=class{},es=class{},qi=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(r=>{let t=r.indexOf(":");if(t>0){let i=r.slice(0,t),s=i.toLowerCase(),o=r.slice(t+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((r,t)=>{this.setHeaderEntries(t,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([r,t])=>{this.setHeaderEntries(r,t)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let r=this.headers.get(e.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,r){return this.clone({name:e,value:r,op:"a"})}set(e,r){return this.clone({name:e,value:r,op:"s"})}delete(e,r){return this.clone({name:e,value:r,op:"d"})}maybeSetNormalizedName(e,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(r=>{this.headers.set(r,e.headers.get(r)),this.normalizedNames.set(r,e.normalizedNames.get(r))})}clone(e){let r=new n;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([e]),r}applyUpdate(e){let r=e.name.toLowerCase();switch(e.op){case"a":case"s":let t=e.value;if(typeof t=="string"&&(t=[t]),t.length===0)return;this.maybeSetNormalizedName(e.name,r);let i=(e.op==="a"?this.headers.get(r):void 0)||[];i.push(...t),this.headers.set(r,i);break;case"d":let s=e.value;if(!s)this.headers.delete(r),this.normalizedNames.delete(r);else{let o=this.headers.get(r);if(!o)return;o=o.filter(d=>s.indexOf(d)===-1),o.length===0?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,o)}break}}setHeaderEntries(e,r){let t=(Array.isArray(r)?r:[r]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,t),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>e(this.normalizedNames.get(r),this.headers.get(r)))}};var wo=class{encodeKey(e){return ic(e)}encodeValue(e){return ic(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function nu(n,e){let r=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,d]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],_=r.get(o)||[];_.push(d),r.set(o,_)}),r}var ru=/%(\d[a-f0-9])/gi,su={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ic(n){return encodeURIComponent(n).replace(ru,(e,r)=>su[r]??e)}function Jr(n){return`${n}`}var Ti=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new wo,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=nu(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(r=>{let t=e.fromObject[r],i=Array.isArray(t)?t.map(Jr):[Jr(t)];this.map.set(r,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let r=this.map.get(e);return r?r[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,r){return this.clone({param:e,value:r,op:"a"})}appendAll(e){let r=[];return Object.keys(e).forEach(t=>{let i=e[t];Array.isArray(i)?i.forEach(s=>{r.push({param:t,value:s,op:"a"})}):r.push({param:t,value:i,op:"a"})}),this.clone(r)}set(e,r){return this.clone({param:e,value:r,op:"s"})}delete(e,r){return this.clone({param:e,value:r,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let r=this.encoder.encodeKey(e);return this.map.get(e).map(t=>r+"="+this.encoder.encodeValue(t)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let r=new n({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(e),r}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let r=(e.op==="a"?this.map.get(e.param):void 0)||[];r.push(Jr(e.value)),this.map.set(e.param,r);break;case"d":if(e.value!==void 0){let t=this.map.get(e.param)||[],i=t.indexOf(Jr(e.value));i!==-1&&t.splice(i,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Co=class{constructor(){this.map=new Map}set(e,r){return this.map.set(e,r),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function ou(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function nc(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function rc(n){return typeof Blob<"u"&&n instanceof Blob}function sc(n){return typeof FormData<"u"&&n instanceof FormData}function au(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Yn=class n{constructor(e,r,t,i){this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(ou(this.method)||i?(this.body=t!==void 0?t:null,s=i):s=t,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new qi,this.context??=new Co,!this.params)this.params=new Ti,this.urlWithParams=r;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=r;else{let d=r.indexOf("?"),_=d===-1?"?":d<r.length-1?"&":"";this.urlWithParams=r+_+o}}}serializeBody(){return this.body===null?null:nc(this.body)||rc(this.body)||sc(this.body)||au(this.body)||typeof this.body=="string"?this.body:this.body instanceof Ti?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||sc(this.body)?null:rc(this.body)?this.body.type||null:nc(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ti?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let r=e.method||this.method,t=e.url||this.url,i=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,d=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,_=e.headers||this.headers,u=e.params||this.params,c=e.context??this.context;return e.setHeaders!==void 0&&(_=Object.keys(e.setHeaders).reduce((a,l)=>a.set(l,e.setHeaders[l]),_)),e.setParams&&(u=Object.keys(e.setParams).reduce((a,l)=>a.set(l,e.setParams[l]),u)),new n(r,t,s,{params:u,headers:_,context:c,reportProgress:d,responseType:i,withCredentials:o})}},_n=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(_n||{}),Zn=class{constructor(e,r=is.Ok,t="OK"){this.headers=e.headers||new qi,this.status=e.status!==void 0?e.status:r,this.statusText=e.statusText||t,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Ao=class n extends Zn{constructor(e={}){super(e),this.type=_n.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ts=class n extends Zn{constructor(e={}){super(e),this.type=_n.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},vn=class extends Zn{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},is=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(is||{});function xo(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Eo=(()=>{let e=class e{constructor(t){this.handler=t}request(t,i,s={}){let o;if(t instanceof Yn)o=t;else{let u;s.headers instanceof qi?u=s.headers:u=new qi(s.headers);let c;s.params&&(s.params instanceof Ti?c=s.params:c=new Ti({fromObject:s.params})),o=new Yn(t,i,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:c,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let d=Pe(o).pipe(Hi(u=>this.handler.handle(u)));if(t instanceof Yn||s.observe==="events")return d;let _=d.pipe(tt(u=>u instanceof ts));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return _.pipe(ke(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return _.pipe(ke(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return _.pipe(ke(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return _.pipe(ke(u=>u.body))}case"response":return _;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new Ti().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,s={}){return this.request("PATCH",t,xo(s,i))}post(t,i,s={}){return this.request("POST",t,xo(s,i))}put(t,i,s={}){return this.request("PUT",t,xo(s,i))}};e.\u0275fac=function(i){return new(i||e)(ue(Kn))},e.\u0275prov=be({token:e,factory:e.\u0275fac});let n=e;return n})();function cc(n,e){return e(n)}function lu(n,e){return(r,t)=>e.intercept(r,{handle:i=>n(i,t)})}function cu(n,e,r){return(t,i)=>gi(r,()=>e(t,s=>n(s,i)))}var So=new Se(""),Po=new Se(""),du=new Se(""),hu=new Se("");function uu(){let n=null;return(e,r)=>{n===null&&(n=(ye(So,{optional:!0})??[]).reduceRight(lu,cc));let t=ye(Wn),i=t.add();return n(e,r).pipe(Wi(()=>t.remove(i)))}}var oc=(()=>{let e=class e extends Kn{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=ye(Wn);let s=ye(hu,{optional:!0});this.backend=s??t}handle(t){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Po),...this.injector.get(du,[])]));this.chain=s.reduceRight((o,d)=>cu(o,d,this.injector),cc)}let i=this.pendingTasks.add();return this.chain(t,s=>this.backend.handle(s)).pipe(Wi(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(ue(es),ue(an))},e.\u0275prov=be({token:e,factory:e.\u0275fac});let n=e;return n})();var fu=/^\)\]\}',?\n/;function pu(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var ac=(()=>{let e=class e{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new Je(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?gt(i.\u0275loadImpl()):Pe(null)).pipe(ht(()=>new ui(o=>{let d=i.build();if(d.open(t.method,t.urlWithParams),t.withCredentials&&(d.withCredentials=!0),t.headers.forEach((v,m)=>d.setRequestHeader(v,m.join(","))),t.headers.has("Accept")||d.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let v=t.detectContentTypeHeader();v!==null&&d.setRequestHeader("Content-Type",v)}if(t.responseType){let v=t.responseType.toLowerCase();d.responseType=v!=="json"?v:"text"}let _=t.serializeBody(),u=null,c=()=>{if(u!==null)return u;let v=d.statusText||"OK",m=new qi(d.getAllResponseHeaders()),E=pu(d)||t.url;return u=new Ao({headers:m,status:d.status,statusText:v,url:E}),u},a=()=>{let{headers:v,status:m,statusText:E,url:g}=c(),b=null;m!==is.NoContent&&(b=typeof d.response>"u"?d.responseText:d.response),m===0&&(m=b?is.Ok:0);let w=m>=200&&m<300;if(t.responseType==="json"&&typeof b=="string"){let S=b;b=b.replace(fu,"");try{b=b!==""?JSON.parse(b):null}catch(T){b=S,w&&(w=!1,b={error:T,text:b})}}w?(o.next(new ts({body:b,headers:v,status:m,statusText:E,url:g||void 0})),o.complete()):o.error(new vn({error:b,headers:v,status:m,statusText:E,url:g||void 0}))},l=v=>{let{url:m}=c(),E=new vn({error:v,status:d.status||0,statusText:d.statusText||"Unknown Error",url:m||void 0});o.error(E)},p=!1,f=v=>{p||(o.next(c()),p=!0);let m={type:_n.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(m.total=v.total),t.responseType==="text"&&d.responseText&&(m.partialText=d.responseText),o.next(m)},h=v=>{let m={type:_n.UploadProgress,loaded:v.loaded};v.lengthComputable&&(m.total=v.total),o.next(m)};return d.addEventListener("load",a),d.addEventListener("error",l),d.addEventListener("timeout",l),d.addEventListener("abort",l),t.reportProgress&&(d.addEventListener("progress",f),_!==null&&d.upload&&d.upload.addEventListener("progress",h)),d.send(_),o.next({type:_n.Sent}),()=>{d.removeEventListener("error",l),d.removeEventListener("abort",l),d.removeEventListener("load",a),d.removeEventListener("timeout",l),t.reportProgress&&(d.removeEventListener("progress",f),_!==null&&d.upload&&d.upload.removeEventListener("progress",h)),d.readyState!==d.DONE&&d.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(ue(Zr))},e.\u0275prov=be({token:e,factory:e.\u0275fac});let n=e;return n})(),dc=new Se(""),mu="XSRF-TOKEN",gu=new Se("",{providedIn:"root",factory:()=>mu}),_u="X-XSRF-TOKEN",vu=new Se("",{providedIn:"root",factory:()=>_u}),ns=class{},bu=(()=>{let e=class e{constructor(t,i,s){this.doc=t,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Kr(t,this.cookieName),this.lastCookieString=t),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(ue(Ne),ue(pi),ue(gu))},e.\u0275prov=be({token:e,factory:e.\u0275fac});let n=e;return n})();function yu(n,e){let r=n.url.toLowerCase();if(!ye(dc)||n.method==="GET"||n.method==="HEAD"||r.startsWith("http://")||r.startsWith("https://"))return e(n);let t=ye(ns).getToken(),i=ye(vu);return t!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,t)})),e(n)}var hc=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(hc||{});function xu(n,e){return{\u0275kind:n,\u0275providers:e}}function To(...n){let e=[Eo,ac,oc,{provide:Kn,useExisting:oc},{provide:es,useExisting:ac},{provide:Po,useValue:yu,multi:!0},{provide:dc,useValue:!0},{provide:ns,useClass:bu}];for(let r of n)e.push(...r.\u0275providers);return Gi(e)}var lc=new Se("");function Mo(){return xu(hc.LegacyInterceptors,[{provide:lc,useFactory:uu},{provide:Po,useExisting:lc,multi:!0}])}var uc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=He({providers:[To(Mo())]});let n=e;return n})();var Ro=class extends Xl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ko=class n extends Ro{static makeCurrent(){ql(new n)}onAndCancel(e,r,t){return e.addEventListener(r,t),()=>{e.removeEventListener(r,t)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,r){return r=r||this.getDefaultDocument(),r.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return r==="window"?window:r==="document"?e:r==="body"?e.body:null}getBaseHref(e){let r=Eu();return r==null?null:Su(r)}resetBaseElement(){Qn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Kr(document.cookie,e)}},Qn=null;function Eu(){return Qn=Qn||document.querySelector("base"),Qn?Qn.getAttribute("href"):null}function Su(n){return new URL(n,document.baseURI).pathname}var Pu=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=be({token:e,factory:e.\u0275fac});let n=e;return n})(),Oo=new Se(""),mc=(()=>{let e=class e{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,s){return this._findPluginFor(i).addEventListener(t,i,s)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new Je(5101,!1);return this._eventNameToPlugin.set(t,i),i}};e.\u0275fac=function(i){return new(i||e)(ue(Oo),ue(De))},e.\u0275prov=be({token:e,factory:e.\u0275fac});let n=e;return n})(),rs=class{constructor(e){this._doc=e}},Do="ng-app-id",gc=(()=>{let e=class e{constructor(t,i,s,o={}){this.doc=t,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yo(o),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(s=>s.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Do}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(t,i){let s=this.styleRef;if(s.has(t)){let o=s.get(t);return o.usage+=i,o.usage}return s.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===t)return s.delete(i),o.removeAttribute(Do),o;{let d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=i,this.platformIsServer&&d.setAttribute(Do,this.appId),t.appendChild(d),d}}addStyleToHost(t,i){let s=this.getStyleElement(t,i),o=this.styleRef,d=o.get(i)?.elements;d?d.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ue(Ne),ue(Wr),ue(Un,8),ue(pi))},e.\u0275prov=be({token:e,factory:e.\u0275fac});let n=e;return n})(),Io={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},No=/%COMP%/g,_c="%COMP%",Tu=`_nghost-${_c}`,Mu=`_ngcontent-${_c}`,Du=!0,Iu=new Se("",{providedIn:"root",factory:()=>Du});function Ru(n){return Mu.replace(No,n)}function ku(n){return Tu.replace(No,n)}function vc(n,e){return e.map(r=>r.replace(No,n))}var ss=(()=>{let e=class e{constructor(t,i,s,o,d,_,u,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=d,this.platformId=_,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=yo(_),this.defaultRenderer=new Jn(t,d,u,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Bn.ShadowDom&&(i=Be(pe({},i),{encapsulation:Bn.Emulated}));let s=this.getOrCreateRenderer(t,i);return s instanceof os?s.applyToHost(t):s instanceof er&&s.applyStyles(),s}getOrCreateRenderer(t,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let d=this.doc,_=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,a=this.removeStylesOnCompDestroy,l=this.platformIsServer;switch(i.encapsulation){case Bn.Emulated:o=new os(u,c,i,this.appId,a,d,_,l);break;case Bn.ShadowDom:return new Fo(u,c,t,i,d,_,this.nonce,l);default:o=new er(u,c,i,a,d,_,l);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ue(mc),ue(gc),ue(Wr),ue(Iu),ue(Ne),ue(pi),ue(De),ue(Un))},e.\u0275prov=be({token:e,factory:e.\u0275fac});let n=e;return n})(),Jn=class{constructor(e,r,t,i){this.eventManager=e,this.doc=r,this.ngZone=t,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,r){return r?this.doc.createElementNS(Io[r]||r,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,r){(fc(e)?e.content:e).appendChild(r)}insertBefore(e,r,t){e&&(fc(e)?e.content:e).insertBefore(r,t)}removeChild(e,r){e&&e.removeChild(r)}selectRootElement(e,r){let t=typeof e=="string"?this.doc.querySelector(e):e;if(!t)throw new Je(-5104,!1);return r||(t.textContent=""),t}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,t,i){if(i){r=i+":"+r;let s=Io[i];s?e.setAttributeNS(s,r,t):e.setAttribute(r,t)}else e.setAttribute(r,t)}removeAttribute(e,r,t){if(t){let i=Io[t];i?e.removeAttributeNS(i,r):e.removeAttribute(`${t}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,t,i){i&(Hn.DashCase|Hn.Important)?e.style.setProperty(r,t,i&Hn.Important?"important":""):e.style[r]=t}removeStyle(e,r,t){t&Hn.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,t){e!=null&&(e[r]=t)}setValue(e,r){e.nodeValue=r}listen(e,r,t){if(typeof e=="string"&&(e=un().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${r}`);return this.eventManager.addEventListener(e,r,this.decoratePreventDefault(t))}decoratePreventDefault(e){return r=>{if(r==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(r)):e(r))===!1&&r.preventDefault()}}};function fc(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Fo=class extends Jn{constructor(e,r,t,i,s,o,d,_){super(e,s,o,_),this.sharedStylesHost=r,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=vc(i.id,i.styles);for(let c of u){let a=document.createElement("style");d&&a.setAttribute("nonce",d),a.textContent=c,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,t){return super.insertBefore(this.nodeOrShadowRoot(e),r,t)}removeChild(e,r){return super.removeChild(this.nodeOrShadowRoot(e),r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},er=class extends Jn{constructor(e,r,t,i,s,o,d,_){super(e,s,o,d),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=_?vc(_,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},os=class extends er{constructor(e,r,t,i,s,o,d,_){let u=i+"-"+t.id;super(e,r,t,s,o,d,_,u),this.contentAttr=Ru(u),this.hostAttr=ku(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,r){let t=super.createElement(e,r);return super.setAttribute(t,this.contentAttr,""),t}},Ou=(()=>{let e=class e extends rs{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,s){return t.addEventListener(i,s,!1),()=>this.removeEventListener(t,i,s)}removeEventListener(t,i,s){return t.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(ue(Ne))},e.\u0275prov=be({token:e,factory:e.\u0275fac});let n=e;return n})(),pc=["alt","control","meta","shift"],Fu={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Nu=(()=>{let e=class e extends rs{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,i,s){let o=e.parseEventName(i),d=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>un().onAndCancel(t,o.domEventName,d))}static parseEventName(t){let i=t.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),d="",_=i.indexOf("code");if(_>-1&&(i.splice(_,1),d="code."),pc.forEach(c=>{let a=i.indexOf(c);a>-1&&(i.splice(a,1),d+=c+".")}),d+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=d,u}static matchEventFullKeyCode(t,i){let s=Fu[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(s=t.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),pc.forEach(d=>{if(d!==s){let _=Lu[d];_(t)&&(o+=d+".")}}),o+=s,o===i)}static eventCallback(t,i,s){return o=>{e.matchEventFullKeyCode(o,t)&&s.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}};e.\u0275fac=function(i){return new(i||e)(ue(Ne))},e.\u0275prov=be({token:e,factory:e.\u0275fac});let n=e;return n})();function bc(n,e){return $l(pe({rootComponent:n},Vu(e)))}function Vu(n){return{appProviders:[...Hu,...n?.providers??[]],platformProviders:zu}}function ju(){ko.makeCurrent()}function Bu(){return new uo}function Uu(){return Fl(document),document}var zu=[{provide:pi,useValue:Ql},{provide:Nl,useValue:ju,multi:!0},{provide:Ne,useFactory:Uu,deps:[]}];var Hu=[{provide:Vl,useValue:"root"},{provide:uo,useFactory:Bu,deps:[]},{provide:Oo,useClass:Ou,multi:!0,deps:[Ne,De,pi]},{provide:Oo,useClass:Nu,multi:!0,deps:[Ne]},ss,gc,mc,{provide:$r,useExisting:ss},{provide:Zr,useClass:Pu,deps:[]},[]];var yc=(()=>{let e=class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}};e.\u0275fac=function(i){return new(i||e)(ue(Ne))},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Ie="primary",mr=Symbol("RouteTitle"),zo=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function Cn(n){return new zo(n)}function Gu(n,e,r){let t=r.path.split("/");if(t.length>n.length||r.pathMatch==="full"&&(e.hasChildren()||t.length<n.length))return null;let i={};for(let s=0;s<t.length;s++){let o=t[s],d=n[s];if(o.startsWith(":"))i[o.substring(1)]=d;else if(o!==d.path)return null}return{consumed:n.slice(0,t.length),posParams:i}}function $u(n,e){if(n.length!==e.length)return!1;for(let r=0;r<n.length;++r)if(!ti(n[r],e[r]))return!1;return!0}function ti(n,e){let r=n?Ho(n):void 0,t=e?Ho(e):void 0;if(!r||!t||r.length!=t.length)return!1;let i;for(let s=0;s<r.length;s++)if(i=r[s],!Sc(n[i],e[i]))return!1;return!0}function Ho(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Sc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let r=[...n].sort(),t=[...e].sort();return r.every((i,s)=>t[s]===i)}else return n===e}function Pc(n){return n.length>0?n[n.length-1]:null}function Ri(n){return Ur(n)?n:Yr(n)?gt(Promise.resolve(n)):Pe(n)}var qu={exact:Mc,subset:Dc},Tc={exact:Xu,subset:Yu,ignored:()=>!0};function xc(n,e,r){return qu[r.paths](n.root,e.root,r.matrixParams)&&Tc[r.queryParams](n.queryParams,e.queryParams)&&!(r.fragment==="exact"&&n.fragment!==e.fragment)}function Xu(n,e){return ti(n,e)}function Mc(n,e,r){if(!Yi(n.segments,e.segments)||!cs(n.segments,e.segments,r)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let t in e.children)if(!n.children[t]||!Mc(n.children[t],e.children[t],r))return!1;return!0}function Yu(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(r=>Sc(n[r],e[r]))}function Dc(n,e,r){return Ic(n,e,e.segments,r)}function Ic(n,e,r,t){if(n.segments.length>r.length){let i=n.segments.slice(0,r.length);return!(!Yi(i,r)||e.hasChildren()||!cs(i,r,t))}else if(n.segments.length===r.length){if(!Yi(n.segments,r)||!cs(n.segments,r,t))return!1;for(let i in e.children)if(!n.children[i]||!Dc(n.children[i],e.children[i],t))return!1;return!0}else{let i=r.slice(0,n.segments.length),s=r.slice(n.segments.length);return!Yi(n.segments,i)||!cs(n.segments,i,t)||!n.children[Ie]?!1:Ic(n.children[Ie],e,s,t)}}function cs(n,e,r){return e.every((t,i)=>Tc[r](n[i].parameters,t.parameters))}var Mi=class{constructor(e=new $e([],{}),r={},t=null){this.root=e,this.queryParams=r,this.fragment=t}get queryParamMap(){return this._queryParamMap??=Cn(this.queryParams),this._queryParamMap}toString(){return Qu.serialize(this)}},$e=class{constructor(e,r){this.segments=e,this.children=r,this.parent=null,Object.values(r).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ds(this)}},Xi=class{constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap??=Cn(this.parameters),this._parameterMap}toString(){return kc(this)}};function Ku(n,e){return Yi(n,e)&&n.every((r,t)=>ti(r.parameters,e[t].parameters))}function Yi(n,e){return n.length!==e.length?!1:n.every((r,t)=>r.path===e[t].path)}function Zu(n,e){let r=[];return Object.entries(n.children).forEach(([t,i])=>{t===Ie&&(r=r.concat(e(i,t)))}),Object.entries(n.children).forEach(([t,i])=>{t!==Ie&&(r=r.concat(e(i,t)))}),r}var ma=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=be({token:e,factory:()=>new us,providedIn:"root"});let n=e;return n})(),us=class{parse(e){let r=new Go(e);return new Mi(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){let r=`/${tr(e.root,!0)}`,t=tf(e.queryParams),i=typeof e.fragment=="string"?`#${Ju(e.fragment)}`:"";return`${r}${t}${i}`}},Qu=new us;function ds(n){return n.segments.map(e=>kc(e)).join("/")}function tr(n,e){if(!n.hasChildren())return ds(n);if(e){let r=n.children[Ie]?tr(n.children[Ie],!1):"",t=[];return Object.entries(n.children).forEach(([i,s])=>{i!==Ie&&t.push(`${i}:${tr(s,!1)}`)}),t.length>0?`${r}(${t.join("//")})`:r}else{let r=Zu(n,(t,i)=>i===Ie?[tr(n.children[Ie],!1)]:[`${i}:${tr(t,!1)}`]);return Object.keys(n.children).length===1&&n.children[Ie]!=null?`${ds(n)}/${r[0]}`:`${ds(n)}/(${r.join("//")})`}}function Rc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function as(n){return Rc(n).replace(/%3B/gi,";")}function Ju(n){return encodeURI(n)}function Wo(n){return Rc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hs(n){return decodeURIComponent(n)}function wc(n){return hs(n.replace(/\+/g,"%20"))}function kc(n){return`${Wo(n.path)}${ef(n.parameters)}`}function ef(n){return Object.entries(n).map(([e,r])=>`;${Wo(e)}=${Wo(r)}`).join("")}function tf(n){let e=Object.entries(n).map(([r,t])=>Array.isArray(t)?t.map(i=>`${as(r)}=${as(i)}`).join("&"):`${as(r)}=${as(t)}`).filter(r=>r);return e.length?`?${e.join("&")}`:""}var nf=/^[^\/()?;#]+/;function Vo(n){let e=n.match(nf);return e?e[0]:""}var rf=/^[^\/()?;=#]+/;function sf(n){let e=n.match(rf);return e?e[0]:""}var of=/^[^=?&#]+/;function af(n){let e=n.match(of);return e?e[0]:""}var lf=/^[^&#]+/;function cf(n){let e=n.match(lf);return e?e[0]:""}var Go=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(t[Ie]=new $e(e,r)),t}parseSegment(){let e=Vo(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Je(4009,!1);return this.capture(e),new Xi(hs(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let r=sf(this.remaining);if(!r)return;this.capture(r);let t="";if(this.consumeOptional("=")){let i=Vo(this.remaining);i&&(t=i,this.capture(t))}e[hs(r)]=hs(t)}parseQueryParam(e){let r=af(this.remaining);if(!r)return;this.capture(r);let t="";if(this.consumeOptional("=")){let o=cf(this.remaining);o&&(t=o,this.capture(t))}let i=wc(r),s=wc(t);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let t=Vo(this.remaining),i=this.remaining[t.length];if(i!=="/"&&i!==")"&&i!==";")throw new Je(4010,!1);let s;t.indexOf(":")>-1?(s=t.slice(0,t.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ie);let o=this.parseChildren();r[s]=Object.keys(o).length===1?o[Ie]:new $e([],o),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Je(4011,!1)}};function Oc(n){return n.segments.length>0?new $e([],{[Ie]:n}):n}function Fc(n){let e={};for(let[t,i]of Object.entries(n.children)){let s=Fc(i);if(t===Ie&&s.segments.length===0&&s.hasChildren())for(let[o,d]of Object.entries(s.children))e[o]=d;else(s.segments.length>0||s.hasChildren())&&(e[t]=s)}let r=new $e(n.segments,e);return df(r)}function df(n){if(n.numberOfChildren===1&&n.children[Ie]){let e=n.children[Ie];return new $e(n.segments.concat(e.segments),e.children)}return n}function An(n){return n instanceof Mi}function hf(n,e,r=null,t=null){let i=Lc(n);return Nc(i,e,r,t)}function Lc(n){let e;function r(s){let o={};for(let _ of s.children){let u=r(_);o[_.outlet]=u}let d=new $e(s.url,o);return s===n&&(e=d),d}let t=r(n.root),i=Oc(t);return e??i}function Nc(n,e,r,t){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return jo(i,i,i,r,t);let s=uf(e);if(s.toRoot())return jo(i,i,new $e([],{}),r,t);let o=ff(s,i,n),d=o.processChildren?rr(o.segmentGroup,o.index,s.commands):jc(o.segmentGroup,o.index,s.commands);return jo(i,o.segmentGroup,d,r,t)}function fs(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ar(n){return typeof n=="object"&&n!=null&&n.outlets}function jo(n,e,r,t,i){let s={};t&&Object.entries(t).forEach(([_,u])=>{s[_]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`});let o;n===e?o=r:o=Vc(n,e,r);let d=Oc(Fc(o));return new Mi(d,s,i)}function Vc(n,e,r){let t={};return Object.entries(n.children).forEach(([i,s])=>{s===e?t[i]=r:t[i]=Vc(s,e,r)}),new $e(n.segments,t)}var ps=class{constructor(e,r,t){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=t,e&&t.length>0&&fs(t[0]))throw new Je(4003,!1);let i=t.find(ar);if(i&&i!==Pc(t))throw new Je(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function uf(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new ps(!0,0,n);let e=0,r=!1,t=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let d={};return Object.entries(s.outlets).forEach(([_,u])=>{d[_]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:d}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((d,_)=>{_==0&&d==="."||(_==0&&d===""?r=!0:d===".."?e++:d!=""&&i.push(d))}),i):[...i,s]},[]);return new ps(r,e,t)}var xn=class{constructor(e,r,t){this.segmentGroup=e,this.processChildren=r,this.index=t}};function ff(n,e,r){if(n.isAbsolute)return new xn(e,!0,0);if(!r)return new xn(e,!1,NaN);if(r.parent===null)return new xn(r,!0,0);let t=fs(n.commands[0])?0:1,i=r.segments.length-1+t;return pf(r,i,n.numberOfDoubleDots)}function pf(n,e,r){let t=n,i=e,s=r;for(;s>i;){if(s-=i,t=t.parent,!t)throw new Je(4005,!1);i=t.segments.length}return new xn(t,!1,i-s)}function mf(n){return ar(n[0])?n[0].outlets:{[Ie]:n}}function jc(n,e,r){if(n??=new $e([],{}),n.segments.length===0&&n.hasChildren())return rr(n,e,r);let t=gf(n,e,r),i=r.slice(t.commandIndex);if(t.match&&t.pathIndex<n.segments.length){let s=new $e(n.segments.slice(0,t.pathIndex),{});return s.children[Ie]=new $e(n.segments.slice(t.pathIndex),n.children),rr(s,0,i)}else return t.match&&i.length===0?new $e(n.segments,{}):t.match&&!n.hasChildren()?$o(n,e,r):t.match?rr(n,0,i):$o(n,e,r)}function rr(n,e,r){if(r.length===0)return new $e(n.segments,{});{let t=mf(r),i={};if(Object.keys(t).some(s=>s!==Ie)&&n.children[Ie]&&n.numberOfChildren===1&&n.children[Ie].segments.length===0){let s=rr(n.children[Ie],e,r);return new $e(n.segments,s.children)}return Object.entries(t).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=jc(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{t[s]===void 0&&(i[s]=o)}),new $e(n.segments,i)}}function gf(n,e,r){let t=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(t>=r.length)return s;let o=n.segments[i],d=r[t];if(ar(d))break;let _=`${d}`,u=t<r.length-1?r[t+1]:null;if(i>0&&_===void 0)break;if(_&&u&&typeof u=="object"&&u.outlets===void 0){if(!Ac(_,u,o))return s;t+=2}else{if(!Ac(_,{},o))return s;t++}i++}return{match:!0,pathIndex:i,commandIndex:t}}function $o(n,e,r){let t=n.segments.slice(0,e),i=0;for(;i<r.length;){let s=r[i];if(ar(s)){let _=_f(s.outlets);return new $e(t,_)}if(i===0&&fs(r[0])){let _=n.segments[e];t.push(new Xi(_.path,Cc(r[0]))),i++;continue}let o=ar(s)?s.outlets[Ie]:`${s}`,d=i<r.length-1?r[i+1]:null;o&&d&&fs(d)?(t.push(new Xi(o,Cc(d))),i+=2):(t.push(new Xi(o,{})),i++)}return new $e(t,{})}function _f(n){let e={};return Object.entries(n).forEach(([r,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(e[r]=$o(new $e([],{}),0,t))}),e}function Cc(n){let e={};return Object.entries(n).forEach(([r,t])=>e[r]=`${t}`),e}function Ac(n,e,r){return n==r.path&&ti(e,r.parameters)}var sr="imperative",Ct=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ct||{}),Gt=class{constructor(e,r){this.id=e,this.url=r}},lr=class extends Gt{constructor(e,r,t="imperative",i=null){super(e,r),this.type=Ct.NavigationStart,this.navigationTrigger=t,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Di=class extends Gt{constructor(e,r,t){super(e,r),this.urlAfterRedirects=t,this.type=Ct.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Wt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Wt||{}),qo=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(qo||{}),Ii=class extends Gt{constructor(e,r,t,i){super(e,r),this.reason=t,this.code=i,this.type=Ct.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ki=class extends Gt{constructor(e,r,t,i){super(e,r),this.reason=t,this.code=i,this.type=Ct.NavigationSkipped}},cr=class extends Gt{constructor(e,r,t,i){super(e,r),this.error=t,this.target=i,this.type=Ct.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ms=class extends Gt{constructor(e,r,t,i){super(e,r),this.urlAfterRedirects=t,this.state=i,this.type=Ct.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xo=class extends Gt{constructor(e,r,t,i){super(e,r),this.urlAfterRedirects=t,this.state=i,this.type=Ct.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yo=class extends Gt{constructor(e,r,t,i,s){super(e,r),this.urlAfterRedirects=t,this.state=i,this.shouldActivate=s,this.type=Ct.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ko=class extends Gt{constructor(e,r,t,i){super(e,r),this.urlAfterRedirects=t,this.state=i,this.type=Ct.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zo=class extends Gt{constructor(e,r,t,i){super(e,r),this.urlAfterRedirects=t,this.state=i,this.type=Ct.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qo=class{constructor(e){this.route=e,this.type=Ct.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Jo=class{constructor(e){this.route=e,this.type=Ct.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ea=class{constructor(e){this.snapshot=e,this.type=Ct.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ta=class{constructor(e){this.snapshot=e,this.type=Ct.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ia=class{constructor(e){this.snapshot=e,this.type=Ct.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},na=class{constructor(e){this.snapshot=e,this.type=Ct.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var dr=class{},hr=class{constructor(e){this.url=e}};var ra=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new xs,this.attachRef=null}},xs=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){let s=this.getOrCreateContext(t);s.outlet=i,this.contexts.set(t,s)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new ra,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),gs=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){let r=sa(e,this._root);return r?r.children.map(t=>t.value):[]}firstChild(e){let r=sa(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){let r=oa(e,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return oa(e,this._root).map(r=>r.value)}};function sa(n,e){if(n===e.value)return e;for(let r of e.children){let t=sa(n,r);if(t)return t}return null}function oa(n,e){if(n===e.value)return[e];for(let r of e.children){let t=oa(n,r);if(t.length)return t.unshift(e),t}return[]}var jt=class{constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}};function yn(n){let e={};return n&&n.children.forEach(r=>e[r.value.outlet]=r),e}var _s=class extends gs{constructor(e,r){super(e),this.snapshot=r,_a(this,e)}toString(){return this.snapshot.toString()}};function Bc(n){let e=vf(n),r=new yt([new Xi("",{})]),t=new yt({}),i=new yt({}),s=new yt({}),o=new yt(""),d=new Zi(r,t,s,o,i,Ie,n,e.root);return d.snapshot=e.root,new _s(new jt(d,[]),e)}function vf(n){let e={},r={},t={},i="",s=new ur([],e,t,i,r,Ie,n,null,{});return new vs("",new jt(s,[]))}var Zi=class{constructor(e,r,t,i,s,o,d,_){this.urlSubject=e,this.paramsSubject=r,this.queryParamsSubject=t,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=d,this._futureSnapshot=_,this.title=this.dataSubject?.pipe(ke(u=>u[mr]))??Pe(void 0),this.url=e,this.params=r,this.queryParams=t,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ke(e=>Cn(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ke(e=>Cn(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ga(n,e,r="emptyOnly"){let t,{routeConfig:i}=n;return e!==null&&(r==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?t={params:pe(pe({},e.params),n.params),data:pe(pe({},e.data),n.data),resolve:pe(pe(pe(pe({},n.data),e.data),i?.data),n._resolvedData)}:t={params:pe({},n.params),data:pe({},n.data),resolve:pe(pe({},n.data),n._resolvedData??{})},i&&zc(i)&&(t.resolve[mr]=i.title),t}var ur=class{get title(){return this.data?.[mr]}constructor(e,r,t,i,s,o,d,_,u){this.url=e,this.params=r,this.queryParams=t,this.fragment=i,this.data=s,this.outlet=o,this.component=d,this.routeConfig=_,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Cn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Cn(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(t=>t.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${r}')`}},vs=class extends gs{constructor(e,r){super(r),this.url=e,_a(this,r)}toString(){return Uc(this._root)}};function _a(n,e){e.value._routerState=n,e.children.forEach(r=>_a(n,r))}function Uc(n){let e=n.children.length>0?` { ${n.children.map(Uc).join(", ")} } `:"";return`${n.value}${e}`}function Bo(n){if(n.snapshot){let e=n.snapshot,r=n._futureSnapshot;n.snapshot=r,ti(e.queryParams,r.queryParams)||n.queryParamsSubject.next(r.queryParams),e.fragment!==r.fragment&&n.fragmentSubject.next(r.fragment),ti(e.params,r.params)||n.paramsSubject.next(r.params),$u(e.url,r.url)||n.urlSubject.next(r.url),ti(e.data,r.data)||n.dataSubject.next(r.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function aa(n,e){let r=ti(n.params,e.params)&&Ku(n.url,e.url),t=!n.parent!=!e.parent;return r&&!t&&(!n.parent||aa(n.parent,e.parent))}function zc(n){return typeof n.title=="string"||n.title===null}var va=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ie,this.activateEvents=new Le,this.deactivateEvents=new Le,this.attachEvents=new Le,this.detachEvents=new Le,this.parentContexts=ye(xs),this.location=ye(ln),this.changeDetector=ye(Zt),this.environmentInjector=ye(an),this.inputBinder=ye(ba,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:s}=t.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Je(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Je(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Je(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Je(4013,!1);this._activatedRoute=t;let s=this.location,d=t.snapshot.component,_=this.parentContexts.getOrCreateContext(this.name).children,u=new la(t,_,s.injector);this.activated=s.createComponent(d,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Oe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[It]});let n=e;return n})(),la=class{constructor(e,r,t){this.route=e,this.childContexts=r,this.parent=t}get(e,r){return e===Zi?this.route:e===xs?this.childContexts:this.parent.get(e,r)}},ba=new Se("");function bf(n,e,r){let t=fr(n,e._root,r?r._root:void 0);return new _s(t,e)}function fr(n,e,r){if(r&&n.shouldReuseRoute(e.value,r.value.snapshot)){let t=r.value;t._futureSnapshot=e.value;let i=yf(n,e,r);return new jt(t,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(d=>fr(n,d)),o}}let t=xf(e.value),i=e.children.map(s=>fr(n,s));return new jt(t,i)}}function yf(n,e,r){return e.children.map(t=>{for(let i of r.children)if(n.shouldReuseRoute(t.value,i.value.snapshot))return fr(n,t,i);return fr(n,t)})}function xf(n){return new Zi(new yt(n.url),new yt(n.params),new yt(n.queryParams),new yt(n.fragment),new yt(n.data),n.outlet,n.component,n)}var Hc="ngNavigationCancelingError";function Wc(n,e){let{redirectTo:r,navigationBehaviorOptions:t}=An(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Gc(!1,Wt.Redirect);return i.url=r,i.navigationBehaviorOptions=t,i}function Gc(n,e){let r=new Error(`NavigationCancelingError: ${n||""}`);return r[Hc]=!0,r.cancellationCode=e,r}function wf(n){return $c(n)&&An(n.url)}function $c(n){return!!n&&n[Hc]}var Cf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ge({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ye],decls:1,vars:0,template:function(i,s){i&1&&Ce(0,"router-outlet")},dependencies:[va],encapsulation:2});let n=e;return n})();function Af(n,e){return n.providers&&!n._injector&&(n._injector=Hl(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ya(n){let e=n.children&&n.children.map(ya),r=e?Be(pe({},n),{children:e}):pe({},n);return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==Ie&&(r.component=Cf),r}function ii(n){return n.outlet||Ie}function Ef(n,e){let r=n.filter(t=>ii(t)===e);return r.push(...n.filter(t=>ii(t)!==e)),r}function gr(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let r=e.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var Sf=(n,e,r,t)=>ke(i=>(new ca(e,i.targetRouterState,i.currentRouterState,r,t).activate(n),i)),ca=class{constructor(e,r,t,i,s){this.routeReuseStrategy=e,this.futureState=r,this.currState=t,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let r=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,t,e),Bo(this.futureState.root),this.activateChildRoutes(r,t,e)}deactivateChildRoutes(e,r,t){let i=yn(r);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],t),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,t)})}deactivateRoutes(e,r,t){let i=e.value,s=r?r.value:null;if(i===s)if(i.component){let o=t.getContext(i.outlet);o&&this.deactivateChildRoutes(e,r,o.children)}else this.deactivateChildRoutes(e,r,t);else s&&this.deactivateRouteAndItsChildren(r,t)}deactivateRouteAndItsChildren(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){let t=r.getContext(e.value.outlet),i=t&&e.value.component?t.children:r,s=yn(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(t&&t.outlet){let o=t.outlet.detach(),d=t.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:d})}}deactivateRouteAndOutlet(e,r){let t=r.getContext(e.value.outlet),i=t&&e.value.component?t.children:r,s=yn(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(e,r,t){let i=yn(r);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],t),this.forwardEvent(new na(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ta(e.value.snapshot))}activateRoutes(e,r,t){let i=e.value,s=r?r.value:null;if(Bo(i),i===s)if(i.component){let o=t.getOrCreateContext(i.outlet);this.activateChildRoutes(e,r,o.children)}else this.activateChildRoutes(e,r,t);else if(i.component){let o=t.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let d=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(d.contexts),o.attachRef=d.componentRef,o.route=d.route.value,o.outlet&&o.outlet.attach(d.componentRef,d.route.value),Bo(d.route.value),this.activateChildRoutes(e,null,o.children)}else{let d=gr(i.snapshot);o.attachRef=null,o.route=i,o.injector=d,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,t)}},bs=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},wn=class{constructor(e,r){this.component=e,this.route=r}};function Pf(n,e,r){let t=n._root,i=e?e._root:null;return ir(t,i,r,[t.value])}function Tf(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Sn(n,e){let r=Symbol(),t=e.get(n,r);return t===r?typeof n=="function"&&!Ll(n)?n:e.get(n):t}function ir(n,e,r,t,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=yn(e);return n.children.forEach(o=>{Mf(o,s[o.value.outlet],r,t.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,d])=>or(d,r.getContext(o),i)),i}function Mf(n,e,r,t,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,d=r?r.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let _=Df(o,s,s.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new bs(t)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ir(n,e,d?d.children:null,t,i):ir(n,e,r,t,i),_&&d&&d.outlet&&d.outlet.isActivated&&i.canDeactivateChecks.push(new wn(d.outlet.component,o))}else o&&or(e,d,i),i.canActivateChecks.push(new bs(t)),s.component?ir(n,null,d?d.children:null,t,i):ir(n,null,r,t,i);return i}function Df(n,e,r){if(typeof r=="function")return r(n,e);switch(r){case"pathParamsChange":return!Yi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Yi(n.url,e.url)||!ti(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!aa(n,e)||!ti(n.queryParams,e.queryParams);case"paramsChange":default:return!aa(n,e)}}function or(n,e,r){let t=yn(n),i=n.value;Object.entries(t).forEach(([s,o])=>{i.component?e?or(o,e.children.getContext(s),r):or(o,null,r):or(o,e,r)}),i.component?e&&e.outlet&&e.outlet.isActivated?r.canDeactivateChecks.push(new wn(e.outlet.component,i)):r.canDeactivateChecks.push(new wn(null,i)):r.canDeactivateChecks.push(new wn(null,i))}function _r(n){return typeof n=="function"}function If(n){return typeof n=="boolean"}function Rf(n){return n&&_r(n.canLoad)}function kf(n){return n&&_r(n.canActivate)}function Of(n){return n&&_r(n.canActivateChild)}function Ff(n){return n&&_r(n.canDeactivate)}function Lf(n){return n&&_r(n.canMatch)}function qc(n){return n instanceof Tl||n?.name==="EmptyError"}var ls=Symbol("INITIAL_VALUE");function En(){return ht(n=>Vn(n.map(e=>e.pipe(Dt(1),Ai(ls)))).pipe(ke(e=>{for(let r of e)if(r!==!0){if(r===ls)return ls;if(r===!1||r instanceof Mi)return r}return!0}),tt(e=>e!==ls),Dt(1)))}function Nf(n,e){return Ht(r=>{let{targetSnapshot:t,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=r;return o.length===0&&s.length===0?Pe(Be(pe({},r),{guardsResult:!0})):Vf(o,t,i,n).pipe(Ht(d=>d&&If(d)?jf(t,s,n,e):Pe(d)),ke(d=>Be(pe({},r),{guardsResult:d})))})}function Vf(n,e,r,t){return gt(n).pipe(Ht(i=>Wf(i.component,i.route,r,e,t)),Ot(i=>i!==!0,!0))}function jf(n,e,r,t){return gt(e).pipe(Hi(i=>zr(Uf(i.route.parent,t),Bf(i.route,t),Hf(n,i.path,r),zf(n,i.route,r))),Ot(i=>i!==!0,!0))}function Bf(n,e){return n!==null&&e&&e(new ia(n)),Pe(!0)}function Uf(n,e){return n!==null&&e&&e(new ea(n)),Pe(!0)}function zf(n,e,r){let t=e.routeConfig?e.routeConfig.canActivate:null;if(!t||t.length===0)return Pe(!0);let i=t.map(s=>jn(()=>{let o=gr(e)??r,d=Sn(s,o),_=kf(d)?d.canActivate(e,n):gi(o,()=>d(e,n));return Ri(_).pipe(Ot())}));return Pe(i).pipe(En())}function Hf(n,e,r){let t=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Tf(o)).filter(o=>o!==null).map(o=>jn(()=>{let d=o.guards.map(_=>{let u=gr(o.node)??r,c=Sn(_,u),a=Of(c)?c.canActivateChild(t,n):gi(u,()=>c(t,n));return Ri(a).pipe(Ot())});return Pe(d).pipe(En())}));return Pe(s).pipe(En())}function Wf(n,e,r,t,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Pe(!0);let o=s.map(d=>{let _=gr(e)??i,u=Sn(d,_),c=Ff(u)?u.canDeactivate(n,e,r,t):gi(_,()=>u(n,e,r,t));return Ri(c).pipe(Ot())});return Pe(o).pipe(En())}function Gf(n,e,r,t){let i=e.canLoad;if(i===void 0||i.length===0)return Pe(!0);let s=i.map(o=>{let d=Sn(o,n),_=Rf(d)?d.canLoad(e,r):gi(n,()=>d(e,r));return Ri(_)});return Pe(s).pipe(En(),Xc(t))}function Xc(n){return Pl(it(e=>{if(An(e))throw Wc(n,e)}),ke(e=>e===!0))}function $f(n,e,r,t){let i=e.canMatch;if(!i||i.length===0)return Pe(!0);let s=i.map(o=>{let d=Sn(o,n),_=Lf(d)?d.canMatch(e,r):gi(n,()=>d(e,r));return Ri(_)});return Pe(s).pipe(En(),Xc(t))}var pr=class{constructor(e){this.segmentGroup=e||null}},ys=class extends Error{constructor(e){super(),this.urlTree=e}};function bn(n){return ei(new pr(n))}function qf(n){return ei(new Je(4e3,!1))}function Xf(n){return ei(Gc(!1,Wt.GuardRejected))}var da=class{constructor(e,r){this.urlSerializer=e,this.urlTree=r}lineralizeSegments(e,r){let t=[],i=r.root;for(;;){if(t=t.concat(i.segments),i.numberOfChildren===0)return Pe(t);if(i.numberOfChildren>1||!i.children[Ie])return qf(e.redirectTo);i=i.children[Ie]}}applyRedirectCommands(e,r,t){let i=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),e,t);if(r.startsWith("/"))throw new ys(i);return i}applyRedirectCreateUrlTree(e,r,t,i){let s=this.createSegmentGroup(e,r.root,t,i);return new Mi(s,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){let t={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let d=s.substring(1);t[i]=r[d]}else t[i]=s}),t}createSegmentGroup(e,r,t,i){let s=this.createSegments(e,r.segments,t,i),o={};return Object.entries(r.children).forEach(([d,_])=>{o[d]=this.createSegmentGroup(e,_,t,i)}),new $e(s,o)}createSegments(e,r,t,i){return r.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,t))}findPosParam(e,r,t){let i=t[r.path.substring(1)];if(!i)throw new Je(4001,!1);return i}findOrReturn(e,r){let t=0;for(let i of r){if(i.path===e.path)return r.splice(t),i;t++}return e}},ha={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yf(n,e,r,t,i){let s=xa(n,e,r);return s.matched?(t=Af(e,t),$f(t,e,r,i).pipe(ke(o=>o===!0?s:pe({},ha)))):Pe(s)}function xa(n,e,r){if(e.path==="**")return Kf(r);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||r.length>0)?pe({},ha):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Gu)(r,n,e);if(!i)return pe({},ha);let s={};Object.entries(i.posParams??{}).forEach(([d,_])=>{s[d]=_.path});let o=i.consumed.length>0?pe(pe({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Kf(n){return{matched:!0,parameters:n.length>0?Pc(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Ec(n,e,r,t){return r.length>0&&Jf(n,r,t)?{segmentGroup:new $e(e,Qf(t,new $e(r,n.children))),slicedSegments:[]}:r.length===0&&ep(n,r,t)?{segmentGroup:new $e(n.segments,Zf(n,r,t,n.children)),slicedSegments:r}:{segmentGroup:new $e(n.segments,n.children),slicedSegments:r}}function Zf(n,e,r,t){let i={};for(let s of r)if(ws(n,e,s)&&!t[ii(s)]){let o=new $e([],{});i[ii(s)]=o}return pe(pe({},t),i)}function Qf(n,e){let r={};r[Ie]=e;for(let t of n)if(t.path===""&&ii(t)!==Ie){let i=new $e([],{});r[ii(t)]=i}return r}function Jf(n,e,r){return r.some(t=>ws(n,e,t)&&ii(t)!==Ie)}function ep(n,e,r){return r.some(t=>ws(n,e,t))}function ws(n,e,r){return(n.hasChildren()||e.length>0)&&r.pathMatch==="full"?!1:r.path===""}function tp(n,e,r,t){return ii(n)!==t&&(t===Ie||!ws(e,r,n))?!1:xa(e,n,r).matched}function ip(n,e,r){return e.length===0&&!n.children[r]}var ua=class{};function np(n,e,r,t,i,s,o="emptyOnly"){return new fa(n,e,r,t,i,o,s).recognize()}var rp=31,fa=class{constructor(e,r,t,i,s,o,d){this.injector=e,this.configLoader=r,this.rootComponentType=t,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=d,this.applyRedirects=new da(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Je(4002,`'${e.segmentGroup}'`)}recognize(){let e=Ec(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ke(r=>{let t=new ur([],Object.freeze({}),Object.freeze(pe({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ie,this.rootComponentType,null,{}),i=new jt(t,r),s=new vs("",i),o=hf(t,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Ie).pipe(fi(t=>{if(t instanceof ys)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof pr?this.noMatchError(t):t}))}inheritParamsAndData(e,r){let t=e.value,i=ga(t,r,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,t))}processSegmentGroup(e,r,t,i){return t.segments.length===0&&t.hasChildren()?this.processChildren(e,r,t):this.processSegment(e,r,t,t.segments,i,!0).pipe(ke(s=>s instanceof jt?[s]:[]))}processChildren(e,r,t){let i=[];for(let s of Object.keys(t.children))s==="primary"?i.unshift(s):i.push(s);return gt(i).pipe(Hi(s=>{let o=t.children[s],d=Ef(r,s);return this.processSegmentGroup(e,d,o,s)}),Rl((s,o)=>(s.push(...o),s)),ro(null),Il(),Ht(s=>{if(s===null)return bn(t);let o=Yc(s);return sp(o),Pe(o)}))}processSegment(e,r,t,i,s,o){return gt(r).pipe(Hi(d=>this.processSegmentAgainstRoute(d._injector??e,r,d,t,i,s,o).pipe(fi(_=>{if(_ instanceof pr)return Pe(null);throw _}))),Ot(d=>!!d),fi(d=>{if(qc(d))return ip(t,i,s)?Pe(new ua):bn(t);throw d}))}processSegmentAgainstRoute(e,r,t,i,s,o,d){return tp(t,i,s,o)?t.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,t,s,o):this.allowRedirects&&d?this.expandSegmentAgainstRouteUsingRedirect(e,i,r,t,s,o):bn(i):bn(i)}expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o){let{matched:d,consumedSegments:_,positionalParamSegments:u,remainingSegments:c}=xa(r,i,s);if(!d)return bn(r);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>rp&&(this.allowRedirects=!1));let a=this.applyRedirects.applyRedirectCommands(_,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,a).pipe(Ht(l=>this.processSegment(e,t,r,l.concat(c),o,!1)))}matchSegmentAgainstRoute(e,r,t,i,s){let o=Yf(r,t,i,e,this.urlSerializer);return t.path==="**"&&(r.children={}),o.pipe(ht(d=>d.matched?(e=t._injector??e,this.getChildConfig(e,t,i).pipe(ht(({routes:_})=>{let u=t._loadedInjector??e,{consumedSegments:c,remainingSegments:a,parameters:l}=d,p=new ur(c,l,Object.freeze(pe({},this.urlTree.queryParams)),this.urlTree.fragment,ap(t),ii(t),t.component??t._loadedComponent??null,t,lp(t)),{segmentGroup:f,slicedSegments:h}=Ec(r,c,a,_);if(h.length===0&&f.hasChildren())return this.processChildren(u,_,f).pipe(ke(m=>m===null?null:new jt(p,m)));if(_.length===0&&h.length===0)return Pe(new jt(p,[]));let v=ii(t)===s;return this.processSegment(u,_,f,h,v?Ie:s,!0).pipe(ke(m=>new jt(p,m instanceof jt?[m]:[])))}))):bn(r)))}getChildConfig(e,r,t){return r.children?Pe({routes:r.children,injector:e}):r.loadChildren?r._loadedRoutes!==void 0?Pe({routes:r._loadedRoutes,injector:r._loadedInjector}):Gf(e,r,t,this.urlSerializer).pipe(Ht(i=>i?this.configLoader.loadChildren(e,r).pipe(it(s=>{r._loadedRoutes=s.routes,r._loadedInjector=s.injector})):Xf(r))):Pe({routes:[],injector:e})}};function sp(n){n.sort((e,r)=>e.value.outlet===Ie?-1:r.value.outlet===Ie?1:e.value.outlet.localeCompare(r.value.outlet))}function op(n){let e=n.value.routeConfig;return e&&e.path===""}function Yc(n){let e=[],r=new Set;for(let t of n){if(!op(t)){e.push(t);continue}let i=e.find(s=>t.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...t.children),r.add(i)):e.push(t)}for(let t of r){let i=Yc(t.children);e.push(new jt(t.value,i))}return e.filter(t=>!r.has(t))}function ap(n){return n.data||{}}function lp(n){return n.resolve||{}}function cp(n,e,r,t,i,s){return Ht(o=>np(n,e,r,t,o.extractedUrl,i,s).pipe(ke(({state:d,tree:_})=>Be(pe({},o),{targetSnapshot:d,urlAfterRedirects:_}))))}function dp(n,e){return Ht(r=>{let{targetSnapshot:t,guards:{canActivateChecks:i}}=r;if(!i.length)return Pe(r);let s=new Set(i.map(_=>_.route)),o=new Set;for(let _ of s)if(!o.has(_))for(let u of Kc(_))o.add(u);let d=0;return gt(o).pipe(Hi(_=>s.has(_)?hp(_,t,n,e):(_.data=ga(_,_.parent,n).resolve,Pe(void 0))),it(()=>d++),so(1),Ht(_=>d===o.size?Pe(r):zi))})}function Kc(n){let e=n.children.map(r=>Kc(r)).flat();return[n,...e]}function hp(n,e,r,t){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!zc(i)&&(s[mr]=i.title),up(s,n,e,t).pipe(ke(o=>(n._resolvedData=o,n.data=ga(n,n.parent,r).resolve,null)))}function up(n,e,r,t){let i=Ho(n);if(i.length===0)return Pe({});let s={};return gt(i).pipe(Ht(o=>fp(n[o],e,r,t).pipe(Ot(),it(d=>{s[o]=d}))),so(1),Dl(s),fi(o=>qc(o)?zi:ei(o)))}function fp(n,e,r,t){let i=gr(e)??t,s=Sn(n,i),o=s.resolve?s.resolve(e,r):gi(i,()=>s(e,r));return Ri(o)}function Uo(n){return ht(e=>{let r=n(e);return r?gt(r).pipe(ke(()=>e)):Pe(e)})}var Zc=(()=>{let e=class e{buildTitle(t){let i,s=t.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Ie);return i}getResolvedTitleForRoute(t){return t.data[mr]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=be({token:e,factory:()=>ye(pp),providedIn:"root"});let n=e;return n})(),pp=(()=>{let e=class e extends Zc{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ue(yc))},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),wa=new Se("",{providedIn:"root",factory:()=>({})}),Ca=new Se(""),mp=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ye(_o)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Pe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=Ri(t.loadComponent()).pipe(ke(Qc),it(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Wi(()=>{this.componentLoaders.delete(t)})),s=new Br(i,()=>new Re).pipe(io());return this.componentLoaders.set(t,s),s}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Pe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=gp(i,this.compiler,t,this.onLoadEndListener).pipe(Wi(()=>{this.childrenLoaders.delete(i)})),d=new Br(o,()=>new Re).pipe(io());return this.childrenLoaders.set(i,d),d}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function gp(n,e,r,t){return Ri(n.loadChildren()).pipe(ke(Qc),Ht(i=>i instanceof zl||Array.isArray(i)?Pe(i):gt(e.compileModuleAsync(i))),ke(i=>{t&&t(n);let s,o,d=!1;return Array.isArray(i)?(o=i,d=!0):(s=i.create(r).injector,o=s.get(Ca,[],{optional:!0,self:!0}).flat()),{routes:o.map(ya),injector:s}}))}function _p(n){return n&&typeof n=="object"&&"default"in n}function Qc(n){return _p(n)?n.default:n}var Aa=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=be({token:e,factory:()=>ye(vp),providedIn:"root"});let n=e;return n})(),vp=(()=>{let e=class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),bp=new Se("");var yp=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Re,this.transitionAbortSubject=new Re,this.configLoader=ye(mp),this.environmentInjector=ye(an),this.urlSerializer=ye(ma),this.rootContexts=ye(xs),this.location=ye(fn),this.inputBindingEnabled=ye(ba,{optional:!0})!==null,this.titleStrategy=ye(Zc),this.options=ye(wa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ye(Aa),this.createViewTransition=ye(bp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Pe(void 0),this.rootComponentType=null;let t=s=>this.events.next(new Qo(s)),i=s=>this.events.next(new Jo(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(Be(pe(pe({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,s){return this.transitions=new yt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:sr,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(tt(o=>o.id!==0),ke(o=>Be(pe({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ht(o=>{this.currentTransition=o;let d=!1,_=!1;return Pe(o).pipe(it(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Be(pe({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ht(u=>{let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&a!=="reload"){let l="";return this.events.next(new Ki(u.id,this.urlSerializer.serialize(u.rawUrl),l,qo.IgnoredSameUrlNavigation)),u.resolve(null),zi}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Pe(u).pipe(ht(l=>{let p=this.transitions?.getValue();return this.events.next(new lr(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),p!==this.transitions?.getValue()?zi:Promise.resolve(l)}),cp(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),it(l=>{o.targetSnapshot=l.targetSnapshot,o.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=Be(pe({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let p=new ms(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(p)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:l,extractedUrl:p,source:f,restoredState:h,extras:v}=u,m=new lr(l,this.urlSerializer.serialize(p),f,h);this.events.next(m);let E=Bc(this.rootComponentType).snapshot;return this.currentTransition=o=Be(pe({},u),{targetSnapshot:E,urlAfterRedirects:p,extras:Be(pe({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,Pe(o)}else{let l="";return this.events.next(new Ki(u.id,this.urlSerializer.serialize(u.extractedUrl),l,qo.IgnoredByUrlHandlingStrategy)),u.resolve(null),zi}}),it(u=>{let c=new Xo(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),ke(u=>(this.currentTransition=o=Be(pe({},u),{guards:Pf(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),Nf(this.environmentInjector,u=>this.events.next(u)),it(u=>{if(o.guardsResult=u.guardsResult,An(u.guardsResult))throw Wc(this.urlSerializer,u.guardsResult);let c=new Yo(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),tt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Wt.GuardRejected),!1)),Uo(u=>{if(u.guards.canActivateChecks.length)return Pe(u).pipe(it(c=>{let a=new Ko(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(a)}),ht(c=>{let a=!1;return Pe(c).pipe(dp(this.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(c,"",Wt.NoDataFromResolver)}}))}),it(c=>{let a=new Zo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(a)}))}),Uo(u=>{let c=a=>{let l=[];a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(a.routeConfig).pipe(it(p=>{a.component=p}),ke(()=>{})));for(let p of a.children)l.push(...c(p));return l};return Vn(c(u.targetSnapshot.root)).pipe(ro(null),Dt(1))}),Uo(()=>this.afterPreactivation()),ht(()=>{let{currentSnapshot:u,targetSnapshot:c}=o,a=this.createViewTransition?.(this.environmentInjector,u.root,c.root);return a?gt(a).pipe(ke(()=>o)):Pe(o)}),ke(u=>{let c=bf(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=Be(pe({},u),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),it(()=>{this.events.next(new dr)}),Sf(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Dt(1),it({next:u=>{d=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Di(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{d=!0}}),Me(this.transitionAbortSubject.pipe(it(u=>{throw u}))),Wi(()=>{!d&&!_&&this.cancelNavigationTransition(o,"",Wt.SupersededByNewNavigation),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),fi(u=>{if(_=!0,$c(u))this.events.next(new Ii(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),wf(u)?this.events.next(new hr(u.url)):o.resolve(!1);else{this.events.next(new cr(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(u))}catch(c){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(c)}}return zi}))}))}cancelNavigationTransition(t,i,s){let o=new Ii(t.id,this.urlSerializer.serialize(t.extractedUrl),i,s);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function xp(n){return n!==sr}var wp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=be({token:e,factory:()=>ye(Cp),providedIn:"root"});let n=e;return n})(),pa=class{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}},Cp=(()=>{let e=class e extends pa{};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Kt(e)))(s||e)}})(),e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Jc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=be({token:e,factory:()=>ye(Ap),providedIn:"root"});let n=e;return n})(),Ap=(()=>{let e=class e extends Jc{constructor(){super(...arguments),this.location=ye(fn),this.urlSerializer=ye(ma),this.options=ye(wa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ye(Aa),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Mi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Bc(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof lr)this.stateMemento=this.createStateMemento();else if(t instanceof Ki)this.rawUrlTree=i.initialUrl;else if(t instanceof ms){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else t instanceof dr?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof Ii&&(t.code===Wt.GuardRejected||t.code===Wt.NoDataFromResolver)?this.restoreHistory(i):t instanceof cr?this.restoreHistory(i,!0):t instanceof Di&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let s=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,d=pe(pe({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",d)}else{let o=pe(pe({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Kt(e)))(s||e)}})(),e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),nr=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(nr||{});function Ep(n,e){n.events.pipe(tt(r=>r instanceof Di||r instanceof Ii||r instanceof cr||r instanceof Ki),ke(r=>r instanceof Di||r instanceof Ki?nr.COMPLETE:(r instanceof Ii?r.code===Wt.Redirect||r.code===Wt.SupersededByNewNavigation:!1)?nr.REDIRECTING:nr.FAILED),tt(r=>r!==nr.REDIRECTING),Dt(1)).subscribe(()=>{e()})}function Sp(n){throw n}var Pp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Tp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},st=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ye(Xr),this.stateManager=ye(Jc),this.options=ye(wa,{optional:!0})||{},this.pendingTasks=ye(Wn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ye(yp),this.urlSerializer=ye(ma),this.location=ye(fn),this.urlHandlingStrategy=ye(Aa),this._events=new Re,this.errorHandler=this.options.errorHandler||Sp,this.navigated=!1,this.routeReuseStrategy=ye(wp),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ye(Ca,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ye(ba,{optional:!0}),this.eventsSubscription=new kt,this.isNgZoneEnabled=ye(De)instanceof De&&De.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Ii&&i.code!==Wt.Redirect&&i.code!==Wt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Di)this.navigated=!0;else if(i instanceof hr){let d=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),_={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||xp(s.source)};this.scheduleNavigation(d,sr,null,_,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Dp(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),sr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,s){let o={replaceUrl:!0},d=s?.navigationId?s:null;if(s){let u=pe({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let _=this.parseUrl(t);this.scheduleNavigation(_,i,d,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ya),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:s,queryParams:o,fragment:d,queryParamsHandling:_,preserveFragment:u}=i,c=u?this.currentUrlTree.fragment:d,a=null;switch(_){case"merge":a=pe(pe({},this.currentUrlTree.queryParams),o);break;case"preserve":a=this.currentUrlTree.queryParams;break;default:a=o||null}a!==null&&(a=this.removeEmptyProps(a));let l;try{let p=s?s.snapshot:this.routerState.snapshot.root;l=Lc(p)}catch{(typeof t[0]!="string"||!t[0].startsWith("/"))&&(t=[]),l=this.currentUrlTree.root}return Nc(l,t,a,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){let s=An(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,sr,null,i)}navigate(t,i={skipLocationChange:!1}){return Mp(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let s;if(i===!0?s=pe({},Pp):i===!1?s=pe({},Tp):s=i,An(t))return xc(this.currentUrlTree,t,s);let o=this.parseUrl(t);return xc(this.currentUrlTree,o,s)}removeEmptyProps(t){return Object.entries(t).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(t,i,s,o,d){if(this.disposed)return Promise.resolve(!1);let _,u,c;d?(_=d.resolve,u=d.reject,c=d.promise):c=new Promise((l,p)=>{_=l,u=p});let a=this.pendingTasks.add();return Ep(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(a))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:_,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(l=>Promise.reject(l))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Mp(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Je(4008,!1)}function Dp(n){return!(n instanceof dr)&&!(n instanceof hr)}var ed=(()=>{let e=class e{constructor(t,i,s,o,d,_){this.router=t,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=d,this.locationStrategy=_,this.href=null,this.commands=null,this.onChanges=new Re,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Di&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t!=null?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,s,o,d){let _=this.urlTree;if(_===null||this.isAnchorElement&&(t!==0||i||s||o||d||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(_,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:jl(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,t,i):s.removeAttribute(o,t)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(le(st),le(Zi),zn("tabindex"),le(Si),le(ze),le(bo))},e.\u0275dir=Oe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Ae("click",function(d){return s.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),i&2&&Rt("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ve.HasDecoratorInputTransform,"preserveFragment","preserveFragment",nt],skipLocationChange:[ve.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",nt],replaceUrl:[ve.HasDecoratorInputTransform,"replaceUrl","replaceUrl",nt],routerLink:"routerLink"},standalone:!0,features:[Qt,It]});let n=e;return n})();var Ip=new Se("");function td(n,...e){return Gi([{provide:Ca,multi:!0,useValue:n},[],{provide:Zi,useFactory:Rp,deps:[st]},{provide:go,multi:!0,useFactory:kp},e.map(r=>r.\u0275providers)])}function Rp(n){return n.routerState.root}function kp(){let n=ye(Ei);return e=>{let r=n.get(hn);if(e!==r.components[0])return;let t=n.get(st),i=n.get(Op);n.get(Fp)===1&&t.initialNavigation(),n.get(Lp,null,lo.Optional)?.setUpPreloading(),n.get(Ip,null,lo.Optional)?.init(),t.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Op=new Se("",{factory:()=>new Re}),Fp=new Se("",{providedIn:"root",factory:()=>1});var Lp=new Se("");var dd=(()=>{let e=class e{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(i){return new(i||e)(le(Si),le(ze))},e.\u0275dir=Oe({type:e});let n=e;return n})(),xr=(()=>{let e=class e extends dd{};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Kt(e)))(s||e)}})(),e.\u0275dir=Oe({type:e,features:[St]});let n=e;return n})(),Dn=new Se("");var Np={provide:Dn,useExisting:Yt(()=>ri),multi:!0};function Vp(){let n=un()?un().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var jp=new Se(""),ri=(()=>{let e=class e extends dd{constructor(t,i,s){super(t,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Vp())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(i){return new(i||e)(le(Si),le(ze),le(jp,8))},e.\u0275dir=Oe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Ae("input",function(d){return s._handleInput(d.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(d){return s._compositionEnd(d.target.value)})},features:[ft([Np]),St]});let n=e;return n})();function ki(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function hd(n){return n!=null&&typeof n.length=="number"}var wr=new Se(""),Ma=new Se(""),Bp=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Fe=class{static min(e){return Up(e)}static max(e){return zp(e)}static required(e){return ud(e)}static requiredTrue(e){return Hp(e)}static email(e){return Wp(e)}static minLength(e){return Gp(e)}static maxLength(e){return fd(e)}static pattern(e){return $p(e)}static nullValidator(e){return As(e)}static compose(e){return bd(e)}static composeAsync(e){return yd(e)}};function Up(n){return e=>{if(ki(e.value)||ki(n))return null;let r=parseFloat(e.value);return!isNaN(r)&&r<n?{min:{min:n,actual:e.value}}:null}}function zp(n){return e=>{if(ki(e.value)||ki(n))return null;let r=parseFloat(e.value);return!isNaN(r)&&r>n?{max:{max:n,actual:e.value}}:null}}function ud(n){return ki(n.value)?{required:!0}:null}function Hp(n){return n.value===!0?null:{required:!0}}function Wp(n){return ki(n.value)||Bp.test(n.value)?null:{email:!0}}function Gp(n){return e=>ki(e.value)||!hd(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function fd(n){return e=>hd(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function $p(n){if(!n)return As;let e,r;return typeof n=="string"?(r="",n.charAt(0)!=="^"&&(r+="^"),r+=n,n.charAt(n.length-1)!=="$"&&(r+="$"),e=new RegExp(r)):(r=n.toString(),e=n),t=>{if(ki(t.value))return null;let i=t.value;return e.test(i)?null:{pattern:{requiredPattern:r,actualValue:i}}}}function As(n){return null}function pd(n){return n!=null}function md(n){return Yr(n)?gt(n):n}function gd(n){let e={};return n.forEach(r=>{e=r!=null?pe(pe({},e),r):e}),Object.keys(e).length===0?null:e}function _d(n,e){return e.map(r=>r(n))}function qp(n){return!n.validate}function vd(n){return n.map(e=>qp(e)?e:r=>e.validate(r))}function bd(n){if(!n)return null;let e=n.filter(pd);return e.length==0?null:function(r){return gd(_d(r,e))}}function Da(n){return n!=null?bd(vd(n)):null}function yd(n){if(!n)return null;let e=n.filter(pd);return e.length==0?null:function(r){let t=_d(r,e).map(md);return Ml(t).pipe(ke(gd))}}function Ia(n){return n!=null?yd(vd(n)):null}function id(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function xd(n){return n._rawValidators}function wd(n){return n._rawAsyncValidators}function Ea(n){return n?Array.isArray(n)?n:[n]:[]}function Es(n,e){return Array.isArray(n)?n.includes(e):n===e}function nd(n,e){let r=Ea(e);return Ea(n).forEach(i=>{Es(r,i)||r.push(i)}),r}function rd(n,e){return Ea(e).filter(r=>!Es(n,r))}var Ss=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Da(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ia(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return this.control?this.control.hasError(e,r):!1}getError(e,r){return this.control?this.control.getError(e,r):null}},Oi=class extends Ss{get formDirective(){return null}get path(){return null}},Fi=class extends Ss{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ps=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Xp={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},bb=Be(pe({},Xp),{"[class.ng-submitted]":"isSubmitted"}),si=(()=>{let e=class e extends Ps{constructor(t){super(t)}};e.\u0275fac=function(i){return new(i||e)(le(Fi,2))},e.\u0275dir=Oe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&xt("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[St]});let n=e;return n})(),oi=(()=>{let e=class e extends Ps{constructor(t){super(t)}};e.\u0275fac=function(i){return new(i||e)(le(Oi,10))},e.\u0275dir=Oe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&xt("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[St]});let n=e;return n})();var vr="VALID",Cs="INVALID",Pn="PENDING",br="DISABLED";function Ra(n){return(Ds(n)?n.validators:n)||null}function Yp(n){return Array.isArray(n)?Da(n):n||null}function ka(n,e){return(Ds(e)?e.asyncValidators:n)||null}function Kp(n){return Array.isArray(n)?Ia(n):n||null}function Ds(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Cd(n,e,r){let t=n.controls;if(!(e?Object.keys(t):t).length)throw new Je(1e3,"");if(!t[r])throw new Je(1001,"")}function Ad(n,e,r){n._forEachChild((t,i)=>{if(r[i]===void 0)throw new Je(1002,"")})}var Mn=class{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===vr}get invalid(){return this.status===Cs}get pending(){return this.status==Pn}get disabled(){return this.status===br}get enabled(){return this.status!==br}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(nd(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(nd(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(rd(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(rd(e,this._rawAsyncValidators))}hasValidator(e){return Es(this._rawValidators,e)}hasAsyncValidator(e){return Es(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Pn,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=br,this.errors=null,this._forEachChild(t=>{t.disable(Be(pe({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Be(pe({},e),{skipPristineCheck:r})),this._onDisabledChange.forEach(t=>t(!0))}enable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=vr,this._forEachChild(t=>{t.enable(Be(pe({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Be(pe({},e),{skipPristineCheck:r})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vr||this.status===Pn)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?br:vr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Pn,this._hasOwnPendingAsyncValidator=!0;let r=md(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(r.emitEvent!==!1)}get(e){let r=e;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((t,i)=>t&&t._find(i),this)}getError(e,r){let t=r?this.get(r):this;return t&&t.errors?t.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Le,this.statusChanges=new Le}_calculateStatus(){return this._allControlsDisabled()?br:this.errors?Cs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pn)?Pn:this._anyControlsHaveStatus(Cs)?Cs:vr}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ds(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let r=this._parent&&this._parent.dirty;return!e&&!!r&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Yp(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Kp(this._rawAsyncValidators)}},Li=class extends Mn{constructor(e,r,t){super(Ra(r),ka(t,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,r){return this.controls[e]?this.controls[e]:(this.controls[e]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(e,r,t={}){this.registerControl(e,r),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(e,r,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],r&&this.registerControl(e,r),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,r={}){Ad(this,!0,e),Object.keys(e).forEach(t=>{Cd(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(Object.keys(e).forEach(t=>{let i=this.controls[t];i&&i.patchValue(e[t],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e={},r={}){this._forEachChild((t,i)=>{t.reset(e?e[i]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(e,r,t)=>(e[t]=r.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(r,t)=>t._syncPendingControls()?!0:r);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(r=>{let t=this.controls[r];t&&e(t,r)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[r,t]of Object.entries(this.controls))if(this.contains(r)&&e(t))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(r,t,i)=>((t.enabled||this.disabled)&&(r[i]=t.value),r))}_reduceChildren(e,r){let t=e;return this._forEachChild((i,s)=>{t=r(t,i,s)}),t}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Sa=class extends Li{};var Is=new Se("CallSetDisabledState",{providedIn:"root",factory:()=>Rs}),Rs="always";function Zp(n,e){return[...e.path,n]}function Pa(n,e,r=Rs){Oa(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||r==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Jp(n,e),tm(n,e),em(n,e),Qp(n,e)}function sd(n,e,r=!0){let t=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(t),e.valueAccessor.registerOnTouched(t)),Ms(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ts(n,e){n.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function Qp(n,e){if(e.valueAccessor.setDisabledState){let r=t=>{e.valueAccessor.setDisabledState(t)};n.registerOnDisabledChange(r),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(r)})}}function Oa(n,e){let r=xd(n);e.validator!==null?n.setValidators(id(r,e.validator)):typeof r=="function"&&n.setValidators([r]);let t=wd(n);e.asyncValidator!==null?n.setAsyncValidators(id(t,e.asyncValidator)):typeof t=="function"&&n.setAsyncValidators([t]);let i=()=>n.updateValueAndValidity();Ts(e._rawValidators,i),Ts(e._rawAsyncValidators,i)}function Ms(n,e){let r=!1;if(n!==null){if(e.validator!==null){let i=xd(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(r=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=wd(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(r=!0,n.setAsyncValidators(s))}}}let t=()=>{};return Ts(e._rawValidators,t),Ts(e._rawAsyncValidators,t),r}function Jp(n,e){e.valueAccessor.registerOnChange(r=>{n._pendingValue=r,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Ed(n,e)})}function em(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Ed(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Ed(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function tm(n,e){let r=(t,i)=>{e.valueAccessor.writeValue(t),i&&e.viewToModelUpdate(t)};n.registerOnChange(r),e._registerOnDestroy(()=>{n._unregisterOnChange(r)})}function Sd(n,e){n==null,Oa(n,e)}function im(n,e){return Ms(n,e)}function nm(n,e){if(!n.hasOwnProperty("model"))return!1;let r=n.model;return r.isFirstChange()?!0:!Object.is(e,r.currentValue)}function rm(n){return Object.getPrototypeOf(n.constructor)===xr}function Pd(n,e){n._syncPendingControls(),e.forEach(r=>{let t=r.control;t.updateOn==="submit"&&t._pendingChange&&(r.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function sm(n,e){if(!e)return null;Array.isArray(e);let r,t,i;return e.forEach(s=>{s.constructor===ri?r=s:rm(s)?t=s:i=s}),i||t||r||null}function om(n,e){let r=n.indexOf(e);r>-1&&n.splice(r,1)}var am={provide:Oi,useExisting:Yt(()=>Fa)},yr=Promise.resolve(),Fa=(()=>{let e=class e extends Oi{constructor(t,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Le,this.form=new Li({},Da(t),Ia(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){yr.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Pa(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){yr.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){yr.then(()=>{let i=this._findContainer(t.path),s=new Li({});Sd(s,t),i.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){yr.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){yr.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Pd(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}};e.\u0275fac=function(i){return new(i||e)(le(wr,10),le(Ma,10),le(Is,8))},e.\u0275dir=Oe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&Ae("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{options:[ve.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ft([am]),St]});let n=e;return n})();function od(n,e){let r=n.indexOf(e);r>-1&&n.splice(r,1)}function ad(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Tn=class extends Mn{constructor(e=null,r,t){super(Ra(r),ka(t,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ds(r)&&(r.nonNullable||r.initialValueIsDefault)&&(ad(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){od(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){od(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ad(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var lm=n=>n instanceof Tn;var ai=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Oe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})(),cm={provide:Dn,useExisting:Yt(()=>Cr),multi:!0},Cr=(()=>{let e=class e extends xr{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Kt(e)))(s||e)}})(),e.\u0275dir=Oe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&Ae("input",function(d){return s.onChange(d.target.value)})("blur",function(){return s.onTouched()})},features:[ft([cm]),St]});let n=e;return n})(),dm={provide:Dn,useExisting:Yt(()=>La),multi:!0};var hm=(()=>{let e=class e{constructor(){this._accessors=[]}add(t,i){this._accessors.push([t,i])}remove(t){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===t){this._accessors.splice(i,1);return}}select(t){this._accessors.forEach(i=>{this._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})}_isSameGroup(t,i){return t[0].control?t[0]._parent===i._control._parent&&t[1].name===i.name:!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),La=(()=>{let e=class e extends xr{constructor(t,i,s,o){super(t,i),this._registry=s,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=ye(Is,{optional:!0})??Rs}ngOnInit(){this._control=this._injector.get(Fi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}};e.\u0275fac=function(i){return new(i||e)(le(Si),le(ze),le(hm),le(Ei))},e.\u0275dir=Oe({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,s){i&1&&Ae("change",function(){return s.onChange()})("blur",function(){return s.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ft([dm]),St]});let n=e;return n})();var Td=new Se("");var um={provide:Oi,useExisting:Yt(()=>Bt)},Bt=(()=>{let e=class e extends Oi{constructor(t,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Le,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ms(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return Pa(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){sd(t.control||null,t,!1),om(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Pd(this.form,this.directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,s=this.form.get(t.path);i!==s&&(sd(i||null,t),lm(s)&&(Pa(s,t,this.callSetDisabledState),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);Sd(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&im(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Oa(this.form,this),this._oldForm&&Ms(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(le(wr,10),le(Ma,10),le(Is,8))},e.\u0275dir=Oe({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&Ae("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{form:[ve.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ft([um]),St,It]});let n=e;return n})();var fm={provide:Fi,useExisting:Yt(()=>Jt)},Jt=(()=>{let e=class e extends Fi{set isDisabled(t){}constructor(t,i,s,o,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.name=null,this.update=new Le,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=sm(this,o)}ngOnChanges(t){this._added||this._setUpControl(),nm(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Zp(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(le(Oi,13),le(wr,10),le(Ma,10),le(Dn,10),le(Td,8))},e.\u0275dir=Oe({type:e,selectors:[["","formControlName",""]],inputs:{name:[ve.None,"formControlName","name"],isDisabled:[ve.None,"disabled","isDisabled"],model:[ve.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ft([fm]),St,It]});let n=e;return n})(),pm={provide:Dn,useExisting:Yt(()=>ks),multi:!0};function Md(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function mm(n){return n.split(":")[0]}var ks=(()=>{let e=class e extends xr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i=this._getOptionId(t),s=Md(i,t);this.setProperty("value",s)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=mm(t);return this._optionMap.has(i)?this._optionMap.get(i):t}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Kt(e)))(s||e)}})(),e.\u0275dir=Oe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&Ae("change",function(d){return s.onChange(d.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[ft([pm]),St]});let n=e;return n})(),Dd=(()=>{let e=class e{constructor(t,i,s){this._element=t,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(Md(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(le(ze),le(Si),le(ks,9))},e.\u0275dir=Oe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let n=e;return n})(),gm={provide:Dn,useExisting:Yt(()=>Id),multi:!0};function ld(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function _m(n){return n.split(":")[0]}var Id=(()=>{let e=class e extends xr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i;if(Array.isArray(t)){let s=t.map(o=>this._getOptionId(o));i=(o,d)=>{o._setSelected(s.indexOf(d.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let d=o;for(let _=0;_<d.length;_++){let u=d[_],c=this._getOptionValue(u.value);s.push(c)}}else{let d=i.options;for(let _=0;_<d.length;_++){let u=d[_];if(u.selected){let c=this._getOptionValue(u.value);s.push(c)}}}this.value=s,t(s)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=_m(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Kt(e)))(s||e)}})(),e.\u0275dir=Oe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&Ae("change",function(d){return s.onChange(d.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[ft([gm]),St]});let n=e;return n})(),Rd=(()=>{let e=class e{constructor(t,i,s){this._element=t,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(ld(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ld(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(le(ze),le(Si),le(Id,9))},e.\u0275dir=Oe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let n=e;return n})();function vm(n){return typeof n=="number"?n:parseInt(n,10)}var kd=(()=>{let e=class e{constructor(){this._validator=As}ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):As,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Oe({type:e,features:[It]});let n=e;return n})();var bm={provide:wr,useExisting:Yt(()=>Ar),multi:!0};var Ar=(()=>{let e=class e extends kd{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=nt,this.createValidator=t=>ud}enabled(t){return t}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Kt(e)))(s||e)}})(),e.\u0275dir=Oe({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&Rt("required",s._enabled?"":null)},inputs:{required:"required"},features:[ft([bm]),St]});let n=e;return n})();var ym={provide:wr,useExisting:Yt(()=>Er),multi:!0},Er=(()=>{let e=class e extends kd{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>vm(t),this.createValidator=t=>fd(t)}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Kt(e)))(s||e)}})(),e.\u0275dir=Oe({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,s){i&2&&Rt("maxlength",s._enabled?s.maxlength:null)},inputs:{maxlength:"maxlength"},features:[ft([ym]),St]});let n=e;return n})();var xm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=He({});let n=e;return n})(),Ta=class extends Mn{constructor(e,r,t){super(Ra(r),ka(t,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,r={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(e,r,t={}){this.controls.splice(e,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(e,r={}){let t=this._adjustIndex(e);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(e,r,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),r&&(this.controls.splice(i,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,r={}){Ad(this,!1,e),e.forEach((t,i)=>{Cd(this,!1,i),this.at(i).setValue(t,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(e.forEach((t,i)=>{this.at(i)&&this.at(i).patchValue(t,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e=[],r={}){this._forEachChild((t,i)=>{t.reset(e[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((r,t)=>t._syncPendingControls()?!0:r,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((r,t)=>{e(r,t)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(r=>r.enabled&&e(r))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function cd(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Ni=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,i=null){let s=this._reduceControls(t),o={};return cd(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Li(s,o)}record(t,i=null){let s=this._reduceControls(t);return new Sa(s,i)}control(t,i,s){let o={};return this.useNonNullable?(cd(i)?o=i:(o.validators=i,o.asyncValidators=s),new Tn(t,Be(pe({},o),{nonNullable:!0}))):new Tn(t,i,s)}array(t,i,s){let o=t.map(d=>this._createControl(d));return new Ta(o,i,s)}_reduceControls(t){let i={};return Object.keys(t).forEach(s=>{i[s]=this._createControl(t[s])}),i}_createControl(t){if(t instanceof Tn)return t;if(t instanceof Mn)return t;if(Array.isArray(t)){let i=t[0],s=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,s,o)}else return this.control(t)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var $t=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:Td,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Is,useValue:t.callSetDisabledState??Rs}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=He({imports:[xm]});let n=e;return n})();var li=(()=>{let e=class e{constructor(){}storeGeneralData(t){for(let i in t)localStorage.setItem(i,JSON.stringify(t[i]))}storeGradingData(t){localStorage.setItem("gradingData",JSON.stringify(t))}clearStoredGeneralData(){localStorage.removeItem("studentFirstName"),localStorage.removeItem("studentLastName"),localStorage.removeItem("matriculationNumber"),localStorage.removeItem("thesisDegree"),localStorage.removeItem("thesisTitle"),localStorage.removeItem("thesisType"),localStorage.removeItem("oberseminarDate"),localStorage.removeItem("oberseminarTime")}clearStoredGradingData(){localStorage.removeItem("gradingData")}isGeneralDataExisting(){return JSON.parse(localStorage.getItem("thesisType"))!==null}isOberseminarSet(){return JSON.parse(localStorage.getItem("oberseminarDate"))!==""}isGradingDataExisting(){return JSON.parse(localStorage.getItem("gradingData"))!==null}getStudentFirstName(){return JSON.parse(localStorage.getItem("studentFirstName"))}getStudentLastName(){return JSON.parse(localStorage.getItem("studentLastName"))}getMatriculationNumber(){return JSON.parse(localStorage.getItem("matriculationNumber"))}getThesisDegree(){return JSON.parse(localStorage.getItem("thesisDegree"))}getThesisTitle(){return JSON.parse(localStorage.getItem("thesisTitle"))}getThesisType(){return JSON.parse(localStorage.getItem("thesisType"))}getOberseminarDate(){return JSON.parse(localStorage.getItem("oberseminarDate"))}getOberseminarTime(){return JSON.parse(localStorage.getItem("oberseminarTime"))}getGradingData(){return JSON.parse(localStorage.getItem("gradingData"))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Pt=(()=>{let e=class e{constructor(t){this.http=t,this.BASE_URL="http://localhost:8000/api"}getGradingTemplate(t){return this.http.get(this.BASE_URL+"/grading/getGradingTemplate/"+t,{headers:{Accept:"application/json"}})}postGradingAndGeneratePDF(t){return this.http.post(this.BASE_URL+"/grading/createPDF",JSON.stringify(t),{headers:{"content-type":"application/json"}})}getPDF(t){return this.http.get(this.BASE_URL+"/grading/getPDF/"+t,{responseType:"blob"})}getEditFormConfig(){return this.http.get(this.BASE_URL+"/grading/getConfigForEdit",{headers:{Accept:"application/json"}})}postLogin(t){return this.http.post(this.BASE_URL+"/users/login",JSON.stringify(t),{headers:{"content-type":"application/json"}})}postUserRegistration(t){return this.http.post(this.BASE_URL+"/users/register",JSON.stringify(t),{headers:{"content-type":"application/json"}})}refreshAuthToken(t){return this.http.post(this.BASE_URL+"/users/refreshToken",JSON.stringify(t),{headers:{"content-type":"application/json"}})}getUserFormForEdit(t){return this.http.get(this.BASE_URL+"/users/getEditForUser/"+t,{headers:{Accept:"application/json"}})}deleteUser(t){return this.http.delete(this.BASE_URL+"/users/deleteUser/"+t)}postChangedUserData(t){return this.http.post(this.BASE_URL+"/users/saveChangedUserData",JSON.stringify(t),{headers:{"content-type":"application/json"}})}getListOfUsers(){return this.http.get(this.BASE_URL+"/users/getListOfUsers",{headers:{Accept:"application/json"}})}getTemplateForEdit(t){return this.http.get(this.BASE_URL+"/rubrics/getTemplateForEdit/"+t,{headers:{Accept:"application/json"}})}getTemplateCollection(){return this.http.get(this.BASE_URL+"/rubrics/getTemplateCollection",{headers:{Accept:"application/json"}})}editTemplate(t){return this.http.post(this.BASE_URL+"/rubrics/saveEditedTemplate",JSON.stringify(t),{headers:{"content-type":"application/json"}})}deleteTemplate(t){return this.http.delete(this.BASE_URL+"/rubrics/deleteTemplate/"+t)}};e.\u0275fac=function(i){return new(i||e)(ue(Eo))},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function wm(n,e){n&1&&(Y(0,"div",30),re(1," Matriculation number has to be 7 digits long. "),q())}function Cm(n,e){if(n&1&&(Y(0,"div",28),xe(1,wm,2,0,"div",29),q()),n&2){let r=he(),t;ce("ngClass","error"),oe(),ce("ngIf",((t=r.generalDataInput.get("matriculationNumber"))==null?null:t.hasError("min"))||((t=r.generalDataInput.get("matriculationNumber"))==null?null:t.hasError("max")))}}function Am(n,e){if(n&1&&(Y(0,"option",31),re(1),q()),n&2){let r=e.$implicit;ce("value",r.id),oe(),Qe(" ",r.title," ")}}function Em(n,e){n&1&&(Y(0,"div",30),re(1,' Thesis title can contain only english and german letters, numbers, spaces and the following symbols: . : , ; ! ? ( ) " % & / - '),q())}function Sm(n,e){if(n&1&&(Y(0,"div",28),xe(1,Em,2,0,"div",29),q()),n&2){let r=he(),t;ce("ngClass","error"),oe(),ce("ngIf",(t=r.generalDataInput.get("thesisTitle"))==null?null:t.hasError("pattern"))}}var Na=(()=>{let e=class e{constructor(t,i,s,o){this.formBuilder=t,this.router=i,this.gradingDataService=s,this.api=o,this.generalDataInput=this.formBuilder.group({studentFirstName:["",Fe.required],studentLastName:["",Fe.required],matriculationNumber:["",[Fe.required,Fe.min(1e6),Fe.max(9999999)]],thesisDegree:["",Fe.required],thesisTitle:["",[Fe.required,Fe.pattern('^([A-Za-z0-9\xC4\xE4\xD6\xF6\xDC\xFC\xDF.:,;!?()"%&/ -])+$')]],thesisType:["",Fe.required],oberseminarDate:"",oberseminarTime:""})}ngOnInit(){this.oberseminarDateLabelElement=document.getElementById("oberseminarDateLabel"),this.oberseminarTimeLabelElement=document.getElementById("oberseminarTimeLabel"),this.api.getTemplateCollection().subscribe(t=>{this.thesisTypeList=t}),this.gradingDataService.isGeneralDataExisting()&&(this.generalDataInput.controls.studentFirstName.setValue(this.gradingDataService.getStudentFirstName()),this.generalDataInput.controls.studentLastName.setValue(this.gradingDataService.getStudentLastName()),this.generalDataInput.controls.matriculationNumber.setValue(this.gradingDataService.getMatriculationNumber()),this.generalDataInput.controls.thesisDegree.setValue(this.gradingDataService.getThesisDegree()),this.generalDataInput.controls.thesisType.setValue(this.gradingDataService.getThesisType()),this.generalDataInput.controls.thesisTitle.setValue(this.gradingDataService.getThesisTitle()),this.generalDataInput.controls.oberseminarDate.setValue(this.gradingDataService.getOberseminarDate()),this.generalDataInput.controls.oberseminarTime.setValue(this.gradingDataService.getOberseminarTime()),this.generalDataInput.controls.studentFirstName.updateValueAndValidity(),this.generalDataInput.controls.studentLastName.updateValueAndValidity(),this.generalDataInput.controls.matriculationNumber.updateValueAndValidity(),this.generalDataInput.controls.thesisDegree.updateValueAndValidity(),this.generalDataInput.controls.thesisType.updateValueAndValidity(),this.generalDataInput.controls.thesisTitle.updateValueAndValidity(),this.generalDataInput.controls.oberseminarDate.updateValueAndValidity(),this.generalDataInput.controls.oberseminarTime.updateValueAndValidity()),this.generalDataInput.valueChanges.subscribe(()=>{this.gradingDataService.storeGeneralData(this.generalDataInput.getRawValue())})}setOberseminarValidators(){this.generalDataInput.getRawValue().thesisDegree==="bachelor's thesis"||this.generalDataInput.getRawValue().oberseminarDate!==""||this.generalDataInput.getRawValue().oberseminarTime!==""?(this.generalDataInput.controls.oberseminarDate.addValidators(Fe.required),this.generalDataInput.controls.oberseminarTime.addValidators(Fe.required),this.oberseminarDateLabelElement.innerHTML='Oberseminar date: <span style="color:red; font-size:80%">&#42;</span>',this.oberseminarTimeLabelElement.innerHTML='Oberseminar time: <span style="color:red; font-size:80%">&#42;</span>'):(this.generalDataInput.controls.oberseminarDate.clearValidators(),this.generalDataInput.controls.oberseminarTime.clearValidators(),this.oberseminarDateLabelElement.innerHTML="Oberseminar date:",this.oberseminarTimeLabelElement.innerHTML="Oberseminar time:"),this.generalDataInput.controls.oberseminarDate.updateValueAndValidity(),this.generalDataInput.controls.oberseminarTime.updateValueAndValidity()}onSubmit(){this.generalDataInput.valid&&(this.gradingDataService.storeGeneralData(this.generalDataInput.value),this.router.navigate(["./gradingSystem"]))}};e.\u0275fac=function(i){return new(i||e)(le(Ni),le(st),le(li),le(Pt))},e.\u0275cmp=Ge({type:e,selectors:[["app-general-data-input"]],standalone:!0,features:[Ye],decls:70,vars:5,consts:[[1,"headline"],[1,"margin20"],[1,"formArea"],[3,"formGroup","ngSubmit"],[1,"sectionLabel"],[1,"formSection"],[1,"formRow"],[1,"formElement"],["for","studentFirstName"],[2,"color","red","font-size","80%"],["type","text","id","studentFirstName","formControlName","studentFirstName"],["type","text","id","studentLastName","formControlName","studentLastName"],["type","number","id","matriculationNumber","formControlName","matriculationNumber",1,"formElement"],[3,"ngClass",4,"ngIf"],["formControlName","thesisDegree","id","thesisDegree",3,"change"],["value","bachelor's thesis"],["value","master's thesis"],["formControlName","thesisType","id","thesisType",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"formRow","formElement"],[1,"floatingLeft"],[1,"floatingRight"],["type","text","id","thesisTitle","formControlName","thesisTitle","maxlength","320"],["id","oberseminarDateLabel"],["type","date","id","oberseminarDate","formControlName","oberseminarDate",3,"change"],["id","oberseminarTimeLabel"],["type","time","id","oberseminarTime","formControlName","oberseminarTime",3,"change"],["type","submit",1,"submit-button",3,"disabled"],[3,"ngClass"],["class","error-message",4,"ngIf"],[1,"error-message"],[3,"value"]],template:function(i,s){if(i&1&&(Y(0,"h1",0),re(1,` General data of student and thesis
`),q(),Y(2,"p",1),re(3,` Please fill the fields below with the general data of the student and the thesis. All required fields are marked with an asterisk. The continue button is only enabled when all required fields are filled with data.
`),q(),Y(4,"div",2)(5,"form",3),Ae("ngSubmit",function(){return s.onSubmit()}),Y(6,"h4",4),re(7," Student data: "),q(),Y(8,"div",5)(9,"div",6)(10,"div",7)(11,"label",8),re(12," First name: "),Y(13,"span",9),re(14,"*"),q()(),Ce(15,"input",10),q(),Y(16,"div",7)(17,"label"),re(18," Last name: "),Y(19,"span",9),re(20,"*"),q()(),Ce(21,"input",11),q(),Y(22,"div",7)(23,"label"),re(24," Matriculation number: "),Y(25,"span",9),re(26,"*"),q()(),Ce(27,"input",12),xe(28,Cm,2,2,"div",13),q()()(),Y(29,"h4",4),re(30," Thesis data: "),q(),Y(31,"div",5)(32,"div",6)(33,"div",7)(34,"label"),re(35," Thesis degree: "),Y(36,"span",9),re(37,"*"),q()(),Y(38,"select",14),Ae("change",function(){return s.setOberseminarValidators()}),Y(39,"option",15),re(40,"Bachelor"),q(),Y(41,"option",16),re(42,"Master"),q()()(),Y(43,"div",7)(44,"label"),re(45," Thesis type: "),Y(46,"span",9),re(47,"*"),q()(),Y(48,"select",17),Ae("change",function(){return s.gradingDataService.clearStoredGradingData()}),xe(49,Am,2,2,"option",18),q()()(),Y(50,"div",19)(51,"label",20),re(52," Thesis title: "),Y(53,"span",9),re(54,"*"),q()(),Y(55,"span",21),re(56," [max 320 characters] "),q(),Ce(57,"input",22),xe(58,Sm,2,2,"div",13),q(),Y(59,"div",6)(60,"div",7)(61,"label",23),re(62," Oberseminar date: "),q(),Y(63,"input",24),Ae("change",function(){return s.setOberseminarValidators()}),q()(),Y(64,"div",7)(65,"label",25),re(66," Oberseminar time: "),q(),Y(67,"input",26),Ae("change",function(){return s.setOberseminarValidators()}),q()()()(),Y(68,"button",27),re(69," Continue to grading "),q()()()),i&2){let o,d;oe(5),ce("formGroup",s.generalDataInput),oe(23),ce("ngIf",(o=s.generalDataInput.get("matriculationNumber"))==null?null:o.hasError),oe(21),ce("ngForOf",s.thesisTypeList),oe(9),ce("ngIf",(d=s.generalDataInput.get("thesisTitle"))==null?null:d.hasError),oe(10),ce("disabled",s.generalDataInput.invalid)}},dependencies:[$t,ai,Dd,Rd,ri,Cr,ks,si,oi,Er,Bt,Jt,rt,pn,mn,Ft],styles:[".sectionLabel[_ngcontent-%COMP%]{margin-bottom:5px;margin-top:10px;font-weight:500}.formArea[_ngcontent-%COMP%]{margin-left:20px;width:580px}.formSection[_ngcontent-%COMP%]{padding:10px;border:1px solid #6699cc;border-radius:5px;margin-bottom:10px;background-color:#e4edf6}.formRow[_ngcontent-%COMP%]{width:550px;display:flex;gap:20px;margin-bottom:10px}.formElement[_ngcontent-%COMP%]{width:auto;display:inline-block}.formElement[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:block;font-size:.8rem;padding-bottom:3px}.formElement[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:.8rem;padding-bottom:3px}.formElement[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{height:22px}.formElement[_ngcontent-%COMP%] > select[_ngcontent-%COMP%]{height:28px}#studentFirstName[_ngcontent-%COMP%], #studentLastName[_ngcontent-%COMP%]{width:172px}#matriculationNumber[_ngcontent-%COMP%]{width:150px}#thesisDegree[_ngcontent-%COMP%]{width:130px}#thesisType[_ngcontent-%COMP%]{width:408px}#thesisTitle[_ngcontent-%COMP%]{width:550px}.submit-button[_ngcontent-%COMP%]{background-color:#69c;padding:5px;border-radius:5px;color:#000;margin-top:1rem;height:2rem;width:10rem;font-size:14px}.submit-button[_ngcontent-%COMP%]:disabled{background-color:gray;border:none;color:#fff;margin-top:1rem;height:2rem;width:10rem;font-size:14px}.error[_ngcontent-%COMP%]{height:auto;margin:0}.error-message[_ngcontent-%COMP%]{color:red;border:1px solid red;font-size:.8rem;margin-top:10px;padding:3px}.floatingLeft[_ngcontent-%COMP%]{float:left}.floatingRight[_ngcontent-%COMP%]{float:right}"]});let n=e;return n})();function Va(n){return n!=null&&`${n}`!="false"}function Rn(n){return Array.isArray(n)?n:[n]}function lt(n){return n==null?"":typeof n=="string"?n:`${n}px`}function Pr(n){return n instanceof ze?n.nativeElement:n}var ja;try{ja=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ja=!1}var Tt=(()=>{let e=class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Jl(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||ja)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(i){return new(i||e)(ue(pi))},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Tr;function Pm(){if(Tr==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Tr=!0}))}finally{Tr=Tr||!1}return Tr}function Ba(n){return Pm()?n:!!n.capture}var Qi;function Od(){if(Qi==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Qi=!1,Qi;if("scrollBehavior"in document.documentElement.style)Qi=!0;else{let n=Element.prototype.scrollTo;n?Qi=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Qi=!1}}return Qi}function Mr(n){return n.composedPath?n.composedPath()[0]:n.target}function Dr(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Tm=new Se("cdk-dir-doc",{providedIn:"root",factory:Mm});function Mm(){return ye(Ne)}var Dm=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Im(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?Dm.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Ji=(()=>{let e=class e{constructor(t){if(this.value="ltr",this.change=new Le,t){let i=t.body?t.body.dir:null,s=t.documentElement?t.documentElement.dir:null;this.value=Im(i||s||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(i){return new(i||e)(ue(Tm,8))},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ji=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=He({});let n=e;return n})();var Os=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,r,t=!0,i){this._multiple=e,this._emitChanges=t,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Re,r&&r.length&&(e?r.forEach(s=>this._markSelected(s)):this._markSelected(r[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}setSelection(...e){this._verifyValueAssignment(e);let r=this.selected,t=new Set(e);e.forEach(s=>this._markSelected(s)),r.filter(s=>!t.has(this._getConcreteValue(s,t))).forEach(s=>this._unmarkSelected(s));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let r=this._hasQueuedChanges();return e&&this._emitChangeEvent(),r}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,r){if(this.compareWith){r=r??this._selection;for(let t of r)if(this.compareWith(e,t))return t;return e}else return e}};var km=20,Fd=(()=>{let e=class e{constructor(t,i,s){this._ngZone=t,this._platform=i,this._scrolled=new Re,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=km){return this._platform.isBrowser?new ui(i=>{this._globalSubscription||this._addGlobalListener();let s=t>0?this._scrolled.pipe(no(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Pe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){let s=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(tt(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(t){let i=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let s=Pr(i),o=t.getElementRef().nativeElement;do if(s==o)return!0;while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();return et(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(i){return new(i||e)(ue(De),ue(Tt),ue(Ne,8))},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Om=20,Ir=(()=>{let e=class e{constructor(t,i,s){this._platform=t,this._change=new Re,this._changeListener=o=>{this._change.next(o)},this._document=s,i.runOutsideAngular(()=>{if(t.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+s,right:t.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,i=this._getWindow(),s=t.documentElement,o=s.getBoundingClientRect(),d=-o.top||t.body.scrollTop||i.scrollY||s.scrollTop||0,_=-o.left||t.body.scrollLeft||i.scrollX||s.scrollLeft||0;return{top:d,left:_}}change(t=Om){return t>0?this._change.pipe(no(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(i){return new(i||e)(ue(Tt),ue(De),ue(Ne,8))},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Fs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=He({});let n=e;return n})(),za=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=He({imports:[ji,Fs,ji,Fs]});let n=e;return n})();var Rr=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Ha=class extends Rr{constructor(e,r,t,i,s){super(),this.component=e,this.viewContainerRef=r,this.injector=t,this.componentFactoryResolver=i,this.projectableNodes=s}},kr=class extends Rr{constructor(e,r,t,i){super(),this.templateRef=e,this.viewContainerRef=r,this.context=t,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,r=this.context){return this.context=r,super.attach(e)}detach(){return this.context=void 0,super.detach()}},Wa=class extends Rr{constructor(e){super(),this.element=e instanceof ze?e.nativeElement:e}},Ga=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Ha)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof kr)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof Wa)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Ls=class extends Ga{constructor(e,r,t,i,s){super(),this.outletElement=e,this._componentFactoryResolver=r,this._appRef=t,this._defaultInjector=i,this.attachDomPortal=o=>{this._document;let d=o.element;d.parentNode;let _=this._document.createComment("dom-portal");d.parentNode.insertBefore(_,d),this.outletElement.appendChild(d),this._attachedPortal=o,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(d,_)})},this._document=s}attachComponentPortal(e){let t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=t.create(e.injector||this._defaultInjector||Ei.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let r=e.viewContainerRef,t=r.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return t.rootNodes.forEach(i=>this.outletElement.appendChild(i)),t.detectChanges(),this.setDisposeFn(()=>{let i=r.indexOf(t);i!==-1&&r.remove(i)}),this._attachedPortal=e,t}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Nd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=He({});let n=e;return n})();function vi(n,...e){return e.length?e.some(r=>n[r]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Vd=Od(),$a=class{constructor(e,r){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=r}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=lt(-this._previousScrollPosition.left),e.style.top=lt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,r=this._document.body,t=e.style,i=r.style,s=t.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Vd&&(t.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Vd&&(t.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let r=this._document.body,t=this._viewportRuler.getViewportSize();return r.scrollHeight>t.height||r.scrollWidth>t.width}};var qa=class{constructor(e,r,t,i){this._scrollDispatcher=e,this._ngZone=r,this._viewportRuler=t,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(tt(r=>!r||!this._overlayRef.overlayElement.contains(r.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let r=this._viewportRuler.getViewportScrollPosition().top;Math.abs(r-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Ns=class{enable(){}disable(){}attach(){}};function Xa(n,e){return e.some(r=>{let t=n.bottom<r.top,i=n.top>r.bottom,s=n.right<r.left,o=n.left>r.right;return t||i||s||o})}function jd(n,e){return e.some(r=>{let t=n.top<r.top,i=n.bottom>r.bottom,s=n.left<r.left,o=n.right>r.right;return t||i||s||o})}var Ya=class{constructor(e,r,t,i){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=t,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let r=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:i}=this._viewportRuler.getViewportSize();Xa(r,[{width:t,height:i,bottom:i,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Lm=(()=>{let e=class e{constructor(t,i,s,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new Ns,this.close=d=>new qa(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new $a(this._viewportRuler,this._document),this.reposition=d=>new Ya(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=o}};e.\u0275fac=function(i){return new(i||e)(ue(Fd),ue(Ir),ue(De),ue(Ne))},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Vs=class{constructor(e){if(this.scrollStrategy=new Ns,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let r=Object.keys(e);for(let t of r)e[t]!==void 0&&(this[t]=e[t])}}};var Ka=class{constructor(e,r){this.connectionPair=e,this.scrollableViewProperties=r}};var Wd=(()=>{let e=class e{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(i){return new(i||e)(ue(Ne))},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Nm=(()=>{let e=class e extends Wd{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=s=>{let o=this._attachedOverlays;for(let d=o.length-1;d>-1;d--)if(o[d]._keydownEvents.observers.length>0){let _=o[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>_.next(s)):_.next(s);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(i){return new(i||e)(ue(Ne),ue(De,8))},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Vm=(()=>{let e=class e extends Wd{constructor(t,i,s){super(t),this._platform=i,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Mr(o)},this._clickListener=o=>{let d=Mr(o),_=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;let u=this._attachedOverlays.slice();for(let c=u.length-1;c>-1;c--){let a=u[c];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(a.overlayElement.contains(d)||a.overlayElement.contains(_))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(o)):l.next(o)}}}add(t){if(super.add(t),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(i){return new(i||e)(ue(Ne),ue(Tt),ue(De,8))},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Gd=(()=>{let e=class e{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||Dr()){let s=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<s.length;o++)s[o].remove()}let i=this._document.createElement("div");i.classList.add(t),Dr()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}};e.\u0275fac=function(i){return new(i||e)(ue(Ne),ue(Tt))},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Za=class{constructor(e,r,t,i,s,o,d,_,u,c=!1){this._portalOutlet=e,this._host=r,this._pane=t,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=d,this._location=_,this._outsideClickDispatcher=u,this._animationsDisabled=c,this._backdropElement=null,this._backdropClick=new Re,this._attachments=new Re,this._detachments=new Re,this._locationChanges=kt.EMPTY,this._backdropClickHandler=a=>this._backdropClick.next(a),this._backdropTransitionendHandler=a=>{this._disposeBackdrop(a.target)},this._keydownEvents=new Re,this._outsidePointerEvents=new Re,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let r=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Dt(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof r?.onDestroy=="function"&&r.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),r}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=pe(pe({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Be(pe({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=lt(this._config.width),e.height=lt(this._config.height),e.minWidth=lt(this._config.minWidth),e.minHeight=lt(this._config.minHeight),e.maxWidth=lt(this._config.maxWidth),e.maxHeight=lt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,r,t){let i=Rn(r||[]).filter(s=>!!s);i.length&&(t?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let e=this._ngZone.onStable.pipe(Me(Ci(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},Bd="cdk-overlay-connected-position-bounding-box",jm=/([A-Za-z%]+)$/,Qa=class{get positions(){return this._preferredPositions}constructor(e,r,t,i,s){this._viewportRuler=r,this._document=t,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Re,this._resizeSubscription=kt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(Bd),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,r=this._overlayRect,t=this._viewportRect,i=this._containerRect,s=[],o;for(let d of this._preferredPositions){let _=this._getOriginPoint(e,i,d),u=this._getOverlayPoint(_,r,d),c=this._getOverlayFit(u,r,t,d);if(c.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(d,_);return}if(this._canFitWithFlexibleDimensions(c,u,t)){s.push({position:d,origin:_,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(_,d)});continue}(!o||o.overlayFit.visibleArea<c.visibleArea)&&(o={overlayFit:c,overlayPoint:u,originPoint:_,position:d,overlayRect:r})}if(s.length){let d=null,_=-1;for(let u of s){let c=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);c>_&&(_=c,d=u)}this._isPushed=!1,this._applyPosition(d.position,d.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&en(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Bd),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let r=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,r)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,r,t){let i;if(t.originX=="center")i=e.left+e.width/2;else{let o=this._isRtl()?e.right:e.left,d=this._isRtl()?e.left:e.right;i=t.originX=="start"?o:d}r.left<0&&(i-=r.left);let s;return t.originY=="center"?s=e.top+e.height/2:s=t.originY=="top"?e.top:e.bottom,r.top<0&&(s-=r.top),{x:i,y:s}}_getOverlayPoint(e,r,t){let i;t.overlayX=="center"?i=-r.width/2:t.overlayX==="start"?i=this._isRtl()?-r.width:0:i=this._isRtl()?0:-r.width;let s;return t.overlayY=="center"?s=-r.height/2:s=t.overlayY=="top"?0:-r.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,r,t,i){let s=zd(r),{x:o,y:d}=e,_=this._getOffset(i,"x"),u=this._getOffset(i,"y");_&&(o+=_),u&&(d+=u);let c=0-o,a=o+s.width-t.width,l=0-d,p=d+s.height-t.height,f=this._subtractOverflows(s.width,c,a),h=this._subtractOverflows(s.height,l,p),v=f*h;return{visibleArea:v,isCompletelyWithinViewport:s.width*s.height===v,fitsInViewportVertically:h===s.height,fitsInViewportHorizontally:f==s.width}}_canFitWithFlexibleDimensions(e,r,t){if(this._hasFlexibleDimensions){let i=t.bottom-r.y,s=t.right-r.x,o=Ud(this._overlayRef.getConfig().minHeight),d=Ud(this._overlayRef.getConfig().minWidth),_=e.fitsInViewportVertically||o!=null&&o<=i,u=e.fitsInViewportHorizontally||d!=null&&d<=s;return _&&u}return!1}_pushOverlayOnScreen(e,r,t){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=zd(r),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),d=Math.max(e.y+i.height-s.height,0),_=Math.max(s.top-t.top-e.y,0),u=Math.max(s.left-t.left-e.x,0),c=0,a=0;return i.width<=s.width?c=u||-o:c=e.x<this._viewportMargin?s.left-t.left-e.x:0,i.height<=s.height?a=_||-d:a=e.y<this._viewportMargin?s.top-t.top-e.y:0,this._previousPushAmount={x:c,y:a},{x:e.x+c,y:e.y+a}}_applyPosition(e,r){if(this._setTransformOrigin(e),this._setOverlayElementStyles(r,e),this._setBoundingBoxStyles(r,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let t=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!Bm(this._lastScrollVisibility,t)){let i=new Ka(e,t);this._positionChanges.next(i)}this._lastScrollVisibility=t}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let r=this._boundingBox.querySelectorAll(this._transformOriginSelector),t,i=e.overlayY;e.overlayX==="center"?t="center":this._isRtl()?t=e.overlayX==="start"?"right":"left":t=e.overlayX==="start"?"left":"right";for(let s=0;s<r.length;s++)r[s].style.transformOrigin=`${t} ${i}`}_calculateBoundingBoxRect(e,r){let t=this._viewportRect,i=this._isRtl(),s,o,d;if(r.overlayY==="top")o=e.y,s=t.height-o+this._viewportMargin;else if(r.overlayY==="bottom")d=t.height-e.y+this._viewportMargin*2,s=t.height-d+this._viewportMargin;else{let p=Math.min(t.bottom-e.y+t.top,e.y),f=this._lastBoundingBoxSize.height;s=p*2,o=e.y-p,s>f&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-f/2)}let _=r.overlayX==="start"&&!i||r.overlayX==="end"&&i,u=r.overlayX==="end"&&!i||r.overlayX==="start"&&i,c,a,l;if(u)l=t.width-e.x+this._viewportMargin*2,c=e.x-this._viewportMargin;else if(_)a=e.x,c=t.right-e.x;else{let p=Math.min(t.right-e.x+t.left,e.x),f=this._lastBoundingBoxSize.width;c=p*2,a=e.x-p,c>f&&!this._isInitialRender&&!this._growAfterOpen&&(a=e.x-f/2)}return{top:o,left:a,bottom:d,right:l,width:c,height:s}}_setBoundingBoxStyles(e,r){let t=this._calculateBoundingBoxRect(e,r);!this._isInitialRender&&!this._growAfterOpen&&(t.height=Math.min(t.height,this._lastBoundingBoxSize.height),t.width=Math.min(t.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=lt(t.height),i.top=lt(t.top),i.bottom=lt(t.bottom),i.width=lt(t.width),i.left=lt(t.left),i.right=lt(t.right),r.overlayX==="center"?i.alignItems="center":i.alignItems=r.overlayX==="end"?"flex-end":"flex-start",r.overlayY==="center"?i.justifyContent="center":i.justifyContent=r.overlayY==="bottom"?"flex-end":"flex-start",s&&(i.maxHeight=lt(s)),o&&(i.maxWidth=lt(o))}this._lastBoundingBoxSize=t,en(this._boundingBox.style,i)}_resetBoundingBoxStyles(){en(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){en(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,r){let t={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){let c=this._viewportRuler.getViewportScrollPosition();en(t,this._getExactOverlayY(r,e,c)),en(t,this._getExactOverlayX(r,e,c))}else t.position="static";let d="",_=this._getOffset(r,"x"),u=this._getOffset(r,"y");_&&(d+=`translateX(${_}px) `),u&&(d+=`translateY(${u}px)`),t.transform=d.trim(),o.maxHeight&&(i?t.maxHeight=lt(o.maxHeight):s&&(t.maxHeight="")),o.maxWidth&&(i?t.maxWidth=lt(o.maxWidth):s&&(t.maxWidth="")),en(this._pane.style,t)}_getExactOverlayY(e,r,t){let i={top:"",bottom:""},s=this._getOverlayPoint(r,this._overlayRect,e);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,t)),e.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;i.bottom=`${o-(s.y+this._overlayRect.height)}px`}else i.top=lt(s.y);return i}_getExactOverlayX(e,r,t){let i={left:"",right:""},s=this._getOverlayPoint(r,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,t));let o;if(this._isRtl()?o=e.overlayX==="end"?"left":"right":o=e.overlayX==="end"?"right":"left",o==="right"){let d=this._document.documentElement.clientWidth;i.right=`${d-(s.x+this._overlayRect.width)}px`}else i.left=lt(s.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),r=this._pane.getBoundingClientRect(),t=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jd(e,t),isOriginOutsideView:Xa(e,t),isOverlayClipped:jd(r,t),isOverlayOutsideView:Xa(r,t)}}_subtractOverflows(e,...r){return r.reduce((t,i)=>t-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,r=this._document.documentElement.clientHeight,t=this._viewportRuler.getViewportScrollPosition();return{top:t.top+this._viewportMargin,left:t.left+this._viewportMargin,right:t.left+e-this._viewportMargin,bottom:t.top+r-this._viewportMargin,width:e-2*this._viewportMargin,height:r-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,r){return r==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Rn(e).forEach(r=>{r!==""&&this._appliedPanelClasses.indexOf(r)===-1&&(this._appliedPanelClasses.push(r),this._pane.classList.add(r))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof ze)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let r=e.width||0,t=e.height||0;return{top:e.y,bottom:e.y+t,left:e.x,right:e.x+r,height:t,width:r}}};function en(n,e){for(let r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function Ud(n){if(typeof n!="number"&&n!=null){let[e,r]=n.split(jm);return!r||r==="px"?parseFloat(e):null}return n||null}function zd(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function Bm(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var Hd="cdk-global-overlay-wrapper",Ja=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let r=e.getConfig();this._overlayRef=e,this._width&&!r.width&&e.updateSize({width:this._width}),this._height&&!r.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Hd),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement.style,t=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:d}=t,_=(i==="100%"||i==="100vw")&&(!o||o==="100%"||o==="100vw"),u=(s==="100%"||s==="100vh")&&(!d||d==="100%"||d==="100vh"),c=this._xPosition,a=this._xOffset,l=this._overlayRef.getConfig().direction==="rtl",p="",f="",h="";_?h="flex-start":c==="center"?(h="center",l?f=a:p=a):l?c==="left"||c==="end"?(h="flex-end",p=a):(c==="right"||c==="start")&&(h="flex-start",f=a):c==="left"||c==="start"?(h="flex-start",p=a):(c==="right"||c==="end")&&(h="flex-end",f=a),e.position=this._cssPosition,e.marginLeft=_?"0":p,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=_?"0":f,r.justifyContent=h,r.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement,t=r.style;r.classList.remove(Hd),t.justifyContent=t.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},Um=(()=>{let e=class e{constructor(t,i,s,o){this._viewportRuler=t,this._document=i,this._platform=s,this._overlayContainer=o}global(){return new Ja}flexibleConnectedTo(t){return new Qa(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(i){return new(i||e)(ue(Ir),ue(Ne),ue(Tt),ue(Gd))},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),zm=0,tn=(()=>{let e=class e{constructor(t,i,s,o,d,_,u,c,a,l,p,f){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=o,this._keyboardDispatcher=d,this._injector=_,this._ngZone=u,this._document=c,this._directionality=a,this._location=l,this._outsideClickDispatcher=p,this._animationsModuleType=f}create(t){let i=this._createHostElement(),s=this._createPaneElement(i),o=this._createPortalOutlet(s),d=new Vs(t);return d.direction=d.direction||this._directionality.value,new Za(o,i,s,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(t){let i=this._document.createElement("div");return i.id=`cdk-overlay-${zm++}`,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){let t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(hn)),new Ls(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(i){return new(i||e)(ue(Lm),ue(Gd),ue(po),ue(Um),ue(Nm),ue(Ei),ue(De),ue(Ne),ue(Ji),ue(fn),ue(Vm),ue(mi,8))},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Hm=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],$d=new Se("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=ye(tn);return()=>n.scrollStrategies.reposition()}}),js=(()=>{let e=class e{constructor(t){this.elementRef=t}};e.\u0275fac=function(i){return new(i||e)(le(ze))},e.\u0275dir=Oe({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0});let n=e;return n})(),el=(()=>{let e=class e{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}constructor(t,i,s,o,d){this._overlay=t,this._dir=d,this._backdropSubscription=kt.EMPTY,this._attachSubscription=kt.EMPTY,this._detachSubscription=kt.EMPTY,this._positionSubscription=kt.EMPTY,this._disposeOnNavigation=!1,this._ngZone=ye(De),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Le,this.positionChange=new Le,this.attach=new Le,this.detach=new Le,this.overlayKeydown=new Le,this.overlayOutsideClick=new Le,this._templatePortal=new kr(i,s),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Hm);let t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),i.keyCode===27&&!this.disableClose&&!vi(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){let t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Vs({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(i.width=this.width),(this.height||this.height===0)&&(i.height=this.height),(this.minWidth||this.minWidth===0)&&(i.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){let i=this.positions.map(s=>({originX:s.originX,originY:s.originY,overlayX:s.overlayX,overlayY:s.overlayY,offsetX:s.offsetX||this.offsetX,offsetY:s.offsetY||this.offsetY,panelClass:s.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof js?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(kl(()=>this.positionChange.observers.length>0)).subscribe(t=>{this._ngZone.run(()=>this.positionChange.emit(t)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(le(tn),le(Gr),le(ln),le($d),le(Ji,8))},e.\u0275dir=Oe({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[ve.None,"cdkConnectedOverlayOrigin","origin"],positions:[ve.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[ve.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[ve.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[ve.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[ve.None,"cdkConnectedOverlayWidth","width"],height:[ve.None,"cdkConnectedOverlayHeight","height"],minWidth:[ve.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[ve.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[ve.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[ve.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[ve.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[ve.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[ve.None,"cdkConnectedOverlayOpen","open"],disableClose:[ve.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[ve.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[ve.HasDecoratorInputTransform,"cdkConnectedOverlayHasBackdrop","hasBackdrop",nt],lockPosition:[ve.HasDecoratorInputTransform,"cdkConnectedOverlayLockPosition","lockPosition",nt],flexibleDimensions:[ve.HasDecoratorInputTransform,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",nt],growAfterOpen:[ve.HasDecoratorInputTransform,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",nt],push:[ve.HasDecoratorInputTransform,"cdkConnectedOverlayPush","push",nt],disposeOnNavigation:[ve.HasDecoratorInputTransform,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",nt]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Qt,It]});let n=e;return n})();function Wm(n){return()=>n.scrollStrategies.reposition()}var Gm={provide:$d,deps:[tn],useFactory:Wm},qd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=He({providers:[tn,Gm],imports:[ji,Nd,za,za]});let n=e;return n})();var $m=(()=>{let e=class e{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Xd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=He({providers:[$m]});let n=e;return n})();var Yd=new Set,nn,qm=(()=>{let e=class e{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ym}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&Xm(t,this._nonce),this._matchMedia(t)}};e.\u0275fac=function(i){return new(i||e)(ue(Tt),ue(Un,8))},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Xm(n,e){if(!Yd.has(n))try{nn||(nn=document.createElement("style"),e&&nn.setAttribute("nonce",e),nn.setAttribute("type","text/css"),document.head.appendChild(nn)),nn.sheet&&(nn.sheet.insertRule(`@media ${n} {body{ }}`,0),Yd.add(n))}catch(r){console.error(r)}}function Ym(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var Zd=(()=>{let e=class e{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Re}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Kd(Rn(t)).some(s=>this._registerQuery(s).mql.matches)}observe(t){let s=Kd(Rn(t)).map(d=>this._registerQuery(d).observable),o=Vn(s);return o=zr(o.pipe(Dt(1)),o.pipe(ao(1),on(0))),o.pipe(ke(d=>{let _={matches:!1,breakpoints:{}};return d.forEach(({matches:u,query:c})=>{_.matches=_.matches||u,_.breakpoints[c]=u}),_}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let i=this._mediaMatcher.matchMedia(t),o={observable:new ui(d=>{let _=u=>this._zone.run(()=>d.next(u));return i.addListener(_),()=>{i.removeListener(_)}}).pipe(Ai(i),ke(({matches:d})=>({query:t,matches:d})),Me(this._destroySubject)),mql:i};return this._queries.set(t,o),o}};e.\u0275fac=function(i){return new(i||e)(ue(qm),ue(De))},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Kd(n){return n.map(e=>e.split(",")).reduce((e,r)=>e.concat(r)).map(e=>e.trim())}var eh=" ";function th(n,e,r){let t=ih(n,e);r=r.trim(),!t.some(i=>i.trim()===r)&&(t.push(r),n.setAttribute(e,t.join(eh)))}function ol(n,e,r){let t=ih(n,e);r=r.trim();let i=t.filter(s=>s!==r);i.length?n.setAttribute(e,i.join(eh)):n.removeAttribute(e)}function ih(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}var il=class{constructor(e,r){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Re,this._typeaheadSubscription=kt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Re,this.change=new Re,e instanceof ho?this._itemChangesSubscription=e.changes.subscribe(t=>this._itemsChanged(t.toArray())):mo(e)&&(this._effectRef=Ul(()=>this._itemsChanged(e()),{injector:r}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(it(r=>this._pressedLetters.push(r)),on(e),tt(()=>this._pressedLetters.length>0),ke(()=>this._pressedLetters.join(""))).subscribe(r=>{let t=this._getItemsArray();for(let i=1;i<t.length+1;i++){let s=(this._activeItemIndex+i)%t.length,o=t[s];if(!this._skipPredicateFn(o)&&o.getLabel().toUpperCase().trim().indexOf(r)===0){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,r=10){return this._pageUpAndDown={enabled:e,delta:r},this}setActiveItem(e){let r=this._activeItem;this.updateActiveItem(e),this._activeItem!==r&&this.change.next(this._activeItemIndex)}onKeydown(e){let r=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(r){case 9:this.tabOut.next();return;case 40:if(this._vertical&&i){this.setNextItemActive();break}else return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&i){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&i){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&i){let s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&i){let s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}else return;default:(i||vi(e,"shiftKey"))&&(e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(r>=65&&r<=90||r>=48&&r<=57)&&this._letterKeyStream.next(String.fromCharCode(r)));return}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let r=this._getItemsArray(),t=typeof e=="number"?e:r.indexOf(e),i=r[t];this._activeItem=i??null,this._activeItemIndex=t}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let r=this._getItemsArray();for(let t=1;t<=r.length;t++){let i=(this._activeItemIndex+e*t+r.length)%r.length,s=r[i];if(!this._skipPredicateFn(s)){this.setActiveItem(i);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,r){let t=this._getItemsArray();if(t[e]){for(;this._skipPredicateFn(t[e]);)if(e+=r,!t[e])return;this.setActiveItem(e)}}_getItemsArray(){return mo(this._items)?this._items():this._items instanceof ho?this._items.toArray():this._items}_itemsChanged(e){if(this._activeItem){let r=e.indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}},Bs=class extends il{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}};function nh(n){return n.buttons===0||n.detail===0}function rh(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var rg=new Se("liveAnnouncerElement",{providedIn:"root",factory:sg});function sg(){return null}var og=new Se("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),ag=0,sh=(()=>{let e=class e{constructor(t,i,s,o){this._ngZone=i,this._defaultOptions=o,this._document=s,this._liveElement=t||this._createLiveElement()}announce(t,...i){let s=this._defaultOptions,o,d;return i.length===1&&typeof i[0]=="number"?d=i[0]:[o,d]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=s&&s.politeness?s.politeness:"polite"),d==null&&s&&(d=s.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(_=>this._currentResolve=_)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof d=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),d)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),s=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return s.classList.add(t),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),s.id=`cdk-live-announcer-${ag++}`,this._document.body.appendChild(s),s}_exposeAnnouncerToModals(t){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<i.length;s++){let o=i[s],d=o.getAttribute("aria-owns");d?d.indexOf(t)===-1&&o.setAttribute("aria-owns",d+" "+t):o.setAttribute("aria-owns",t)}}};e.\u0275fac=function(i){return new(i||e)(ue(rg,8),ue(De),ue(Ne),ue(og,8))},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var rn=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(rn||{}),Qd="cdk-high-contrast-black-on-white",Jd="cdk-high-contrast-white-on-black",tl="cdk-high-contrast-active",oh=(()=>{let e=class e{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=ye(Zd).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return rn.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return rn.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return rn.BLACK_ON_WHITE}return rn.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(tl,Qd,Jd),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===rn.BLACK_ON_WHITE?t.add(tl,Qd):i===rn.WHITE_ON_BLACK&&t.add(tl,Jd)}}};e.\u0275fac=function(i){return new(i||e)(ue(Tt),ue(Ne))},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var lg=["text"];function cg(n,e){if(n&1&&Ce(0,"mat-pseudo-checkbox",6),n&2){let r=he();ce("disabled",r.disabled)("state",r.selected?"checked":"unchecked")}}function dg(n,e){if(n&1&&Ce(0,"mat-pseudo-checkbox",7),n&2){let r=he();ce("disabled",r.disabled)}}function hg(n,e){if(n&1&&(Y(0,"span",8),re(1),q()),n&2){let r=he();oe(),Qe("(",r.group.label,")")}}var ug=[[["mat-icon"]],"*"],fg=["mat-icon","*"];function pg(){return!0}var mg=new Se("mat-sanity-checks",{providedIn:"root",factory:pg}),ci=(()=>{let e=class e{constructor(t,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return Dr()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[t]}};e.\u0275fac=function(i){return new(i||e)(ue(oh),ue(mg,8),ue(Ne))},e.\u0275mod=Ue({type:e}),e.\u0275inj=He({imports:[ji,ji]});let n=e;return n})();var Hs=class{constructor(e,r,t,i,s){this._defaultMatcher=e,this.ngControl=r,this._parentFormGroup=t,this._parentForm=i,this._stateChanges=s,this.errorState=!1}updateErrorState(){let e=this.errorState,r=this._parentFormGroup||this._parentForm,t=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,s=t?.isErrorState(i,r)??!1;s!==e&&(this.errorState=s,this._stateChanges.next())}};var fh=(()=>{let e=class e{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var qt=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(qt||{}),al=class{constructor(e,r,t,i=!1){this._renderer=e,this.element=r,this.config=t,this._animationForciblyDisabledThroughCss=i,this.state=qt.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},lh=Ba({passive:!0,capture:!0}),ll=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let r=Mr(e);r&&this._events.get(e.type)?.forEach((t,i)=>{(i===r||i.contains(r))&&t.forEach(s=>s.handleEvent(e))})}}addHandler(e,r,t,i){let s=this._events.get(r);if(s){let o=s.get(t);o?o.add(i):s.set(t,new Set([i]))}else this._events.set(r,new Map([[t,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(r,this._delegateEventHandler,lh)})}removeHandler(e,r,t){let i=this._events.get(e);if(!i)return;let s=i.get(r);s&&(s.delete(t),s.size===0&&i.delete(r),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,lh)))}},ch={enterDuration:225,exitDuration:150},gg=800,dh=Ba({passive:!0,capture:!0}),hh=["mousedown","touchstart"],uh=["mouseup","mouseleave","touchend","touchcancel"],Or=class Or{constructor(e,r,t,i){this._target=e,this._ngZone=r,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Pr(t))}fadeInRipple(e,r,t={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=pe(pe({},ch),t.animation);t.centered&&(e=i.left+i.width/2,r=i.top+i.height/2);let o=t.radius||_g(e,r,i),d=e-i.left,_=r-i.top,u=s.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=`${d-o}px`,c.style.top=`${_-o}px`,c.style.height=`${o*2}px`,c.style.width=`${o*2}px`,t.color!=null&&(c.style.backgroundColor=t.color),c.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(c);let a=window.getComputedStyle(c),l=a.transitionProperty,p=a.transitionDuration,f=l==="none"||p==="0s"||p==="0s, 0s"||i.width===0&&i.height===0,h=new al(this,c,t,f);c.style.transform="scale3d(1, 1, 1)",h.state=qt.FADING_IN,t.persistent||(this._mostRecentTransientRipple=h);let v=null;return!f&&(u||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let m=()=>this._finishRippleTransition(h),E=()=>this._destroyRipple(h);c.addEventListener("transitionend",m),c.addEventListener("transitioncancel",E),v={onTransitionEnd:m,onTransitionCancel:E}}),this._activeRipples.set(h,v),(f||!u)&&this._finishRippleTransition(h),h}fadeOutRipple(e){if(e.state===qt.FADING_OUT||e.state===qt.HIDDEN)return;let r=e.element,t=pe(pe({},ch),e.config.animation);r.style.transitionDuration=`${t.exitDuration}ms`,r.style.opacity="0",e.state=qt.FADING_OUT,(e._animationForciblyDisabledThroughCss||!t.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let r=Pr(e);!this._platform.isBrowser||!r||r===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=r,hh.forEach(t=>{Or._eventManager.addHandler(this._ngZone,t,r,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{uh.forEach(r=>{this._triggerElement.addEventListener(r,this,dh)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===qt.FADING_IN?this._startFadeOutTransition(e):e.state===qt.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let r=e===this._mostRecentTransientRipple,{persistent:t}=e.config;e.state=qt.VISIBLE,!t&&(!r||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let r=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=qt.HIDDEN,r!==null&&(e.element.removeEventListener("transitionend",r.onTransitionEnd),e.element.removeEventListener("transitioncancel",r.onTransitionCancel)),e.element.remove()}_onMousedown(e){let r=nh(e),t=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+gg;!this._target.rippleDisabled&&!r&&!t&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!rh(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let r=e.changedTouches;if(r)for(let t=0;t<r.length;t++)this.fadeInRipple(r[t].clientX,r[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let r=e.state===qt.VISIBLE||e.config.terminateOnPointerUp&&e.state===qt.FADING_IN;!e.config.persistent&&r&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(hh.forEach(r=>Or._eventManager.removeHandler(r,e,this)),this._pointerUpEventsRegistered&&uh.forEach(r=>e.removeEventListener(r,this,dh)))}};Or._eventManager=new ll;var cl=Or;function _g(n,e,r){let t=Math.max(Math.abs(n-r.left),Math.abs(n-r.right)),i=Math.max(Math.abs(e-r.top),Math.abs(e-r.bottom));return Math.sqrt(t*t+i*i)}var vg=new Se("mat-ripple-global-options"),bg=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,s,o,d){this._elementRef=t,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new cl(this,i,t,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:pe(pe(pe({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,s){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,i,pe(pe({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,pe(pe({},this.rippleConfig),t))}};e.\u0275fac=function(i){return new(i||e)(le(ze),le(De),le(Tt),le(vg,8),le(mi,8))},e.\u0275dir=Oe({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,s){i&2&&xt("mat-ripple-unbounded",s.unbounded)},inputs:{color:[ve.None,"matRippleColor","color"],unbounded:[ve.None,"matRippleUnbounded","unbounded"],centered:[ve.None,"matRippleCentered","centered"],radius:[ve.None,"matRippleRadius","radius"],animation:[ve.None,"matRippleAnimation","animation"],disabled:[ve.None,"matRippleDisabled","disabled"],trigger:[ve.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let n=e;return n})(),yg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=He({imports:[ci,ci]});let n=e;return n})(),xg=(()=>{let e=class e{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}};e.\u0275fac=function(i){return new(i||e)(le(mi,8))},e.\u0275cmp=Ge({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,s){i&2&&xt("mat-pseudo-checkbox-indeterminate",s.state==="indeterminate")("mat-pseudo-checkbox-checked",s.state==="checked")("mat-pseudo-checkbox-disabled",s.disabled)("mat-pseudo-checkbox-minimal",s.appearance==="minimal")("mat-pseudo-checkbox-full",s.appearance==="full")("_mat-animation-noopable",s._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[Ye],decls:0,vars:0,template:function(i,s){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0});let n=e;return n})(),wg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=He({imports:[ci]});let n=e;return n})(),hl=new Se("MAT_OPTION_PARENT_COMPONENT");var ul=new Se("MatOptgroup");var Cg=0,dl=class{constructor(e,r=!1){this.source=e,this.isUserInput=r}},On=(()=>{let e=class e{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=t}get disableRipple(){return!!(this._parent&&this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}constructor(t,i,s,o){this._element=t,this._changeDetectorRef=i,this._parent=s,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${Cg++}`,this.onSelectionChange=new Le,this._stateChanges=new Re}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(t=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}deselect(t=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}focus(t,i){let s=this._getHostElement();typeof s.focus=="function"&&s.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(t.keyCode===13||t.keyCode===32)&&!vi(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new dl(this,t))}};e.\u0275fac=function(i){return new(i||e)(le(ze),le(Zt),le(hl,8),le(ul,8))},e.\u0275cmp=Ge({type:e,selectors:[["mat-option"]],viewQuery:function(i,s){if(i&1&&wt(lg,7),i&2){let o;Ke(o=Ze())&&(s._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,s){i&1&&Ae("click",function(){return s._selectViaInteraction()})("keydown",function(d){return s._handleKeydown(d)}),i&2&&(qr("id",s.id),Rt("aria-selected",s.selected)("aria-disabled",s.disabled.toString()),xt("mdc-list-item--selected",s.selected)("mat-mdc-option-multiple",s.multiple)("mat-mdc-option-active",s.active)("mdc-list-item--disabled",s.disabled))},inputs:{value:"value",id:"id",disabled:[ve.HasDecoratorInputTransform,"disabled","disabled",nt]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[Qt,Ye],ngContentSelectors:fg,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled"],["class","cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(i,s){i&1&&(Pi(ug),xe(0,cg,1,2,"mat-pseudo-checkbox",0),_t(1),Y(2,"span",1,2),_t(4,1),q(),xe(5,dg,1,1,"mat-pseudo-checkbox",3)(6,hg,2,1,"span",4),Ce(7,"div",5)),i&2&&(at(0,s.multiple?0:-1),oe(5),at(5,!s.multiple&&s.selected&&!s.hideSingleSelectionIndicator?5:-1),oe(),at(6,s.group&&s.group._inert?6:-1),oe(),ce("matRippleTrigger",s._getHostElement())("matRippleDisabled",s.disabled||s.disableRipple))},dependencies:[xg,bg],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let n=e;return n})();function ph(n,e,r){if(r.length){let t=e.toArray(),i=r.toArray(),s=0;for(let o=0;o<n+1;o++)t[o].group&&t[o].group===i[s]&&s++;return s}return 0}function mh(n,e,r,t){return n<r?n:n+e>r+t?Math.max(0,n-t+e):r}var fl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=He({imports:[yg,ci,wg]});let n=e;return n})();var ml=class{constructor(e){this._box=e,this._destroyed=new Re,this._resizeSubject=new Re,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(r=>this._resizeSubject.next(r)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new ui(r=>{let t=this._resizeSubject.subscribe(r);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),t.unsubscribe(),this._elementObservables.delete(e)}}).pipe(tt(r=>r.some(t=>t.target===e)),oo({bufferSize:1,refCount:!0}),Me(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},gh=(()=>{let e=class e{constructor(){this._observers=new Map,this._ngZone=ye(De),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(t,i){let s=i?.box||"content-box";return this._observers.has(s)||this._observers.set(s,new ml(s)),this._observers.get(s).observe(t)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Ag=["notch"],Eg=["matFormFieldNotchedOutline",""],Sg=["*"],Pg=["textField"],Tg=["iconPrefixContainer"],Mg=["textPrefixContainer"];function Dg(n,e){n&1&&Ce(0,"span",16)}function Ig(n,e){if(n&1&&(Y(0,"label",14),_t(1,1),xe(2,Dg,1,0,"span",15),q()),n&2){let r=he(2);ce("floating",r._shouldLabelFloat())("monitorResize",r._hasOutline())("id",r._labelId),Rt("for",r._control.disableAutomaticLabeling?null:r._control.id),oe(2),at(2,!r.hideRequiredMarker&&r._control.required?2:-1)}}function Rg(n,e){if(n&1&&xe(0,Ig,3,5,"label",14),n&2){let r=he();at(0,r._hasFloatingLabel()?0:-1)}}function kg(n,e){n&1&&Ce(0,"div",17)}function Og(n,e){}function Fg(n,e){if(n&1&&xe(0,Og,0,0,"ng-template",9),n&2){he(2);let r=Gn(1);ce("ngTemplateOutlet",r)}}function Lg(n,e){if(n&1&&(Y(0,"div",5),xe(1,Fg,1,1,null,9),q()),n&2){let r=he();ce("matFormFieldNotchedOutlineOpen",r._shouldLabelFloat()),oe(),at(1,r._forceDisplayInfixLabel()?-1:1)}}function Ng(n,e){n&1&&(Y(0,"div",18,19),_t(2,2),q())}function Vg(n,e){n&1&&(Y(0,"div",20,21),_t(2,3),q())}function jg(n,e){}function Bg(n,e){if(n&1&&xe(0,jg,0,0,"ng-template",9),n&2){he();let r=Gn(1);ce("ngTemplateOutlet",r)}}function Ug(n,e){n&1&&(Y(0,"div",22),_t(1,4),q())}function zg(n,e){n&1&&(Y(0,"div",23),_t(1,5),q())}function Hg(n,e){n&1&&Ce(0,"div",12)}function Wg(n,e){if(n&1&&(Y(0,"div",24),_t(1,6),q()),n&2){let r=he();ce("@transitionMessages",r._subscriptAnimationState)}}function Gg(n,e){if(n&1&&(Y(0,"mat-hint",26),re(1),q()),n&2){let r=he(2);ce("id",r._hintLabelId),oe(),$n(r.hintLabel)}}function $g(n,e){if(n&1&&(Y(0,"div",25),xe(1,Gg,2,2,"mat-hint",26),_t(2,7),Ce(3,"div",27),_t(4,8),q()),n&2){let r=he();ce("@transitionMessages",r._subscriptAnimationState),oe(),at(1,r.hintLabel?1:-1)}}var qg=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Xg=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"],_h=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Oe({type:e,selectors:[["mat-label"]],standalone:!0});let n=e;return n})();var Yg=new Se("MatError");var Kg=0,vh=(()=>{let e=class e{constructor(){this.align="start",this.id=`mat-mdc-hint-${Kg++}`}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Oe({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,s){i&2&&(qr("id",s.id),Rt("align",null),xt("mat-mdc-form-field-hint-end",s.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let n=e;return n})(),Zg=new Se("MatPrefix");var Qg=new Se("MatSuffix");var Sh=new Se("FloatingLabelParent"),bh=(()=>{let e=class e{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=ye(gh),this._ngZone=ye(De),this._parent=ye(Sh),this._resizeSubscription=new kt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return Jg(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};e.\u0275fac=function(i){return new(i||e)(le(ze))},e.\u0275dir=Oe({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,s){i&2&&xt("mdc-floating-label--float-above",s.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let n=e;return n})();function Jg(n){let e=n;if(e.offsetParent!==null)return e.scrollWidth;let r=e.cloneNode(!0);r.style.setProperty("position","absolute"),r.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(r);let t=r.scrollWidth;return r.remove(),t}var yh="mdc-line-ripple--active",$s="mdc-line-ripple--deactivating",xh=(()=>{let e=class e{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=s=>{let o=this._elementRef.nativeElement.classList,d=o.contains($s);s.propertyName==="opacity"&&d&&o.remove(yh,$s)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let t=this._elementRef.nativeElement.classList;t.remove($s),t.add(yh)}deactivate(){this._elementRef.nativeElement.classList.add($s)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};e.\u0275fac=function(i){return new(i||e)(le(ze),le(De))},e.\u0275dir=Oe({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let n=e;return n})(),wh=(()=>{let e=class e{constructor(t,i){this._elementRef=t,this._ngZone=i,this.open=!1}ngAfterViewInit(){let t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){!this.open||!t?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};e.\u0275fac=function(i){return new(i||e)(le(ze),le(De))},e.\u0275cmp=Ge({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,s){if(i&1&&wt(Ag,5),i&2){let o;Ke(o=Ze())&&(s._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,s){i&2&&xt("mdc-notched-outline--notched",s.open)},inputs:{open:[ve.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[Ye],attrs:Eg,ngContentSelectors:Sg,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,s){i&1&&(Pi(),Ce(0,"div",0),Y(1,"div",1,2),_t(3),q(),Ce(4,"div",3))},encapsulation:2,changeDetection:0});let n=e;return n})(),e_={transitionMessages:qn("transitionMessages",[Qr("enter",$i({opacity:1,transform:"translateY(0%)"})),gn("void => enter",[$i({opacity:0,transform:"translateY(-5px)"}),Xn("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},gl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Oe({type:e});let n=e;return n})();var _l=new Se("MatFormField"),t_=new Se("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Ch=0,Ah="fill",i_="auto",Eh="fixed",n_="translateY(-50%)",qs=(()=>{let e=class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Va(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||i_}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){let i=this._appearance,s=t||this._defaults?.appearance||Ah;this._appearance=s,this._appearance==="outline"&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||Eh}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||Eh}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,s,o,d,_,u,c){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=s,this._dir=o,this._platform=d,this._defaults=_,this._animationMode=u,this._hideRequiredMarker=!1,this.color="primary",this._appearance=Ah,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${Ch++}`,this._hintLabelId=`mat-mdc-hint-${Ch++}`,this._subscriptAnimationState="",this._destroyed=new Re,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,_&&(_.appearance&&(this.appearance=_.appearance),this._hideRequiredMarker=!!_?.hideRequiredMarker,_.color&&(this.color=_.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){let t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Me(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Ci(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Me(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Me(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){let i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let i=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,s=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),s&&t.push(s.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;let t=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){t.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdateOnStable=!0;return}let i=this._iconPrefixContainer?.nativeElement,s=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,d=s?.getBoundingClientRect().width??0,_=this._dir.value==="rtl"?"-1":"1",u=`${o+d}px`,a=`calc(${_} * (${u} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;t.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${n_} translateX(${a})
    )`}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}};e.\u0275fac=function(i){return new(i||e)(le(ze),le(Zt),le(De),le(Ji),le(Tt),le(t_,8),le(mi,8),le(Ne))},e.\u0275cmp=Ge({type:e,selectors:[["mat-form-field"]],contentQueries:function(i,s,o){if(i&1&&(Vt(o,_h,5),Vt(o,_h,7),Vt(o,gl,5),Vt(o,Zg,5),Vt(o,Qg,5),Vt(o,Yg,5),Vt(o,vh,5)),i&2){let d;Ke(d=Ze())&&(s._labelChildNonStatic=d.first),Ke(d=Ze())&&(s._labelChildStatic=d.first),Ke(d=Ze())&&(s._formFieldControl=d.first),Ke(d=Ze())&&(s._prefixChildren=d),Ke(d=Ze())&&(s._suffixChildren=d),Ke(d=Ze())&&(s._errorChildren=d),Ke(d=Ze())&&(s._hintChildren=d)}},viewQuery:function(i,s){if(i&1&&(wt(Pg,5),wt(Tg,5),wt(Mg,5),wt(bh,5),wt(wh,5),wt(xh,5)),i&2){let o;Ke(o=Ze())&&(s._textField=o.first),Ke(o=Ze())&&(s._iconPrefixContainer=o.first),Ke(o=Ze())&&(s._textPrefixContainer=o.first),Ke(o=Ze())&&(s._floatingLabel=o.first),Ke(o=Ze())&&(s._notchedOutline=o.first),Ke(o=Ze())&&(s._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,s){i&2&&xt("mat-mdc-form-field-label-always-float",s._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",s._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",s._hasIconSuffix)("mat-form-field-invalid",s._control.errorState)("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-form-field-no-animations",s._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",s.appearance=="fill")("mat-form-field-appearance-outline",s.appearance=="outline")("mat-form-field-hide-placeholder",s._hasFloatingLabel()&&!s._shouldLabelFloat())("mat-focused",s._control.focused)("mat-primary",s.color!=="accent"&&s.color!=="warn")("mat-accent",s.color==="accent")("mat-warn",s.color==="warn")("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[ft([{provide:_l,useExisting:e},{provide:Sh,useExisting:e}]),Ye],ngContentSelectors:Xg,decls:18,vars:21,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],["class","mat-mdc-form-field-icon-prefix"],["class","mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],["class","mat-mdc-form-field-text-suffix"],["class","mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,s){if(i&1&&(Pi(qg),xe(0,Rg,1,1,"ng-template",null,0,Gl),Y(2,"div",1,2),Ae("click",function(d){return s._control.onContainerClick(d)}),xe(4,kg,1,0,"div",3),Y(5,"div",4),xe(6,Lg,2,2,"div",5)(7,Ng,3,0,"div",6)(8,Vg,3,0,"div",7),Y(9,"div",8),xe(10,Bg,1,1,null,9),_t(11),q(),xe(12,Ug,2,0,"div",10)(13,zg,2,0,"div",11),q(),xe(14,Hg,1,0,"div",12),q(),Y(15,"div",13),xe(16,Wg,2,1)(17,$g,5,2),q()),i&2){let o;oe(2),xt("mdc-text-field--filled",!s._hasOutline())("mdc-text-field--outlined",s._hasOutline())("mdc-text-field--no-label",!s._hasFloatingLabel())("mdc-text-field--disabled",s._control.disabled)("mdc-text-field--invalid",s._control.errorState),oe(2),at(4,!s._hasOutline()&&!s._control.disabled?4:-1),oe(2),at(6,s._hasOutline()?6:-1),oe(),at(7,s._hasIconPrefix?7:-1),oe(),at(8,s._hasTextPrefix?8:-1),oe(2),at(10,!s._hasOutline()||s._forceDisplayInfixLabel()?10:-1),oe(2),at(12,s._hasTextSuffix?12:-1),oe(),at(13,s._hasIconSuffix?13:-1),oe(),at(14,s._hasOutline()?-1:14),oe(),xt("mat-mdc-form-field-subscript-dynamic-size",s.subscriptSizing==="dynamic"),oe(),at(16,(o=s._getDisplayedMessages())==="error"?16:o==="hint"?17:-1)}},dependencies:[bh,wh,Zl,xh,vh],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[e_.transitionMessages]},changeDetection:0});let n=e;return n})(),Ph=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=He({imports:[ci,rt,Xd,ci]});let n=e;return n})();var r_=["trigger"],s_=["panel"];function o_(n,e){if(n&1&&(Y(0,"span",9),re(1),q()),n&2){let r=he();oe(),$n(r.placeholder)}}function a_(n,e){n&1&&_t(0)}function l_(n,e){if(n&1&&(Y(0,"span",11),re(1),q()),n&2){let r=he(2);oe(),$n(r.triggerValue)}}function c_(n,e){if(n&1&&(Y(0,"span",10),xe(1,a_,1,0)(2,l_,2,1),q()),n&2){let r=he();oe(),at(1,r.customTrigger?1:2)}}function d_(n,e){if(n&1){let r=ut();co(),Ol(),Y(0,"div",12,13),Ae("@transformPanel.done",function(i){qe(r);let s=he();return Xe(s._panelDoneAnimatingStream.next(i.toState))})("keydown",function(i){qe(r);let s=he();return Xe(s._handleKeydown(i))}),_t(2,1),q()}if(n&2){let r=he();Wl("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",r._getPanelTheme(),""),ce("ngClass",r.panelClass)("@transformPanel","showing"),Rt("id",r.id+"-panel")("aria-multiselectable",r.multiple)("aria-label",r.ariaLabel||null)("aria-labelledby",r._getPanelAriaLabelledby())}}var h_=[[["mat-select-trigger"]],"*"],u_=["mat-select-trigger","*"],f_={transformPanelWrap:qn("transformPanelWrap",[gn("* => void",tc("@transformPanel",[ec()],{optional:!0}))]),transformPanel:qn("transformPanel",[Qr("void",$i({opacity:0,transform:"scale(1, 0.8)"})),gn("void => showing",Xn("120ms cubic-bezier(0, 0, 0.2, 1)",$i({opacity:1,transform:"scale(1, 1)"}))),gn("* => void",Xn("100ms linear",$i({opacity:0})))])};var Mh=0,Dh=new Se("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let n=ye(tn);return()=>n.scrollStrategies.reposition()}});function p_(n){return()=>n.scrollStrategies.reposition()}var m_=new Se("MAT_SELECT_CONFIG"),g_={provide:Dh,deps:[tn],useFactory:p_},__=new Se("MatSelectTrigger"),vl=class{constructor(e,r){this.source=e,this.value=r}},Xs=(()=>{let e=class e{_scrollOptionIntoView(t){let i=this.options.toArray()[t];if(i){let s=this.panel.nativeElement,o=ph(t,this.options,this.optionGroups),d=i._getHostElement();t===0&&o===1?s.scrollTop=0:s.scrollTop=mh(d.offsetTop,d.offsetHeight,s.scrollTop,s.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new vl(this,t)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Fe.required)??!1}set required(t){this._required=t,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._selectionModel,this._multiple=t}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,i,s,o,d,_,u,c,a,l,p,f,h,v){this._viewportRuler=t,this._changeDetectorRef=i,this._elementRef=d,this._dir=_,this._parentFormField=a,this.ngControl=l,this._liveAnnouncer=h,this._defaultOptions=v,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(m,E)=>m===E,this._uid=`mat-select-${Mh++}`,this._triggerAriaLabelledBy=null,this._destroy=new Re,this.stateChanges=new Re,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${Mh++}`,this._panelDoneAnimatingStream=new Re,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new Re,this.optionSelectionChanges=jn(()=>{let m=this.options;return m?m.changes.pipe(Ai(m),ht(()=>Ci(...m.map(E=>E.onSelectionChange)))):this._initialized.pipe(ht(()=>this.optionSelectionChanges))}),this.openedChange=new Le,this._openedStream=this.openedChange.pipe(tt(m=>m),ke(()=>{})),this._closedStream=this.openedChange.pipe(tt(m=>!m),ke(()=>{})),this.selectionChange=new Le,this.valueChange=new Le,this._trackedModal=null,this._skipPredicate=m=>this.panelOpen?!1:m.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),v?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=v.typeaheadDebounceInterval),this._errorStateTracker=new Hs(o,l,c,u,this.stateChanges),this._scrollStrategyFactory=f,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(p)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Os(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Hr(),Me(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Me(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Me(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Ai(null),Me(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){let s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?s.setAttribute("aria-labelledby",t):s.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(this._previousControl!==void 0&&i.disabled!==null&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;let i=`${this.id}-panel`;this._trackedModal&&ol(this._trackedModal,"aria-owns",i),th(t,"aria-owns",i),this._trackedModal=t}_clearFromModal(){if(!this._trackedModal)return;let t=`${this.id}-panel`;ol(this._trackedModal,"aria-owns",t),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){let i=t.keyCode,s=i===40||i===38||i===37||i===39,o=i===13||i===32,d=this._keyManager;if(!d.isTyping()&&o&&!vi(t)||(this.multiple||t.altKey)&&s)t.preventDefault(),this.open();else if(!this.multiple){let _=this.selected;d.onKeydown(t);let u=this.selected;u&&_!==u&&this._liveAnnouncer.announce(u.viewValue,1e4)}}_handleOpenKeydown(t){let i=this._keyManager,s=t.keyCode,o=s===40||s===38,d=i.isTyping();if(o&&t.altKey)t.preventDefault(),this.close();else if(!d&&(s===13||s===32)&&i.activeItem&&!vi(t))t.preventDefault(),i.activeItem._selectViaInteraction();else if(!d&&this._multiple&&s===65&&t.ctrlKey){t.preventDefault();let _=this.options.some(u=>!u.disabled&&!u.selected);this.options.forEach(u=>{u.disabled||(_?u.select():u.deselect())})}else{let _=i.activeItemIndex;i.onKeydown(t),this._multiple&&o&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==_&&i.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Dt(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{let i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){let i=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return s.value!=null&&this._compareWith(s.value,t)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return t!==this._value||this._multiple&&Array.isArray(t)?(this.options&&this._setSelectionByValue(t),this._value=t,!0):!1}_getOverlayWidth(t){return this.panelWidth==="auto"?(t instanceof js?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let t of this.options)t._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Bs(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let t=Ci(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Me(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Ci(...this.options.map(i=>i._stateChanges)).pipe(Me(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,i){let s=this._selectionModel.isSelected(t);t.value==null&&!this._multiple?(t.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(t.value)):(s!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())),s!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let t=this.options.toArray();this._selectionModel.sort((i,s)=>this.sortComparator?this.sortComparator(i,s,t):t.indexOf(i)-t.indexOf(s)),this.stateChanges.next()}}_propagateChanges(t){let i;this.multiple?i=this.selected.map(s=>s.value):i=this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){t=i;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let t=this._parentFormField?.getLabelId(),i=t?t+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let t=this._parentFormField?.getLabelId(),i=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}};e.\u0275fac=function(i){return new(i||e)(le(Ir),le(Zt),le(De),le(fh),le(ze),le(Ji,8),le(Fa,8),le(Bt,8),le(_l,8),le(Fi,10),zn("tabindex"),le(Dh),le(sh),le(m_,8))},e.\u0275cmp=Ge({type:e,selectors:[["mat-select"]],contentQueries:function(i,s,o){if(i&1&&(Vt(o,__,5),Vt(o,On,5),Vt(o,ul,5)),i&2){let d;Ke(d=Ze())&&(s.customTrigger=d.first),Ke(d=Ze())&&(s.options=d),Ke(d=Ze())&&(s.optionGroups=d)}},viewQuery:function(i,s){if(i&1&&(wt(r_,5),wt(s_,5),wt(el,5)),i&2){let o;Ke(o=Ze())&&(s.trigger=o.first),Ke(o=Ze())&&(s.panel=o.first),Ke(o=Ze())&&(s._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,s){i&1&&Ae("keydown",function(d){return s._handleKeydown(d)})("focus",function(){return s._onFocus()})("blur",function(){return s._onBlur()}),i&2&&(Rt("id",s.id)("tabindex",s.disabled?-1:s.tabIndex)("aria-controls",s.panelOpen?s.id+"-panel":null)("aria-expanded",s.panelOpen)("aria-label",s.ariaLabel||null)("aria-required",s.required.toString())("aria-disabled",s.disabled.toString())("aria-invalid",s.errorState)("aria-activedescendant",s._getAriaActiveDescendant()),xt("mat-mdc-select-disabled",s.disabled)("mat-mdc-select-invalid",s.errorState)("mat-mdc-select-required",s.required)("mat-mdc-select-empty",s.empty)("mat-mdc-select-multiple",s.multiple))},inputs:{userAriaDescribedBy:[ve.None,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[ve.HasDecoratorInputTransform,"disabled","disabled",nt],disableRipple:[ve.HasDecoratorInputTransform,"disableRipple","disableRipple",nt],tabIndex:[ve.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>t==null?0:vo(t)],hideSingleSelectionIndicator:[ve.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",nt],placeholder:"placeholder",required:[ve.HasDecoratorInputTransform,"required","required",nt],multiple:[ve.HasDecoratorInputTransform,"multiple","multiple",nt],disableOptionCentering:[ve.HasDecoratorInputTransform,"disableOptionCentering","disableOptionCentering",nt],compareWith:"compareWith",value:"value",ariaLabel:[ve.None,"aria-label","ariaLabel"],ariaLabelledby:[ve.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[ve.HasDecoratorInputTransform,"typeaheadDebounceInterval","typeaheadDebounceInterval",vo],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[ft([{provide:gl,useExisting:e},{provide:hl,useExisting:e}]),Qt,It,Ye],ngContentSelectors:u_,decls:11,vars:8,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,s){if(i&1&&(Pi(h_),Y(0,"div",0,1),Ae("click",function(){return s.open()}),Y(3,"div",2),xe(4,o_,2,1,"span",3)(5,c_,3,1),q(),Y(6,"div",4)(7,"div",5),co(),Y(8,"svg",6),Ce(9,"path",7),q()()()(),xe(10,d_,3,9,"ng-template",8),Ae("backdropClick",function(){return s.close()})("attach",function(){return s._onAttached()})("detach",function(){return s.close()})),i&2){let o=Gn(1);oe(3),Rt("id",s._valueId),oe(),at(4,s.empty?4:5),oe(6),ce("cdkConnectedOverlayPanelClass",s._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",s._scrollStrategy)("cdkConnectedOverlayOrigin",s._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",s.panelOpen)("cdkConnectedOverlayPositions",s._positions)("cdkConnectedOverlayWidth",s._overlayWidth)}},dependencies:[js,el,pn],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[f_.transformPanel]},changeDetection:0});let n=e;return n})();var Ys=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=He({providers:[g_],imports:[rt,qd,fl,ci,Fs,Ph,fl,ci]});let n=e;return n})();var Rh=(()=>{let e=class e{constructor(){}createForm(t){let i=new Li({});return t.fields.forEach(s=>{i.addControl(s.id,new Tn(s.value||"",this.getValidators(s)))}),i}getValidators(t){let i=[];return t.required&&i.push(Fe.required),t.min&&i.push(Fe.min(t.min)),t.max&&i.push(Fe.max(t.max)),t.pattern&&i.push(Fe.pattern(t.pattern)),i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Lt=(()=>{let e=class e{constructor(t,i){this.api=t,this.router=i,this.isLoggedInSubject=new yt(JSON.parse(localStorage.getItem("tgsAuthToken"))!==null),this.isLoggedIn=this.isLoggedInSubject.asObservable()}get isUserLoggedIn(){return this.isLoggedInSubject.value}login(t,i){return this.api.postLogin({username:t,password:i}).pipe(it(s=>(localStorage.setItem("tgsUsername",JSON.stringify(s.username)),localStorage.setItem("tgsUserIsAdmin",JSON.stringify(s.isAdmin)),localStorage.setItem("tgsAuthToken",JSON.stringify(s.authToken)),localStorage.setItem("tgsRefreshToken",JSON.stringify(s.refreshToken)),this.isLoggedInSubject.next(!0),s)))}logout(){localStorage.removeItem("tgsUsername"),localStorage.removeItem("tgsUserIsAdmin"),localStorage.removeItem("tgsAuthToken"),localStorage.removeItem("tgsRefreshToken"),this.isLoggedInSubject.next(null),this.router.navigate(["/login"])}refreshToken(){return this.api.refreshAuthToken({refreshToken:this.getRefreshToken(),username:this.getUsername()}).pipe(it(t=>(localStorage.setItem("tgsAuthToken",JSON.stringify(t.authToken)),this.getAuthToken())))}getUsername(){return JSON.parse(localStorage.getItem("tgsUsername"))}isUserAdmin(){return JSON.parse(localStorage.getItem("tgsUserIsAdmin"))}getAuthToken(){return JSON.parse(localStorage.getItem("tgsAuthToken"))}getRefreshToken(){return JSON.parse(localStorage.getItem("tgsRefreshToken"))}};e.\u0275fac=function(i){return new(i||e)(ue(Pt),ue(st))},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function b_(n,e){if(n&1&&(Y(0,"span")(1,"span",8),re(2," Thesis type: "),q(),re(3),Ce(4,"br"),Y(5,"span",8),re(6," Thesis degree: "),q(),re(7),q()),n&2){let r=he(2);oe(3),Qe(" ",r.jsonConfig.title," "),oe(4),Qe(" ",r.gradingDataService.getThesisDegree()," ")}}function y_(n,e){n&1&&(Y(0,"span",8),re(1,"Create new thesis type"),q())}function x_(n,e){if(n&1&&(Y(0,"span")(1,"span",8),re(2," Edit template for thesis type: "),q(),re(3),q()),n&2){let r=he(3);oe(3),Qe(" ",r.jsonConfig.title," ")}}function w_(n,e){if(n&1&&(Y(0,"span"),xe(1,y_,2,0,"span",9)(2,x_,4,1,"span",5),q()),n&2){let r=he(2);oe(),ce("ngIf",r.originalFormTitle==="New thesis type"),oe(),ce("ngIf",r.originalFormTitle!=="New thesis type")}}function C_(n,e){if(n&1&&(Y(0,"span")(1,"span",8),re(2),q()()),n&2){let r=he(2);oe(2),Qe(" ",r.jsonConfig.title," ")}}function A_(n,e){if(n&1&&(Y(0,"div",7),xe(1,b_,8,2,"span",5)(2,w_,3,2,"span",5)(3,C_,3,1,"span",5),q()),n&2){let r=he();oe(),ce("ngIf",r.jsonConfig.task==="grading"),oe(),ce("ngIf",r.jsonConfig.task==="editTemplate"),oe(),ce("ngIf",r.jsonConfig.task==="changeUserList")}}function E_(n,e){n&1&&(cn(0),Ce(1,"hr",15)(2,"br"),dn())}function S_(n,e){if(n&1&&(cn(0),Y(1,"h3",16),re(2),q(),Y(3,"p"),re(4),q(),dn()),n&2){let r=he().$implicit;oe(2),Qe(" ",r.heading," "),oe(2),Qe(" ",r.infotext," ")}}function P_(n,e){if(n&1){let r=ut();Y(0,"div",17)(1,"div",18)(2,"button",19),Ae("click",function(){qe(r);let i=he().$implicit,s=he();return Xe(s.deleteUser(i.id))}),re(3," Delete user "),q()(),Y(4,"label"),re(5," User: "),q(),re(6),q()}if(n&2){let r=he().$implicit;oe(6),Qe(" ",r.value," ")}}function T_(n,e){n&1&&(Y(0,"span",24),re(1,"*"),q())}function M_(n,e){if(n&1){let r=ut();Y(0,"div",18)(1,"button",25),Ae("click",function(){qe(r);let i=he(2).$implicit,s=he();return Xe(s.deleteTemplatePart("option",i.id))}),re(2," Delete option "),q()()}}function D_(n,e){if(n&1){let r=ut();Y(0,"div",18)(1,"button",25),Ae("click",function(){qe(r);let i=he(2).$implicit,s=he();return Xe(s.addOption(i.id,i.newOptionCounter))}),re(2," Add text for rubric "),q(),Y(3,"button",26),Ae("click",function(){qe(r);let i=he(2).$implicit,s=he();return Xe(s.deleteTemplatePart("rubric",i.id))}),re(4," Delete rubric "),q()()}}function I_(n,e){if(n&1){let r=ut();Y(0,"div",17)(1,"label",20),re(2),xe(3,T_,2,0,"span",21),q(),Y(4,"input",22),Ae("input",function(){qe(r);let i=he().$implicit,s=he();return Xe(i.id.includes("points")?s.changePoints(i.id):"")}),q(),xe(5,M_,3,0,"div",23)(6,D_,5,0,"div",23),q()}if(n&2){let r=he().$implicit;oe(2),Qe(" ",r.label," "),oe(),ce("ngIf",r.required),oe(),ce("formControlName",r.id)("required",r.required)("placeholder",r.placeholder?r.placeholder:""),oe(),ce("ngIf",r.deleteOption),oe(),ce("ngIf",r.newOptionCounter)}}function R_(n,e){n&1&&(Y(0,"span",24),re(1,"*"),q())}function k_(n,e){n&1&&(Y(0,"span",30),re(1," [max 320 characters] "),q())}function O_(n,e){if(n&1&&(Y(0,"div",17)(1,"label",27),re(2),xe(3,R_,2,0,"span",21),q(),xe(4,k_,2,0,"span",28),Ce(5,"input",29),q()),n&2){let r=he().$implicit;oe(2),Qe(" ",r.label," "),oe(),ce("ngIf",r.required),oe(),ce("ngIf",r.id==="thesisTitle"),oe(),ce("formControlName",r.id)("required",r.required)("placeholder",r.placeholder?r.placeholder:"")("maxlength",r.id==="thesisTitle"?320:"")}}function F_(n,e){n&1&&(Y(0,"p",36),re(1," New password and confirm new password are not identical. "),q())}function L_(n,e){if(n&1){let r=ut();Y(0,"div",17)(1,"label",31),re(2),q(),Y(3,"input",32),Ae("input",function(){qe(r);let i=he().$implicit,s=he();return s.setPasswortFieldsToRequired(),Xe(i.id!=="oldPassword"?s.checkPasswordMatch():"")}),q(),Y(4,"p",33)(5,"input",34),Ae("click",function(){qe(r);let i=he().$implicit,s=he();return Xe(s.changeVisibilityOfPassword(i.id))}),q(),Y(6,"small"),re(7,"Show/Hide Password "),q()(),xe(8,F_,2,0,"p",35),q()}if(n&2){let r=he().$implicit,t=he();oe(),ce("id",r.id+"Label"),oe(),Qe(" ",r.label," "),oe(),ce("formControlName",r.id)("id",r.id)("required",r.required)("placeholder",r.placeholder?r.placeholder:""),oe(5),ce("ngIf",!t.passwordsMatching&&r.id==="confirmNewPassword")}}function N_(n,e){n&1&&(Y(0,"span",24),re(1,"*"),q())}function V_(n,e){if(n&1&&(Y(0,"div",17)(1,"label",20),re(2),xe(3,N_,2,0,"span",21),q(),Ce(4,"input",37),q()),n&2){let r=he().$implicit;oe(2),Qe(" ",r.label," "),oe(),ce("ngIf",r.required),oe(),ce("formControlName",r.id)("required",r.required)}}function j_(n,e){n&1&&(Y(0,"span",24),re(1,"*"),q())}function B_(n,e){if(n&1&&(Y(0,"div",17)(1,"label",20),re(2),xe(3,j_,2,0,"span",21),q(),Ce(4,"input",38),q()),n&2){let r=he().$implicit;oe(2),Qe(" ",r.label," "),oe(),ce("ngIf",r.required),oe(),ce("formControlName",r.id)("required",r.required)}}function U_(n,e){n&1&&(Y(0,"span",24),re(1,"*"),q())}function z_(n,e){if(n&1&&(Y(0,"div",17)(1,"label",20),re(2),xe(3,U_,2,0,"span",21),q(),Ce(4,"input",39),q()),n&2){let r=he().$implicit;oe(2),Qe(" ",r.label," "),oe(),ce("ngIf",r.required),oe(),ce("formControlName",r.id)("required",r.required)}}function H_(n,e){n&1&&(Y(0,"span",24),re(1,"*"),q())}function W_(n,e){n&1&&(Y(0,"span",30),re(1," [max 1600 characters] "),q())}function G_(n,e){if(n&1&&(Y(0,"div",17)(1,"label",40),re(2),xe(3,H_,2,0,"span",21),q(),xe(4,W_,2,0,"span",28),Y(5,"textarea",41),re(6,"          "),q()()),n&2){let r=he().$implicit;oe(2),Qe(" ",r.label," "),oe(),ce("ngIf",r.required),oe(),ce("ngIf",r.id==="Conclusion"),oe(),ce("formControlName",r.id)("placeholder",r.placeholder?r.placeholder:"")("required",r.required)("maxlength",r.id==="Conclusion"?1600:"")}}function $_(n,e){n&1&&(Y(0,"span"),re(1," Admin "),q())}function q_(n,e){n&1&&(Y(0,"span"),re(1," User "),q())}function X_(n,e){if(n&1){let r=ut();Y(0,"div",17)(1,"div",18)(2,"button",19),Ae("click",function(){qe(r);let i=he().$implicit,s=he();return Xe(s.changeRole(i.id))}),re(3," Change user role "),q()(),Y(4,"label"),re(5," Current role: "),q(),Y(6,"div"),xe(7,$_,2,0,"span",5)(8,q_,2,0,"span",5),q()()}if(n&2){let r=he().$implicit;oe(7),ce("ngIf",r.isAdmin),oe(),ce("ngIf",!r.isAdmin)}}function Y_(n,e){n&1&&(Y(0,"span",24),re(1,"*"),q())}function K_(n,e){if(n&1&&(Y(0,"mat-option",46),re(1),q()),n&2){let r=e.$implicit;ce("value",r.value),oe(),Qe(" ",r.label," ")}}function Z_(n,e){if(n&1){let r=ut();Y(0,"div",42)(1,"label",20),re(2),xe(3,Y_,2,0,"span",21),q(),Y(4,"mat-form-field",43)(5,"mat-select",44),Ae("selectionChange",function(){qe(r);let i=he().$implicit,s=he();return Xe(s.setVisibilityAndValueForPointsAndText(i.id))}),xe(6,K_,2,2,"mat-option",45),q()()()}if(n&2){let r=he().$implicit;oe(2),Qe(" ",r.label," "),oe(),ce("ngIf",r.required),oe(2),ce("formControlName",r.id)("required",r.required)("placeholder",r.placeholder),oe(),ce("ngForOf",r.options)}}function Q_(n,e){n&1&&(Y(0,"span",24),re(1,"*"),q())}function J_(n,e){n&1&&(Y(0,"div",36),re(1," Only positive integers and numbers with .5 decimal without spaces are allowed. "),q())}function ev(n,e){if(n&1&&(Y(0,"div",36),re(1),q()),n&2){let r=he(4).$implicit;oe(),Qe(" The points are to high. Allowed are maximum ",r.max," points. ")}}function tv(n,e){if(n&1&&(Y(0,"div",52),xe(1,J_,2,0,"div",35)(2,ev,2,1,"div",35),q()),n&2){let r=he(3).$implicit,t=he(),i,s;ce("ngClass","error"),oe(),ce("ngIf",(i=t.dynamicForm.get(r.id))==null?null:i.hasError("pattern")),oe(),ce("ngIf",(s=t.dynamicForm.get(r.id))==null?null:s.hasError("max"))}}function iv(n,e){if(n&1){let r=ut();Y(0,"div",48)(1,"label",20),re(2),xe(3,Q_,2,0,"span",21),q(),Y(4,"button",49),Ae("click",function(){qe(r);let i=he(2).$implicit,s=he();return Xe(s.addOrSubtractPoints(i.id,"sub"))}),re(5,"-"),q(),Y(6,"input",50),Ae("input",function(){qe(r);let i=he(2).$implicit,s=he();return Xe(s.changePoints(i.id))}),q(),Y(7,"button",49),Ae("click",function(){qe(r);let i=he(2).$implicit,s=he();return Xe(s.addOrSubtractPoints(i.id,"add"))}),re(8,"+"),q(),xe(9,tv,3,3,"div",51),q()}if(n&2){let r=he(2).$implicit,t=he(),i;ce("id",r.id),oe(2),Qe(" ",r.label," "),oe(),ce("ngIf",r.required),oe(3),ce("formControlName",r.id)("placeholder",r.placeholder)("required",r.required),oe(3),ce("ngIf",(i=t.dynamicForm.get(r.id))==null?null:i.errors)}}function nv(n,e){if(n&1&&(Y(0,"div"),xe(1,iv,10,7,"div",47),q()),n&2){let r=he().$implicit;oe(),ce("ngIf",r.visible)}}function rv(n,e){n&1&&(Y(0,"span",24),re(1,"*"),q())}function sv(n,e){if(n&1&&(Y(0,"div",48)(1,"label",27),re(2),xe(3,rv,2,0,"span",21),q(),Y(4,"span",18),re(5," [max 2750 characters] "),q(),Y(6,"textarea",53),re(7,"            "),q()()),n&2){let r=he(2).$implicit;ce("id",r.id),oe(2),Qe(" ",r.label," "),oe(),ce("ngIf",r.required),oe(3),ce("formControlName",r.id)("placeholder",r.placeholder)("required",r.required)}}function ov(n,e){if(n&1&&(Y(0,"div"),xe(1,sv,8,6,"div",47),q()),n&2){let r=he().$implicit;oe(),ce("ngIf",r.visible)}}function av(n,e){n&1&&(Y(0,"span"),Ce(1,"button",54),q())}function lv(n,e){if(n&1){let r=ut();Y(0,"span")(1,"button",55),Ae("click",function(){qe(r);let i=he(3);return Xe(i.deleteTemplate())}),re(2," Delete thesis type "),q()()}}function cv(n,e){if(n&1){let r=ut();Y(0,"div",18)(1,"button",25),Ae("click",function(){qe(r);let i=he().$implicit,s=he();return Xe(s.addRubric(i.newRubricCounter))}),re(2,"Add new rubric"),q(),xe(3,av,2,0,"span",5)(4,lv,3,0,"span",5),q()}if(n&2){let r=he(2);oe(3),ce("ngIf",r.originalFormTitle==="New thesis type"),oe(),ce("ngIf",r.originalFormTitle!=="New thesis type")}}function dv(n,e){if(n&1&&(Y(0,"div"),cn(1,10),xe(2,E_,3,0,"ng-container",11)(3,S_,5,2,"ng-container",11)(4,P_,7,1,"div",12)(5,I_,7,7,"div",12)(6,O_,6,7,"div",12)(7,L_,9,7,"div",12)(8,V_,5,4,"div",12)(9,B_,5,4,"div",12)(10,z_,5,4,"div",12)(11,G_,7,7,"div",12)(12,X_,9,2,"div",12)(13,Z_,7,6,"div",13)(14,nv,2,1,"div",11)(15,ov,2,1,"div",11)(16,cv,5,2,"div",14),dn(),q()),n&2){let r=e.$implicit;oe(),ce("ngSwitch",r.type),oe(),ce("ngSwitchCase","line"),oe(),ce("ngSwitchCase","info"),oe(),ce("ngSwitchCase","username"),oe(),ce("ngSwitchCase","text"),oe(),ce("ngSwitchCase","longtext"),oe(),ce("ngSwitchCase","password"),oe(),ce("ngSwitchCase","number"),oe(),ce("ngSwitchCase","date"),oe(),ce("ngSwitchCase","time"),oe(),ce("ngSwitchCase","textarea"),oe(),ce("ngSwitchCase","admin"),oe(),ce("ngSwitchCase","select"),oe(),ce("ngSwitchCase","points"),oe(),ce("ngSwitchCase","editarea"),oe(),ce("ngSwitchCase","addRubric")}}function hv(n,e){n&1&&(Y(0,"span"),re(1," Generate PDF "),q())}function uv(n,e){n&1&&(Y(0,"span"),re(1," Save edited template "),q())}function fv(n,e){n&1&&(Y(0,"span"),re(1," Save user data "),q())}function pv(n,e){n&1&&(Y(0,"span"),re(1," Save account info "),q())}function mv(n,e){if(n&1&&(Y(0,"div",56)(1,"h3"),re(2," Summed points: "),q(),Y(3,"table")(4,"tr")(5,"td"),re(6," Sum of points: "),q(),Y(7,"td"),re(8),q()(),Y(9,"tr")(10,"td"),re(11," Grade: "),q(),Y(12,"td"),re(13),q()()()()),n&2){let r=he();oe(8),Qe(" ",r.totalPointsAtMoment," "),oe(5),Qe(" ",r.gradeAtMoment," ")}}var Bi=(()=>{let e=class e{constructor(t,i,s,o,d){this.formGeneratorService=t,this.api=i,this.router=s,this.gradingDataService=o,this.authService=d,this.originalFormTitle="",this.listOfPoints=new Array,this.totalPointsAtMoment=0,this.gradeAtMoment="",this.passwordsMatching=!0}ngOnInit(){if(this.dynamicForm=this.formGeneratorService.createForm(this.jsonConfig),this.originalFormTitle=this.jsonConfig.title,this.jsonConfig.task==="grading"){for(let t in this.jsonConfig.fields)if(this.jsonConfig.fields[t].id.includes("points")){let i=[this.jsonConfig.fields[t].id];this.jsonConfig.fields[t].value?i.push(Number(this.jsonConfig.fields[t].value)):i.push(0),this.listOfPoints.push(i)}this.calculatePoints(),this.dynamicForm.valueChanges.subscribe(()=>{this.saveStatusOfForm(),this.gradingDataService.storeGradingData(this.jsonConfig)})}}changeVisibilityOfPassword(t){let i=document.getElementById(t);i?.type==="password"?i.type="text":i.type="password"}setPasswortFieldsToRequired(){let t=document.getElementById("oldPasswordLabel"),i=document.getElementById("newPasswordLabel"),s=document.getElementById("confirmNewPasswordLabel");this.dynamicForm.get("oldPassword")?.getRawValue()!==""||this.dynamicForm.get("newPassword")?.getRawValue()!==""||this.dynamicForm.get("confirmNewPassword")?.getRawValue()!==""?(this.dynamicForm.controls.oldPassword.addValidators(Fe.required),this.dynamicForm.controls.newPassword.addValidators(Fe.required),this.dynamicForm.controls.confirmNewPassword.addValidators(Fe.required),t.innerHTML='Old password: <span style="color:red; font-size:80%">&#42;</span>',i.innerHTML='New password: <span style="color:red; font-size:80%">&#42;</span>',s.innerHTML='Confirm new password: <span style="color:red; font-size:80%">&#42;</span>'):(this.dynamicForm.controls.oldPassword.clearValidators(),this.dynamicForm.controls.newPassword.clearValidators(),this.dynamicForm.controls.confirmNewPassword.clearValidators(),t.innerHTML="Old password:",i.innerHTML="New password:",s.innerHTML="Confirm new password:"),this.dynamicForm.controls.oldPassword.updateValueAndValidity(),this.dynamicForm.controls.newPassword.updateValueAndValidity(),this.dynamicForm.controls.confirmNewPassword.updateValueAndValidity()}checkPasswordMatch(){this.dynamicForm.get("newPassword")?.getRawValue()!==this.dynamicForm.get("confirmNewPassword")?.getRawValue()?(this.passwordsMatching=!1,this.dynamicForm.get("confirmNewPassword")?.setErrors({incorrect:!0})):this.passwordsMatching=!0}setVisibilityAndValueForPointsAndText(t){this.dynamicForm.controls[t+" editarea"].setValue(this.dynamicForm.get(t)?.getRawValue());for(let i of this.jsonConfig.fields){if(i.id===t)for(let s of i.options)s.value===this.dynamicForm.get(t)?.getRawValue()&&(this.dynamicForm.controls[t+" points"].setValue(s.points),this.changePoints(t+" points"));i.id===t+" points"&&(i.visible=!0),i.id===t+" editarea"&&(i.visible=!0)}this.dynamicForm.controls[t+" editarea"].updateValueAndValidity(),this.dynamicForm.controls[t+" points"].updateValueAndValidity()}changePoints(t){if(this.dynamicForm.get(t)?.getRawValue().trim().match(/^\d+([.][5]){0,1}$/))for(let i of this.listOfPoints)i[0]===t&&(i[1]=Number(this.dynamicForm.get(t)?.getRawValue()),this.calculatePoints())}addOrSubtractPoints(t,i){let s=0;this.dynamicForm.get(t)?.getRawValue().trim().match(/^(-)?\d+([.][5]){0,1}$/)?s=Number(this.dynamicForm.get(t)?.getRawValue().trim()):s=Number(this.dynamicForm.get(t)?.getRawValue().split("-")[1].trim()),i==="add"?s+=.5:s-=.5,this.dynamicForm.controls[t].setValue(s.toString()),this.changePoints(t),this.dynamicForm.controls[t].updateValueAndValidity()}calculateGrade(){this.totalPointsAtMoment>95.5?this.gradeAtMoment="1.0 (sehr gut/very good)":this.totalPointsAtMoment>91.5?this.gradeAtMoment="1,3 (sehr gut minus)":this.totalPointsAtMoment>86.5?this.gradeAtMoment="1,7 (gut plus)":this.totalPointsAtMoment>82.5?this.gradeAtMoment="2,0 (gut)":this.totalPointsAtMoment>78.5?this.gradeAtMoment="2,3 (gut minus)":this.totalPointsAtMoment>73.5?this.gradeAtMoment="2,7 (befriedigend plus)":this.totalPointsAtMoment>69.5?this.gradeAtMoment="3,0 (befriedigend)":this.totalPointsAtMoment>63.5?this.gradeAtMoment="3,3 (befriedigend minus)":this.totalPointsAtMoment>58.5?this.gradeAtMoment="3,7 (ausreichend plus)":this.totalPointsAtMoment>49.5?this.gradeAtMoment="4,0 (ausreichend)":this.gradeAtMoment="5,0 (nicht ausreichend)"}calculatePoints(){let t=0;for(let i of this.listOfPoints)i[1].toString().match(/^\d+([.][5]){0,1}$/)&&(t+=i[1]);this.totalPointsAtMoment=t,this.calculateGrade()}saveStatusOfForm(){for(let t of this.jsonConfig.fields)(!t.value||t.value!==this.dynamicForm.controls[t.id].getRawValue())&&t.id!=="line"&&t.id!=="addRubricButton"&&(t.value=this.dynamicForm.controls[t.id].getRawValue())}deleteTemplatePart(t,i){if(confirm("Are you sure to delete the "+t+"?")){let s=0,o=0,d="";t==="rubric"?d=" points max":d=" points",this.saveStatusOfForm();for(let _ of this.jsonConfig.fields)_.id.includes(i.replace(d,""))&&(s=this.jsonConfig.fields.indexOf(_),o++);for(let _=0;_<o;_++)this.jsonConfig.fields.splice(s-o+1,1);t==="rubric"&&this.jsonConfig.fields.splice(s-o,1),this.dynamicForm=this.formGeneratorService.createForm(this.jsonConfig)}}addOption(t,i){let s=0;this.saveStatusOfForm();let o={id:t.replace("points max","option")+i,type:"textarea",label:t.replace("points max","option")+i+":",required:!0,placeholder:"Input text for this new option"},d={id:t.replace("points max","option")+i+" points",type:"text",label:t.replace("points max","option")+i+" points:",required:!0,placeholder:"Set option points",deleteOption:!0};for(let _ of this.jsonConfig.fields)_.id===t&&(s=this.jsonConfig.fields.indexOf(_));this.jsonConfig.fields.splice(s,0,o),this.jsonConfig.fields.splice(s+1,0,d),this.jsonConfig.fields[s+2].newOptionCounter=i+1,this.dynamicForm=this.formGeneratorService.createForm(this.jsonConfig)}addRubric(t){this.saveStatusOfForm();let i={id:"newRubric"+t+" name",type:"longtext",label:"NewRubric"+t+" name:",placeholder:"Give name for new rubric",required:!0},s={id:"newRubric"+t+" option1",type:"textarea",label:"NewRubric"+t+" option1:",placeholder:"Input text for option of new rubric",required:!0},o={id:"newRubric"+t+" option1 points",type:"text",label:"NewRubric"+t+" option1 points:",placeholder:"Set option points",required:!0,deleteOption:!0},d={id:"newRubric"+t+" points max",type:"text",label:"NewRubric"+t+" points max:",placeholder:"Set max points",required:!0,pattern:"[0-9]+([.][5])?",newOptionCounter:2};this.jsonConfig.fields.splice(this.jsonConfig.fields.length-1,0,i),this.jsonConfig.fields.splice(this.jsonConfig.fields.length-1,0,s),this.jsonConfig.fields.splice(this.jsonConfig.fields.length-1,0,o),this.jsonConfig.fields.splice(this.jsonConfig.fields.length-1,0,d),this.jsonConfig.fields.splice(this.jsonConfig.fields.length-1,0,{id:"line",type:"line"});for(let _ of this.jsonConfig.fields)_.id==="addRubricButton"&&(_.newRubricCounter=t+1);this.dynamicForm=this.formGeneratorService.createForm(this.jsonConfig)}deleteTemplate(){confirm("Are you sure to delete the thesis type?")&&this.api.deleteTemplate(this.originalFormTitle).subscribe(()=>location.reload())}deleteUser(t){if(confirm("Are you sure to delete the user?")){let i=0;for(let s of this.jsonConfig.fields)s.id===t&&(i=this.jsonConfig.fields.indexOf(s));for(let s=0;s<3;s++)this.jsonConfig.fields.splice(i,1);this.api.deleteUser(t.replace("fullname","")).subscribe(),this.dynamicForm=this.formGeneratorService.createForm(this.jsonConfig)}}changeRole(t){for(let i of this.jsonConfig.fields)i.id===t&&(i.isAdmin=!i.isAdmin)}onSubmit(t){let i=this.dynamicForm.getRawValue();if(this.dynamicForm.valid){if(t==="grading"&&(i.thesisType=this.gradingDataService.getThesisType(),i.thesisDegree=this.gradingDataService.getThesisDegree(),i.username=this.authService.getUsername(),this.api.postGradingAndGeneratePDF(i).subscribe(()=>{this.router.navigate(["./showGrading"])})),t==="editTemplate"&&(this.originalFormTitle!==i.thesisTitle&&(i.originalThesisTitle=this.originalFormTitle),this.api.editTemplate(i).subscribe(()=>{location.reload()})),t==="changeUserList"){for(let s in i)if(s.includes("IsAdmin"))for(let o of this.jsonConfig.fields)o.id===s&&(i[o.id]=o.isAdmin);this.api.postChangedUserData(i).subscribe(()=>{location.reload()})}t==="editUserData"&&(i.username=this.authService.getUsername(),this.api.postChangedUserData(i).pipe(Ot()).subscribe({next:()=>{alert("User updated successful!"),this.router.navigate(["./generalDataInput"])},error:s=>{alert(s.error.message)}}))}}};e.\u0275fac=function(i){return new(i||e)(le(Rh),le(Pt),le(st),le(li),le(Lt))},e.\u0275cmp=Ge({type:e,selectors:[["app-dynamic-form"]],inputs:{jsonConfig:"jsonConfig"},standalone:!0,features:[Ye],decls:10,vars:9,consts:[[1,"container"],["class","title-text",4,"ngIf"],[1,"formArea",3,"formGroup"],[4,"ngFor","ngForOf"],["type","submit",1,"submit-button",3,"disabled","click"],[4,"ngIf"],["class","gradeBox",4,"ngIf"],[1,"title-text"],[1,"boldSpan"],["class","boldSpan",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","formElement",4,"ngSwitchCase"],["class","formElementSelect",4,"ngSwitchCase"],["class","floatingRight",4,"ngSwitchCase"],[1,"seperationLine"],[1,"title-text","padding-top-10"],[1,"formElement"],[1,"floatingRight"],[1,"button25","margin-top-10",3,"click"],["for","field.id"],["style","color:red; font-size:80%",4,"ngIf"],["type","text",1,"normalSize",3,"formControlName","required","placeholder","input"],["class","floatingRight",4,"ngIf"],[2,"color","red","font-size","80%"],[1,"button25","margin-top-1rem",3,"click"],[1,"button25","margin-top-1rem","margin-left-10",3,"click"],["for","field.id",1,"floatingLeft"],["style","float: right;",4,"ngIf"],["t","","type","text",1,"longSize",3,"formControlName","required","placeholder","maxlength"],[2,"float","right"],[3,"id"],["type","password",1,"longSize",3,"formControlName","id","required","placeholder","input"],[2,"margin-top","5px","margin-bottom","0px"],["type","checkbox",3,"click"],["class","error-message",4,"ngIf"],[1,"error-message"],["type","number",1,"normalSize",3,"formControlName","required"],["type","date",1,"normalSize",3,"formControlName","required"],["type","time",1,"normalSize",3,"formControlName","required"],["for","field.id",2,"float","left"],[3,"formControlName","placeholder","required","maxlength"],[1,"formElementSelect"],["appearance","outline"],["panelClass","custom-select-panel",3,"formControlName","required","placeholder","selectionChange"],["class","option-field",3,"value",4,"ngFor","ngForOf"],[1,"option-field",3,"value"],["class","formElement",3,"id",4,"ngIf"],[1,"formElement",3,"id"],[1,"mathButton",3,"click"],["type","text",1,"smallSize",3,"formControlName","placeholder","required","input"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["maxlength","2750",1,"textarea",3,"formControlName","placeholder","required"],[1,"button25","margin-left-10","margin-top-1rem",2,"visibility","hidden"],[1,"button25","margin-left-10","margin-top-1rem",3,"click"],[1,"gradeBox"]],template:function(i,s){i&1&&(Y(0,"div",0),xe(1,A_,4,3,"div",1),Y(2,"form",2),xe(3,dv,17,16,"div",3),Y(4,"button",4),Ae("click",function(){return s.onSubmit(s.jsonConfig.task)}),xe(5,hv,2,0,"span",5)(6,uv,2,0,"span",5)(7,fv,2,0,"span",5)(8,pv,2,0,"span",5),q()()(),xe(9,mv,14,2,"div",6)),i&2&&(oe(),ce("ngIf",s.jsonConfig.title),oe(),ce("formGroup",s.dynamicForm),oe(),ce("ngForOf",s.jsonConfig.fields),oe(),ce("disabled",s.dynamicForm.invalid),oe(),ce("ngIf",s.jsonConfig.task==="grading"),oe(),ce("ngIf",s.jsonConfig.task==="editTemplate"),oe(),ce("ngIf",s.jsonConfig.task==="changeUserList"),oe(),ce("ngIf",s.jsonConfig.task==="editUserData"),oe(),ce("ngIf",s.jsonConfig.task==="grading"))},dependencies:[rt,pn,mn,Ft,Yl,Kl,$t,ai,ri,Cr,si,oi,Ar,Er,Bt,Jt,Ys,qs,Xs,On],styles:[`.container{float:left;margin-left:20px;margin-bottom:15px}.title-text{color:#444;margin-top:0;margin-bottom:10px}.padding-top-10{padding-top:10px}.boldSpan{font-size:large;font-weight:600}.formArea{width:760px;padding:10px;border:1px solid #6699cc;border-radius:5px;margin-bottom:10px;background-color:#e4edf6}.formElement{width:760px;display:inline-block;margin-bottom:10px}.formElementSelect{width:800px;display:inline-block;margin-bottom:-10px}.formElement>label,.formElementSelect>label{display:block;font-size:.9rem;padding-bottom:3px;font-style:italic}.formElement>input{height:42px;font-size:16px;padding-left:10px}.mathButton{width:40px;height:40px;background-color:#c6d9ec;border:1px solid #6699cc;border-radius:5px;font-size:larger}.smallSize{width:230px;margin-left:5px;margin-right:5px}.normalSize{width:320px}.longSize{width:740px}.seperationLine{height:5px;border-top:1px solid #6699cc;border-bottom:2px solid #6699cc;border-right:0px;border-left:0px;margin-bottom:0}.formElementSelect>mat-form-field{width:760px}.option-field:hover{background-color:#c6d9ec!important}.formElement>textarea{width:735px;min-width:735px;max-width:735px;height:160px;padding-left:10px;padding-right:10px;padding-top:5px;font-size:16px}.textarea{margin-bottom:10px}.gradeBox{float:right;background-color:#c6d9ec;border:1px solid #6699cc;border-radius:5px;width:350px;height:100px;padding-bottom:10px;margin-right:10px;margin-left:75px;margin-top:42px;position:sticky;top:calc(100vh - 137px)}.gradeBox h3{color:#444;padding-top:0;padding-left:10px}.gradeBox table{border-spacing:10px 0px}.button25{background-color:#c6d9ec;border:1px solid #6699cc;border-radius:5px;color:#000;height:2rem;width:10rem}.margin-top-1rem{margin-top:1rem}.margin-left-10{margin-left:10px}.floatingLeft{float:left}.floatingRight{float:right}.submit-button{background-color:#69c;padding:5px;border-radius:5px;color:#000;margin-top:1rem;height:2rem;width:10rem;font-size:14px}.submit-button:disabled{background-color:gray;border:none;color:#fff;margin-top:1rem;height:2rem;width:10rem;font-size:14px}.error{height:auto;margin:0;width:759px}.error-message{color:red;border:1px solid red;font-size:.8rem;margin-top:10px;padding:3px}
`],encapsulation:2});let n=e;return n})();function gv(n,e){if(n&1){let r=ut();Y(0,"div")(1,"p",2),re(2," In the following you can decide what to do: "),q(),Y(3,"div")(4,"h3",3),re(5," User management: "),q(),Y(6,"button",4)(7,"a",5),re(8,"Create new user"),q()(),Ce(9,"br")(10,"br"),Y(11,"button",6),Ae("click",function(){qe(r);let i=he();return Xe(i.getUserList())}),re(12," Change user information "),Y(13,"span",7),re(14," \u24D8 "),q()()(),Y(15,"div")(16,"h3",3),re(17," Rubrics management: "),q(),Y(18,"button",6),Ae("click",function(){qe(r);let i=he();return Xe(i.newThesisType())}),re(19," Create new thesis type "),q(),Ce(20,"br")(21,"br"),Y(22,"button",6),Ae("click",function(){qe(r);let i=he();return Xe(i.chooseThesisType())}),re(23," Choose thesis type for editing "),q()()()}}function _v(n,e){if(n&1&&(Y(0,"mat-option",15),re(1),q()),n&2){let r=e.$implicit;ce("value",r.id),oe(),Qe(" ",r.title," ")}}function vv(n,e){if(n&1){let r=ut();Y(0,"div")(1,"p",2),re(2," Please choose which thesis type template you want to edit. "),q(),Y(3,"div",8)(4,"form",9),Ae("ngSubmit",function(){qe(r);let i=he();return Xe(i.getTemplateFromBackend())}),Y(5,"div",10)(6,"mat-form-field",11)(7,"mat-select",12),xe(8,_v,2,2,"mat-option",13),q()()(),Y(9,"button",14),re(10," Edit choosen type "),q()()()()}if(n&2){let r=he();oe(4),ce("formGroup",r.chooseTemplateTypeForm),oe(4),ce("ngForOf",r.thesisTypeList),oe(),ce("disabled",r.chooseTemplateTypeForm.invalid)}}function bv(n,e){if(n&1&&(Y(0,"div"),Ce(1,"app-dynamic-form",16),q()),n&2){let r=he();oe(),ce("jsonConfig",r.formJsonConfig)}}var kh=(()=>{let e=class e{constructor(t,i,s){this.api=t,this.router=i,this.formBuilder=s,this.chooseTemplateTypeForm=this.formBuilder.group({thesisTypeSelect:["",Fe.required]})}getUserList(){this.api.getListOfUsers().subscribe(t=>{this.formJsonConfig=t})}newThesisType(){this.api.getTemplateForEdit("0").subscribe(t=>{this.formJsonConfig=t})}chooseThesisType(){this.api.getTemplateCollection().subscribe(t=>{this.thesisTypeList=t})}getTemplateFromBackend(){this.chooseTemplateTypeForm.valid&&this.api.getTemplateForEdit(this.chooseTemplateTypeForm.get("thesisTypeSelect").value).subscribe(t=>{this.formJsonConfig=t})}};e.\u0275fac=function(i){return new(i||e)(le(Pt),le(st),le(Ni))},e.\u0275cmp=Ge({type:e,selectors:[["app-admin-panel"]],standalone:!0,features:[Ye],decls:5,vars:3,consts:[[1,"headline"],[4,"ngIf"],[1,"margin20"],[1,"subHeadline"],[1,"normalButton"],["routerLink","/register"],[1,"normalButton",3,"click"],["title","Get the list of all users and delete users and/or change their role. All other information can changed by the user itself.","data-toggle","tooltip"],[1,"formArea"],[3,"formGroup","ngSubmit"],[1,"formElementSelect"],["appearance","outline"],["formControlName","thesisTypeSelect","required","true","placeholder","Choose thesis type to edit","panelClass","custom-select-panel"],["class","option-field",3,"value",4,"ngFor","ngForOf"],["type","submit",1,"submit-button",3,"disabled"],[1,"option-field",3,"value"],[3,"jsonConfig"]],template:function(i,s){i&1&&(Y(0,"h1",0),re(1," Admin panel "),q(),xe(2,gv,24,0,"div",1)(3,vv,11,3,"div",1)(4,bv,2,1,"div",1)),i&2&&(oe(2),ce("ngIf",!s.formJsonConfig&&!s.thesisTypeList),oe(),ce("ngIf",s.thesisTypeList&&!s.formJsonConfig),oe(),ce("ngIf",s.formJsonConfig&&s.formJsonConfig.fields!=null))},dependencies:[ed,rt,mn,Ft,Bi,$t,ai,si,oi,Ar,Bt,Jt,Ys,qs,Xs,On],styles:[".subHeadline[_ngcontent-%COMP%]{color:#444;margin-left:20px}p[_ngcontent-%COMP%]{margin-left:20px}.normalButton[_ngcontent-%COMP%]{background-color:#69c;padding:8px;border-radius:5px;margin-left:20px;width:200px}.normalButton[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#000;text-decoration:none}.formArea[_ngcontent-%COMP%]{width:760px;padding:10px;border:1px solid #6699cc;border-radius:5px;margin-bottom:10px;background-color:#e4edf6;margin-left:20px}.formElementSelect[_ngcontent-%COMP%]{width:800px;display:inline-block;margin-bottom:-10px}.formElementSelect[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{width:760px}.option-field[_ngcontent-%COMP%]:hover{background-color:#c6d9ec!important}.submit-button[_ngcontent-%COMP%]{background-color:#69c;padding:5px;border-radius:5px;color:#000;margin-top:1rem;height:2rem;width:10rem;font-size:14px}.submit-button[_ngcontent-%COMP%]:disabled{background-color:gray;border:none;color:#fff;margin-top:1rem;height:2rem;width:10rem;font-size:14px}"]});let n=e;return n})();function yv(n,e){if(n&1&&(Y(0,"div",2),Ce(1,"app-dynamic-form",3),q()),n&2){let r=he();oe(),ce("jsonConfig",r.formJsonConfig)}}var Oh=(()=>{let e=class e{constructor(t,i,s){this.api=t,this.router=i,this.gradingDataService=s}ngOnInit(){this.gradingDataService.isGradingDataExisting()?this.formJsonConfig=this.gradingDataService.getGradingData():this.api.getGradingTemplate(this.gradingDataService.getThesisType()).subscribe(t=>{t.fields.unshift({id:"thesisInfo",heading:"Thesis data:",type:"info",infotext:"With the rubrics below you can grade the thesis. Please choose for each rubric the text which fits best and then you can edit this text and the proposed points."}),this.gradingDataService.isOberseminarSet()&&(t.fields.unshift({id:"oberseminarTime",label:"Oberseminar time:",type:"time",required:!0,value:this.gradingDataService.getOberseminarTime()}),t.fields.unshift({id:"oberseminarDate",label:"Oberseminar date:",type:"date",required:!0,value:this.gradingDataService.getOberseminarDate()})),t.fields.unshift({id:"thesisTitle",label:"Thesis title:",type:"longtext",required:!0,pattern:'^([A-Za-z0-9\xC4\xE4\xD6\xF6\xDC\xFC\xDF.:,;!?()"%&/ -])+$',value:this.gradingDataService.getThesisTitle()}),t.fields.unshift({id:"matriculationNumber",label:"Matriculation Number:",type:"number",required:!0,min:1e6,max:9999999,value:this.gradingDataService.getMatriculationNumber()}),t.fields.unshift({id:"studentLastName",label:"Lastname:",type:"text",required:!0,value:this.gradingDataService.getStudentLastName()}),t.fields.unshift({id:"studentFirstName",label:"Firstname:",type:"text",required:!0,value:this.gradingDataService.getStudentFirstName()}),t.fields.unshift({id:"thesisInfo",heading:"Student data:",type:"info",infotext:"Here you can edit the student data you put in earlier if necessary."}),this.formJsonConfig=t,this.gradingDataService.storeGradingData(this.formJsonConfig)})}};e.\u0275fac=function(i){return new(i||e)(le(Pt),le(st),le(li))},e.\u0275cmp=Ge({type:e,selectors:[["app-grading-system"]],standalone:!0,features:[Ye],decls:3,vars:1,consts:[[1,"headline"],["class","dynamic-form-container",4,"ngIf"],[1,"dynamic-form-container"],[3,"jsonConfig"]],template:function(i,s){i&1&&(Y(0,"h1",0),re(1,` Thesis Grading
`),q(),xe(2,yv,2,1,"div",1)),i&2&&(oe(2),ce("ngIf",s.formJsonConfig))},dependencies:[rt,Ft,$t,Bi],styles:["table[_ngcontent-%COMP%]{margin-left:20px;border:1px solid #6699cc;border-radius:5px;padding-top:10px;padding-bottom:10px;background-color:#e4edf6;border-spacing:10px 0px}.seperator[_ngcontent-%COMP%]{padding-bottom:10px}.dynamic-form-container[_ngcontent-%COMP%]{display:flex}.sectionLabel[_ngcontent-%COMP%]{margin-bottom:5px;margin-top:5px;font-weight:500;color:#f90}.formArea[_ngcontent-%COMP%]{margin-left:20px;width:580px}.formRow[_ngcontent-%COMP%]{width:550px;display:flex;gap:20px}.formElement[_ngcontent-%COMP%]{width:auto;display:inline-block}.formElement[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:block;font-size:.8rem;padding-bottom:3px}.formElement[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:.8rem;padding-bottom:3px}.formElement[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{height:22px}#studentFirstName[_ngcontent-%COMP%], #studentLastName[_ngcontent-%COMP%]{width:172px}#matriculationNumber[_ngcontent-%COMP%]{width:150px}#thesisTitle[_ngcontent-%COMP%]{width:565px}.error[_ngcontent-%COMP%]{height:auto;margin:0}.error-message[_ngcontent-%COMP%]{color:red;border:1px solid red;font-size:.8rem;margin-top:10px;padding:3px}.floatingLeft[_ngcontent-%COMP%]{float:left}.floatingRight[_ngcontent-%COMP%]{float:right}"]});let n=e;return n})();var Mt=Sl(Uh(),1),At=Sl(zh(),1);var kv=["pdfViewerContainer"];function Ov(n,e){let r=new n.EventBus;return Fv(r,e),r}function Fv(n,e){et(n,"documentload").pipe(Me(e)).subscribe(()=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(r)}),et(n,"pagerendered").pipe(Me(e)).subscribe(({pageNumber:r,cssTransform:t,source:i})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("pagerendered",!0,!0,{pageNumber:r,cssTransform:t}),i.div.dispatchEvent(s)}),et(n,"textlayerrendered").pipe(Me(e)).subscribe(({pageNumber:r,source:t})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:r}),t.textLayerDiv?.dispatchEvent(i)}),et(n,"pagechanging").pipe(Me(e)).subscribe(({pageNumber:r,source:t})=>{let i=document.createEvent("UIEvents");i.initEvent("pagechanging",!0,!0),i.pageNumber=r,t.container.dispatchEvent(i)}),et(n,"pagesinit").pipe(Me(e)).subscribe(({source:r})=>{let t=document.createEvent("CustomEvent");t.initCustomEvent("pagesinit",!0,!0,null),r.container.dispatchEvent(t)}),et(n,"pagesloaded").pipe(Me(e)).subscribe(({pagesCount:r,source:t})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("pagesloaded",!0,!0,{pagesCount:r}),t.container.dispatchEvent(i)}),et(n,"scalechange").pipe(Me(e)).subscribe(({scale:r,presetValue:t,source:i})=>{let s=document.createEvent("UIEvents");s.initEvent("scalechange",!0,!0),s.scale=r,s.presetValue=t,i.container.dispatchEvent(s)}),et(n,"updateviewarea").pipe(Me(e)).subscribe(({location:r,source:t})=>{let i=document.createEvent("UIEvents");i.initEvent("updateviewarea",!0,!0),i.location=r,t.container.dispatchEvent(i)}),et(n,"find").pipe(Me(e)).subscribe(({source:r,type:t,query:i,phraseSearch:s,caseSensitive:o,highlightAll:d,findPrevious:_})=>{if(r===window)return;let u=document.createEvent("CustomEvent");u.initCustomEvent("find"+t,!0,!0,{query:i,phraseSearch:s,caseSensitive:o,highlightAll:d,findPrevious:_}),window.dispatchEvent(u)}),et(n,"attachmentsloaded").pipe(Me(e)).subscribe(({attachmentsCount:r,source:t})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:r}),t.container.dispatchEvent(i)}),et(n,"sidebarviewchanged").pipe(Me(e)).subscribe(({view:r,source:t})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("sidebarviewchanged",!0,!0,{view:r}),t.outerContainer.dispatchEvent(i)}),et(n,"pagemode").pipe(Me(e)).subscribe(({mode:r,source:t})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("pagemode",!0,!0,{mode:r}),t.pdfViewer.container.dispatchEvent(i)}),et(n,"namedaction").pipe(Me(e)).subscribe(({action:r,source:t})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("namedaction",!0,!0,{action:r}),t.pdfViewer.container.dispatchEvent(i)}),et(n,"presentationmodechanged").pipe(Me(e)).subscribe(({active:r,switchInProgress:t})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("presentationmodechanged",!0,!0,{active:r,switchInProgress:t}),window.dispatchEvent(i)}),et(n,"outlineloaded").pipe(Me(e)).subscribe(({outlineCount:r,source:t})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("outlineloaded",!0,!0,{outlineCount:r}),t.container.dispatchEvent(i)})}function Cl(n,e,r){n[e]=r}function Lr(){return typeof window>"u"}Lr()||Cl(Mt,"verbosity",Mt.VerbosityLevel.INFOS);var Al=function(n){return n[n.DISABLED=0]="DISABLED",n[n.ENABLED=1]="ENABLED",n[n.ENHANCED=2]="ENHANCED",n}(Al||{}),Hh=(()=>{class n{element;ngZone;static CSS_UNITS=96/72;static BORDER_WIDTH=9;pdfViewerContainer;eventBus;pdfLinkService;pdfFindController;pdfViewer;isVisible=!1;_cMapsUrl=typeof Mt<"u"?`https://unpkg.com/pdfjs-dist@${Mt.version}/cmaps/`:null;_imageResourcesPath=typeof Mt<"u"?`https://unpkg.com/pdfjs-dist@${Mt.version}/web/images/`:void 0;_renderText=!0;_renderTextMode=Al.ENABLED;_stickToPage=!1;_originalSize=!0;_pdf;_page=1;_zoom=1;_zoomScale="page-width";_rotation=0;_showAll=!0;_canAutoResize=!0;_fitToPage=!1;_externalLinkTarget="blank";_showBorders=!1;lastLoaded;_latestScrolledPage;pageScrollTimeout=null;isInitialized=!1;loadingTask;destroy$=new Re;afterLoadComplete=new Le;pageRendered=new Le;pageInitialized=new Le;textLayerRendered=new Le;onError=new Le;onProgress=new Le;pageChange=new Le(!0);src;set cMapsUrl(r){this._cMapsUrl=r}set page(r){r=parseInt(r,10)||1;let t=r;this._pdf&&(r=this.getValidPageNumber(r)),this._page=r,t!==r&&this.pageChange.emit(r)}set renderText(r){this._renderText=r}set renderTextMode(r){this._renderTextMode=r}set originalSize(r){this._originalSize=r}set showAll(r){this._showAll=r}set stickToPage(r){this._stickToPage=r}set zoom(r){r<=0||(this._zoom=r)}get zoom(){return this._zoom}set zoomScale(r){this._zoomScale=r}get zoomScale(){return this._zoomScale}set rotation(r){if(!(typeof r=="number"&&r%90===0)){console.warn("Invalid pages rotation angle.");return}this._rotation=r}set externalLinkTarget(r){this._externalLinkTarget=r}set autoresize(r){this._canAutoResize=!!r}set fitToPage(r){this._fitToPage=!!r}set showBorders(r){this._showBorders=!!r}static getLinkTarget(r){switch(r){case"blank":return At.LinkTarget.BLANK;case"none":return At.LinkTarget.NONE;case"self":return At.LinkTarget.SELF;case"parent":return At.LinkTarget.PARENT;case"top":return At.LinkTarget.TOP}return null}constructor(r,t){if(this.element=r,this.ngZone=t,Lr())return;let i,s=Mt.version,o=window[`pdfWorkerSrc${s}`];o?i=o:window.hasOwnProperty("pdfWorkerSrc")&&typeof window.pdfWorkerSrc=="string"&&window.pdfWorkerSrc?i=window.pdfWorkerSrc:i=`https://cdn.jsdelivr.net/npm/pdfjs-dist@${s}/legacy/build/pdf.worker.min.js`,Cl(Mt.GlobalWorkerOptions,"workerSrc",i)}ngAfterViewChecked(){if(this.isInitialized)return;let r=this.pdfViewerContainer.nativeElement.offsetParent;if(this.isVisible===!0&&r==null){this.isVisible=!1;return}this.isVisible===!1&&r!=null&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})}))}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(r){if(!(Lr()||!this.isVisible)){if("src"in r)this.loadPDF();else if(this._pdf){if(("renderText"in r||"showAll"in r)&&(this.setupViewer(),this.resetPdfDocument()),"page"in r){let{page:t}=r;if(t.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}}updateSize(){gt(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(Me(this.destroy$)).subscribe({next:r=>{let t=this._rotation+r.rotate,i=r.getViewport({scale:this._zoom,rotation:t}).width*n.CSS_UNITS,s=this._zoom,o=!0;if(!this._originalSize||this._fitToPage&&i>this.pdfViewerContainer.nativeElement.clientWidth){let d=r.getViewport({scale:1,rotation:t});s=this.getScale(d.width,d.height),o=!this._stickToPage}this.pdfViewer.pagesPromise?.then(()=>{this.pdfViewer.currentScale=s,o&&this.pdfViewer.scrollPageIntoView({pageNumber:r.pageNumber,ignoreDestinationZoom:!0})})}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){let r=n.getLinkTarget(this._externalLinkTarget);return r?{externalLinkTarget:r}:{}}initEventBus(){this.eventBus=Ov(At,this.destroy$),et(this.eventBus,"pagerendered").pipe(Me(this.destroy$)).subscribe(r=>{this.pageRendered.emit(r)}),et(this.eventBus,"pagesinit").pipe(Me(this.destroy$)).subscribe(r=>{this.pageInitialized.emit(r)}),et(this.eventBus,"pagechanging").pipe(Me(this.destroy$)).subscribe(({pageNumber:r})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=r,this.pageChange.emit(r)},100)}),et(this.eventBus,"textlayerrendered").pipe(Me(this.destroy$)).subscribe(r=>{this.textLayerRendered.emit(r)})}initPDFServices(){this.pdfLinkService=new At.PDFLinkService(pe({eventBus:this.eventBus},this.getPDFLinkServiceConfig())),this.pdfFindController=new At.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:Al.DISABLED,findController:this.pdfFindController,l10n:new At.GenericL10n("en"),imageResourcesPath:this._imageResourcesPath,annotationEditorMode:Mt.AnnotationEditorType.DISABLE}}setupViewer(){Cl(Mt,"disableTextLayer",!this._renderText),this.initPDFServices(),this._showAll?this.pdfViewer=new At.PDFViewer(this.getPDFOptions()):this.pdfViewer=new At.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(r){return r<1?1:r>this._pdf.numPages?this._pdf.numPages:r}getDocumentParams(){let r=typeof this.src;if(!this._cMapsUrl)return this.src;let t={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return t.isEvalSupported=!1,r==="string"?t.url=this.src:r==="object"&&(this.src.byteLength!==void 0?t.data=this.src:Object.assign(t,this.src)),t}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src){this.update();return}this.clear(),this.setupViewer(),this.loadingTask=Mt.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=t=>{this.onProgress.emit(t)};let r=this.src;gt(this.loadingTask.promise).pipe(Me(this.destroy$)).subscribe({next:t=>{this._pdf=t,this.lastLoaded=r,this.afterLoadComplete.emit(t),this.resetPdfDocument(),this.update()},error:t=>{this.lastLoaded=null,this.onError.emit(t)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(this._rotation!==0||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(r,t){let i=this._showBorders?2*n.BORDER_WIDTH:0,s=this.pdfViewerContainer.nativeElement.clientWidth-i,o=this.pdfViewerContainer.nativeElement.clientHeight-i;if(o===0||t===0||s===0||r===0)return 1;let d=1;switch(this._zoomScale){case"page-fit":d=Math.min(o/t,s/r);break;case"page-height":d=o/t;break;case"page-width":default:d=s/r;break}return this._zoom*d/n.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){Lr()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){Lr()||this.ngZone.runOutsideAngular(()=>{et(window,"resize").pipe(on(100),tt(()=>this._canAutoResize&&!!this._pdf),Me(this.destroy$)).subscribe(()=>{this.updateSize()})})}static \u0275fac=function(t){return new(t||n)(le(ze),le(De))};static \u0275cmp=Ge({type:n,selectors:[["pdf-viewer"]],viewQuery:function(t,i){if(t&1&&wt(kv,5),t&2){let s;Ke(s=Ze())&&(i.pdfViewerContainer=s.first)}},inputs:{src:"src",cMapsUrl:[ve.None,"c-maps-url","cMapsUrl"],page:"page",renderText:[ve.None,"render-text","renderText"],renderTextMode:[ve.None,"render-text-mode","renderTextMode"],originalSize:[ve.None,"original-size","originalSize"],showAll:[ve.None,"show-all","showAll"],stickToPage:[ve.None,"stick-to-page","stickToPage"],zoom:"zoom",zoomScale:[ve.None,"zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:[ve.None,"external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:[ve.None,"fit-to-page","fitToPage"],showBorders:[ve.None,"show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[It],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(t,i){t&1&&(Y(0,"div",0,1),Ce(2,"div",2),q())},styles:[`.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}`]})}return n})(),Wh=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ue({type:n});static \u0275inj=He({})}return n})();function Nv(n,e){if(n&1&&(Y(0,"div",7),Ce(1,"app-dynamic-form",8),q()),n&2){let r=he();oe(),ce("jsonConfig",r.formJsonConfig)}}var Gh=(()=>{let e=class e{constructor(t,i,s,o){this.api=t,this.router=i,this.gradingDataService=s,this.authService=o,this.pdfUrl=""}ngOnInit(){var t="application/pdf";this.api.getPDF(this.authService.getUsername()).subscribe(i=>{var s=new Blob([i],{type:t});this.pdfUrl=window.URL.createObjectURL(s)},i=>{ei(i)})}downloadPDF(){var t=document.createElement("a");t.href=this.pdfUrl,window.open(this.pdfUrl,"_blank")}editData(){this.router.navigate(["/gradingSystem"])}gradeNewThesis(){this.gradingDataService.clearStoredGeneralData(),this.gradingDataService.clearStoredGradingData(),this.router.navigate(["/generalDataInput"])}};e.\u0275fac=function(i){return new(i||e)(le(Pt),le(st),le(li),le(Lt))},e.\u0275cmp=Ge({type:e,selectors:[["app-show-grading"]],standalone:!0,features:[Ye],decls:17,vars:13,consts:[["id","showingContainer"],[1,"headline"],[1,"margin20"],["id","showArea"],[2,"width","55%","height","660px",3,"src","rotation","original-size","show-all","fit-to-page","zoom","zoom-scale","stick-to-page","render-text","external-link-target","autoresize","show-borders"],[1,"normalButton",3,"click"],["class","dynamic-form-container",4,"ngIf"],[1,"dynamic-form-container"],[3,"jsonConfig"]],template:function(i,s){i&1&&(Y(0,"div",0)(1,"h1",1),re(2," PDF file generated "),q(),Y(3,"p",2),re(4," The pdf file shown below can be downloaded with the respective button. "),Ce(5,"br"),re(6," If there are errors in the generated pdf file you can click the button below to edit your inputs and generate a new pdf from the new input. "),q(),Y(7,"div",3),Ce(8,"pdf-viewer",4),q(),Y(9,"div",2)(10,"button",5),Ae("click",function(){return s.downloadPDF()}),re(11,"Download PDF"),q(),Y(12,"button",5),Ae("click",function(){return s.editData()}),re(13,"Edit input"),q(),Y(14,"button",5),Ae("click",function(){return s.gradeNewThesis()}),re(15,"Grade new thesis"),q()()(),xe(16,Nv,2,1,"div",6)),i&2&&(oe(8),ce("src",s.pdfUrl)("rotation",0)("original-size",!1)("show-all",!0)("fit-to-page",!1)("zoom",.98)("zoom-scale","page-width")("stick-to-page",!1)("render-text",!0)("external-link-target","blank")("autoresize",!0)("show-borders",!1),oe(8),ce("ngIf",s.formJsonConfig))},dependencies:[rt,Ft,Wh,Hh,Bi],styles:["#showingContainer[_ngcontent-%COMP%]{margin-bottom:15px}#showArea[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:10px}.normalButton[_ngcontent-%COMP%]{background-color:#69c;padding:8px;border-radius:5px;margin-left:20px;width:200px}.dynamic-form-container[_ngcontent-%COMP%]{display:flex}"]});let n=e;return n})();var $h=(()=>{let e=class e{constructor(t,i,s){this.formBuilder=t,this.router=i,this.authService=s,this.loginInput=this.formBuilder.group({username:["",Fe.required],password:["",Fe.required]})}changeVisibilityOfPassword(){let t=document.getElementById("password");t?.type==="password"?t.type="text":t.type="password"}Login(){this.loginInput.valid&&this.authService.login(this.loginInput.controls.username.value,this.loginInput.controls.password.value).pipe(Ot()).subscribe({next:()=>{this.router.navigate(["./generalDataInput"])},error:()=>{alert("Username or password incorrect.")}})}};e.\u0275fac=function(i){return new(i||e)(le(Ni),le(st),le(Lt))},e.\u0275cmp=Ge({type:e,selectors:[["app-login"]],standalone:!0,features:[Ye],decls:23,vars:1,consts:[[1,"headline"],[1,"margin20"],[1,"formArea"],[3,"formGroup"],[1,"formElement"],["for","username"],["type","text","id","username","formControlName","username"],["for","password"],["type","password","id","password","formControlName","password"],[2,"margin-top","5px"],["type","checkbox",3,"click"],["type","submit","id","submitButton",3,"click"]],template:function(i,s){i&1&&(Y(0,"h1",0),re(1,` Login
`),q(),Y(2,"p",1),re(3," Please log in with your given credentials. You will then be redirected to the grading page. "),Ce(4,"br"),re(5,` If you have admin privileges you can from there also navigate to the admin panel.
`),q(),Y(6,"div",2)(7,"form",3)(8,"div",4)(9,"label",5),re(10," Username: "),q(),Ce(11,"input",6),q(),Y(12,"div",4)(13,"label",7),re(14," Password: "),q(),Ce(15,"input",8),Y(16,"p",9)(17,"input",10),Ae("click",function(){return s.changeVisibilityOfPassword()}),q(),Y(18,"small"),re(19,"Show/Hide Password "),q()()(),Ce(20,"br"),Y(21,"button",11),Ae("click",function(){return s.Login()}),re(22,"Login"),q()()()),i&2&&(oe(7),ce("formGroup",s.loginInput))},dependencies:[uc,$t,ai,ri,si,oi,Bt,Jt,rt],styles:[".formArea[_ngcontent-%COMP%]{margin-left:20px;width:258px;padding:10px;border:1px solid #6699cc;border-radius:5px;margin-bottom:10px;background-color:#e4edf6}.formElement[_ngcontent-%COMP%]{width:200px;margin-bottom:10px;display:inline-block}.formElement[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:block;font-size:.8rem;padding-bottom:3px}.formElement[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{height:22px}#username[_ngcontent-%COMP%], #password[_ngcontent-%COMP%]{width:250px}#submitButton[_ngcontent-%COMP%]{background-color:#69c;padding:8px 43%;border-radius:5px;margin-top:10px}"]});let n=e;return n})();var Ui=(()=>{let e=class e{constructor(t,i){this.router=t,this.authService=i}canActivate(t){return this.authService.isUserLoggedIn?t.data.roles==="admin"&&!this.authService.isUserAdmin()?(this.router.navigate(["/"]),!1):!0:(this.router.navigate(["/login"]),!1)}};e.\u0275fac=function(i){return new(i||e)(ue(st),ue(Lt))},e.\u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var qh=(()=>{let e=class e{constructor(t,i,s){this.formBuilder=t,this.router=i,this.api=s,this.createUserForm=this.formBuilder.group({academicTitle:"",firstName:["",Fe.required],lastName:["",Fe.required],email:["",[Fe.required,Fe.email]],phone:["",Fe.required],website:"",username:["",Fe.required],password:["",Fe.required],isAdmin:["",Fe.required]})}changeVisibilityOfPassword(){let t=document.getElementById("password");t?.type==="password"?t.type="text":t.type="password"}CreateUser(){this.createUserForm.valid&&this.api.postUserRegistration(this.createUserForm.value).pipe(Ot()).subscribe({next:()=>{alert("User created successful!"),this.router.navigate(["./adminPanel"])},error:t=>{alert(t.error.message)}})}};e.\u0275fac=function(i){return new(i||e)(le(Ni),le(st),le(Pt))},e.\u0275cmp=Ge({type:e,selectors:[["app-register"]],standalone:!0,features:[Ye],decls:82,vars:2,consts:[[1,"headline"],[1,"margin20"],[1,"formArea"],[3,"formGroup"],[1,"sectionLabel"],[1,"formSection"],[1,"formRow"],[1,"formElement"],["for","academicTitle"],["type","text","id","academicTitle","formControlName","academicTitle"],["for","firstName"],[2,"color","red","font-size","80%"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],["for","email"],["type","email","id","email","formControlName","email"],["for","phone"],["type","tel","id","phone","formControlName","phone"],["for","website"],["type","url","id","website","formControlName","website"],["for","username"],["type","text","id","username","formControlName","username"],["for","password"],["type","password","id","password","formControlName","password"],[2,"margin-top","5px"],["type","checkbox",3,"click"],[1,"formRow",2,"margin-top","-45px"],["for","isAdmin"],["type","radio","name","isAdmin","formControlName","isAdmin","value","false"],["type","radio","name","isAdmin","formControlName","isAdmin","value","true"],["type","submit",1,"submit-button",3,"disabled","click"]],template:function(i,s){i&1&&(Y(0,"h1",0),re(1,` Create user
`),q(),Y(2,"p",1),re(3,` You can create new users with the form below. Please make sure that this person is allowed to use the program.
`),q(),Y(4,"div",2)(5,"form",3)(6,"h4",4),re(7," Personal data: "),q(),Y(8,"div",5)(9,"div",6)(10,"div",7)(11,"label",8),re(12," Academic title: "),q(),Ce(13,"input",9),q()(),Y(14,"div",6)(15,"div",7)(16,"label",10),re(17," First name: "),Y(18,"span",11),re(19,"*"),q()(),Ce(20,"input",12),q(),Y(21,"div",7)(22,"label",13),re(23," Last name: "),Y(24,"span",11),re(25,"*"),q()(),Ce(26,"input",14),q()(),Y(27,"div",6)(28,"div",7)(29,"label",15),re(30," Email: "),Y(31,"span",11),re(32,"*"),q()(),Ce(33,"input",16),q(),Y(34,"div",7)(35,"label",17),re(36," Phone: "),Y(37,"span",11),re(38,"*"),q()(),Ce(39,"input",18),q()(),Y(40,"div",6)(41,"div",7)(42,"label",19),re(43," Website: "),q(),Ce(44,"input",20),q()()(),Y(45,"h4",4),re(46," Login data: "),q(),Y(47,"div",5)(48,"div",6)(49,"div",7)(50,"label",21),re(51," Username: "),Y(52,"span",11),re(53,"*"),q()(),Ce(54,"input",22),q(),Y(55,"div",7)(56,"label",23),re(57," Password: "),Y(58,"span",11),re(59,"*"),q()(),Ce(60,"input",24),Y(61,"p",25)(62,"input",26),Ae("click",function(){return s.changeVisibilityOfPassword()}),q(),Y(63,"small"),re(64,"Show/Hide Password "),q()()()(),Y(65,"div",27)(66,"div",7)(67,"label",28),re(68," User role: "),Y(69,"span",11),re(70,"*"),q()(),Y(71,"label"),Ce(72,"input",29),re(73," User "),q()(),Y(74,"div",7)(75,"label",28),Ce(76,"br"),q(),Y(77,"label"),Ce(78,"input",30),re(79," Admin "),q()()()(),Y(80,"button",31),Ae("click",function(){return s.CreateUser()}),re(81,"Create user"),q()()()),i&2&&(oe(5),ce("formGroup",s.createUserForm),oe(75),ce("disabled",s.createUserForm.invalid))},dependencies:[$t,ai,ri,La,si,oi,Bt,Jt,rt],styles:[".formArea[_ngcontent-%COMP%]{margin-left:20px;width:580px;margin-bottom:15px}.formSection[_ngcontent-%COMP%]{padding:10px;border:1px solid #6699cc;border-radius:5px;margin-bottom:10px;background-color:#e4edf6}.sectionLabel[_ngcontent-%COMP%]{margin-bottom:5px;margin-top:10px;font-weight:500}.formRow[_ngcontent-%COMP%]{width:550px;display:flex;gap:20px;margin-bottom:10px}.formElement[_ngcontent-%COMP%]{width:auto;display:inline-block}.formElement[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:block;font-size:.8rem;padding-bottom:3px}.formElement[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{height:22px;width:160px}#academicTitle[_ngcontent-%COMP%], #firstName[_ngcontent-%COMP%], #lastName[_ngcontent-%COMP%], #email[_ngcontent-%COMP%], #phone[_ngcontent-%COMP%], #username[_ngcontent-%COMP%], #password[_ngcontent-%COMP%]{width:260px}#street[_ngcontent-%COMP%], #city[_ngcontent-%COMP%]{width:360px}#chairName[_ngcontent-%COMP%], #recipient[_ngcontent-%COMP%], #website[_ngcontent-%COMP%]{width:550px}.submit-button[_ngcontent-%COMP%]{background-color:#69c;padding:5px;border-radius:5px;color:#000;margin-top:1rem;height:2rem;width:10rem;font-size:14px}.submit-button[_ngcontent-%COMP%]:disabled{background-color:gray;border:none;color:#fff;margin-top:1rem;height:2rem;width:10rem;font-size:14px}.error[_ngcontent-%COMP%]{height:auto;margin:0}.error-message[_ngcontent-%COMP%]{color:red;border:1px solid red;font-size:.8rem;margin-top:10px;padding:3px}"]});let n=e;return n})();function Vv(n,e){if(n&1&&(cn(0),Ce(1,"app-dynamic-form",3),dn()),n&2){let r=he();oe(),ce("jsonConfig",r.formJsonConfig)}}var Xh=(()=>{let e=class e{constructor(t,i){this.authService=t,this.api=i}ngOnInit(){this.api.getUserFormForEdit(this.authService.getUsername()).subscribe(t=>{this.formJsonConfig=t})}};e.\u0275fac=function(i){return new(i||e)(le(Lt),le(Pt))},e.\u0275cmp=Ge({type:e,selectors:[["app-edit-account"]],standalone:!0,features:[Ye],decls:5,vars:1,consts:[[1,"headline"],[1,"margin20"],[4,"ngIf"],[3,"jsonConfig"]],template:function(i,s){i&1&&(Y(0,"h1",0),re(1,` Edit account info
`),q(),Y(2,"p",1),re(3,` You can edit your personal information with the form below.
`),q(),xe(4,Vv,2,1,"ng-container",2)),i&2&&(oe(4),ce("ngIf",s.formJsonConfig))},dependencies:[Bi,rt,Ft],encapsulation:2});let n=e;return n})();var Yh=[{path:"login",component:$h,title:"Login page"},{path:"register",component:qh,title:"Create new user",canActivate:[Ui],data:{roles:"admin"}},{path:"editAccount",component:Xh,title:"Edit Account",canActivate:[Ui]},{path:"adminPanel",component:kh,title:"Admin panel",canActivate:[Ui],data:{roles:"admin"}},{path:"gradingSystem",component:Oh,title:"Grading system",canActivate:[Ui]},{path:"showGrading",component:Gh,title:"Show grading",canActivate:[Ui]},{path:"generalDataInput",component:Na,title:"General data input",canActivate:[Ui]},{path:"",component:Na,title:"General data input",canActivate:[Ui]},{path:"**",redirectTo:"login"}];var jv="@",Bv=(()=>{let e=class e{constructor(t,i,s,o,d){this.doc=t,this.delegate=i,this.zone=s,this.animationType=o,this.moduleImpl=d,this._rendererFactoryPromise=null,this.scheduler=ye(Bl,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-QLZN7F6H.js")).catch(i=>{throw new Je(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:s})=>{this._engine=i(this.animationType,this.doc,this.scheduler);let o=new s(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(t,i){let s=this.delegate.createRenderer(t,i);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let o=new El(s);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(d=>{let _=d.createRenderer(t,i);o.use(_)}).catch(d=>{o.use(s)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(i){fo()},e.\u0275prov=be({token:e,factory:e.\u0275fac});let n=e;return n})(),El=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let r of this.replay)r(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,r){return this.delegate.createElement(e,r)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,r){this.delegate.appendChild(e,r)}insertBefore(e,r,t,i){this.delegate.insertBefore(e,r,t,i)}removeChild(e,r,t){this.delegate.removeChild(e,r,t)}selectRootElement(e,r){return this.delegate.selectRootElement(e,r)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,r,t,i){this.delegate.setAttribute(e,r,t,i)}removeAttribute(e,r,t){this.delegate.removeAttribute(e,r,t)}addClass(e,r){this.delegate.addClass(e,r)}removeClass(e,r){this.delegate.removeClass(e,r)}setStyle(e,r,t,i){this.delegate.setStyle(e,r,t,i)}removeStyle(e,r,t){this.delegate.removeStyle(e,r,t)}setProperty(e,r,t){this.shouldReplay(r)&&this.replay.push(i=>i.setProperty(e,r,t)),this.delegate.setProperty(e,r,t)}setValue(e,r){this.delegate.setValue(e,r)}listen(e,r,t){return this.shouldReplay(r)&&this.replay.push(i=>i.listen(e,r,t)),this.delegate.listen(e,r,t)}shouldReplay(e){return this.replay!==null&&e.startsWith(jv)}};function Kh(n="animations"){return Gi([{provide:$r,useFactory:(e,r,t)=>new Bv(e,r,t,n),deps:[Ne,ss,De]},{provide:mi,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Zh=(()=>{let e=class e{constructor(t){this.authService=t,this.isRefreshing=!1,this.refreshTokenSubject=new yt(null)}intercept(t,i){return this.authService.isUserLoggedIn&&(t=this.addToken(t,this.authService.getAuthToken())),i.handle(t).pipe(fi(o=>o instanceof vn&&o.status===403?this.handleForbiddenError(t,i):ei(o)))}addToken(t,i){return t.clone({setHeaders:{Authorization:`Bearer ${i}`}})}handleForbiddenError(t,i){return this.isRefreshing?this.refreshTokenSubject.pipe(tt(s=>s!=null),Dt(1),ht(s=>i.handle(this.addToken(t,s)))):(this.isRefreshing=!0,this.refreshTokenSubject.next(null),this.authService.refreshToken().pipe(ht(s=>(console.log(s),this.isRefreshing=!1,this.refreshTokenSubject.next(s.authToken),i.handle(this.addToken(t,s.authToken)))),fi(s=>(this.isRefreshing=!1,this.authService.logout(),ei(s)))))}};e.\u0275fac=function(i){return new(i||e)(ue(Lt))},e.\u0275prov=be({token:e,factory:e.\u0275fac});let n=e;return n})();var Qh={providers:[td(Yh),To(Mo()),{provide:So,useClass:Zh,multi:!0},Kh()]};function Uv(n,e){if(n&1){let r=ut();Y(0,"button",4),Ae("click",function(){qe(r);let i=he(2);return Xe(i.navigateToAdmin())}),re(1,"Admin panel"),q()}}function zv(n,e){if(n&1){let r=ut();Y(0,"nav",2)(1,"button",3),Ae("click",function(){qe(r);let i=he();return Xe(i.navigateToHome())}),re(2,"Home"),q(),Y(3,"button",4),Ae("click",function(){qe(r);let i=he();return Xe(i.gradeNewThesis())}),re(4,"Grade new thesis"),q(),xe(5,Uv,2,0,"button",5),Y(6,"span",6)(7,"button",7)(8,"a",8),Ae("click",function(){qe(r);let i=he();return Xe(i.editUserData())}),re(9," Account "),q()(),Y(10,"button",7)(11,"a",8),Ae("click",function(){qe(r);let i=he();return Xe(i.logout())}),re(12," Logout "),q()()()()}if(n&2){let r=he();oe(5),ce("ngIf",r.authService.isUserAdmin())}}var Jh=(()=>{let e=class e{constructor(t,i,s){this.authService=t,this.router=i,this.gradingDataService=s,this.isLoggedIn=!1,this.authService.isLoggedIn.subscribe(o=>this.isLoggedIn=o)}navigateToHome(){this.router.url==="/generalDataInput"?location.reload():confirm("Do you want to navigate to home?")&&this.router.navigate(["/generalDataInput"])}gradeNewThesis(){confirm("Do you want to create a new grading and delelte the existing grading data?")&&(this.gradingDataService.clearStoredGeneralData(),this.gradingDataService.clearStoredGradingData(),this.router.navigate(["/generalDataInput"]))}navigateToAdmin(){confirm("Do you want to navigate to admin panel?")&&(this.router.url==="/adminPanel"?location.reload():this.router.navigate(["/adminPanel"]))}editUserData(){confirm("Do you want to navigate to account editing?")&&this.router.navigate(["/editAccount"])}logout(){confirm("Do you want to logout?")&&(this.gradingDataService.clearStoredGeneralData(),this.gradingDataService.clearStoredGradingData(),this.authService.logout())}};e.\u0275fac=function(i){return new(i||e)(le(Lt),le(st),le(li))},e.\u0275cmp=Ge({type:e,selectors:[["app-root"]],standalone:!0,features:[Ye],decls:7,vars:1,consts:[["src","assets/Logo.png","alt","Logo","aria-hidden","true"],["class","navbar",4,"ngIf"],[1,"navbar"],[1,"navButton","margin20",3,"click"],[1,"navButton",3,"click"],["class","navButton",3,"click",4,"ngIf"],[1,"floatingRight"],[1,"navButton"],[3,"click"]],template:function(i,s){i&1&&(Y(0,"header"),Ce(1,"img",0),Y(2,"span"),re(3," ThesisGradingSystem "),q()(),xe(4,zv,13,1,"nav",1),Y(5,"div"),Ce(6,"router-outlet"),q()),i&2&&(oe(4),ce("ngIf",s.isLoggedIn))},dependencies:[va,rt,Ft],styles:["header[_ngcontent-%COMP%]{display:flex;width:100%;height:68px;padding:var(--content-padding);box-shadow:0 5px 25px var(--shadow-color);background-color:#69c}header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:68px;font-size:55px;font-weight:400;text-shadow:2px 2px #777777;padding:0 0 0 30px;margin:0;color:#444}.navbar[_ngcontent-%COMP%]{height:30px;width:100%;background-color:#8cb3d9;padding-top:5px;padding-bottom:5px}.navButton[_ngcontent-%COMP%]{background-color:#79a6d2;height:30px;margin-right:5px;font-size:16px;padding:5px;border:none;border-radius:5px}.navButton[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#000;text-decoration:none}.floatingRight[_ngcontent-%COMP%]{float:right;margin-right:5px}"]});let n=e;return n})();bc(Jh,Qh).catch(n=>console.error(n));
